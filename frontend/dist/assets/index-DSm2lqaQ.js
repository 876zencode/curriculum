var Ih=e=>{throw TypeError(e)};var Pl=(e,t,r)=>t.has(e)||Ih("Cannot "+r);var S=(e,t,r)=>(Pl(e,t,"read from private field"),r?r.call(e):t.get(e)),L=(e,t,r)=>t.has(e)?Ih("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),R=(e,t,r,n)=>(Pl(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),V=(e,t,r)=>(Pl(e,t,"access private method"),r);var wo=(e,t,r,n)=>({set _(s){R(e,t,s,r)},get _(){return S(e,t,n)}});function ym(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function wm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var xm={exports:{}},Za={},_m={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=Symbol.for("react.element"),Xw=Symbol.for("react.portal"),Zw=Symbol.for("react.fragment"),ex=Symbol.for("react.strict_mode"),tx=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),nx=Symbol.for("react.context"),sx=Symbol.for("react.forward_ref"),ix=Symbol.for("react.suspense"),ox=Symbol.for("react.memo"),ax=Symbol.for("react.lazy"),$h=Symbol.iterator;function lx(e){return e===null||typeof e!="object"?null:(e=$h&&e[$h]||e["@@iterator"],typeof e=="function"?e:null)}var bm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sm=Object.assign,Em={};function qs(e,t,r){this.props=e,this.context=t,this.refs=Em,this.updater=r||bm}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function km(){}km.prototype=qs.prototype;function Xc(e,t,r){this.props=e,this.context=t,this.refs=Em,this.updater=r||bm}var Zc=Xc.prototype=new km;Zc.constructor=Xc;Sm(Zc,qs.prototype);Zc.isPureReactComponent=!0;var Lh=Array.isArray,Cm=Object.prototype.hasOwnProperty,ed={current:null},jm={key:!0,ref:!0,__self:!0,__source:!0};function Nm(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Cm.call(t,n)&&!jm.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:io,type:e,key:i,ref:o,props:s,_owner:ed.current}}function ux(e,t){return{$$typeof:io,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function td(e){return typeof e=="object"&&e!==null&&e.$$typeof===io}function cx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Dh=/\/+/g;function Rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cx(""+e.key):t.toString(36)}function ea(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case io:case Xw:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Rl(o,0):n,Lh(s)?(r="",e!=null&&(r=e.replace(Dh,"$&/")+"/"),ea(s,t,r,"",function(u){return u})):s!=null&&(td(s)&&(s=ux(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Lh(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Rl(i,a);o+=ea(i,t,r,l,s)}else if(l=lx(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Rl(i,a++),o+=ea(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function xo(e,t,r){if(e==null)return e;var n=[],s=0;return ea(e,n,"","",function(i){return t.call(r,i,s++)}),n}function dx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},ta={transition:null},hx={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ta,ReactCurrentOwner:ed};function Pm(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:xo,forEach:function(e,t,r){xo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xo(e,function(){t++}),t},toArray:function(e){return xo(e,function(t){return t})||[]},only:function(e){if(!td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=qs;W.Fragment=Zw;W.Profiler=tx;W.PureComponent=Xc;W.StrictMode=ex;W.Suspense=ix;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hx;W.act=Pm;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Sm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ed.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Cm.call(t,l)&&!jm.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:io,type:e.type,key:s,ref:i,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:nx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rx,_context:e},e.Consumer=e};W.createElement=Nm;W.createFactory=function(e){var t=Nm.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:sx,render:e}};W.isValidElement=td;W.lazy=function(e){return{$$typeof:ax,_payload:{_status:-1,_result:e},_init:dx}};W.memo=function(e,t){return{$$typeof:ox,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=ta.transition;ta.transition={};try{e()}finally{ta.transition=t}};W.unstable_act=Pm;W.useCallback=function(e,t){return ze.current.useCallback(e,t)};W.useContext=function(e){return ze.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};W.useEffect=function(e,t){return ze.current.useEffect(e,t)};W.useId=function(){return ze.current.useId()};W.useImperativeHandle=function(e,t,r){return ze.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return ze.current.useMemo(e,t)};W.useReducer=function(e,t,r){return ze.current.useReducer(e,t,r)};W.useRef=function(e){return ze.current.useRef(e)};W.useState=function(e){return ze.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return ze.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return ze.current.useTransition()};W.version="18.3.1";_m.exports=W;var v=_m.exports;const ce=wm(v),el=ym({__proto__:null,default:ce},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=v,px=Symbol.for("react.element"),mx=Symbol.for("react.fragment"),gx=Object.prototype.hasOwnProperty,vx=fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yx={key:!0,ref:!0,__self:!0,__source:!0};function Rm(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)gx.call(t,n)&&!yx.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:px,type:e,key:i,ref:o,props:s,_owner:vx.current}}Za.Fragment=mx;Za.jsx=Rm;Za.jsxs=Rm;xm.exports=Za;var c=xm.exports,_u={},Om={exports:{}},ot={},Tm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,U){var z=O.length;O.push(U);e:for(;0<z;){var G=z-1>>>1,be=O[G];if(0<s(be,U))O[G]=U,O[z]=be,z=G;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var U=O[0],z=O.pop();if(z!==U){O[0]=z;e:for(var G=0,be=O.length,vo=be>>>1;G<vo;){var tn=2*(G+1)-1,Nl=O[tn],rn=tn+1,yo=O[rn];if(0>s(Nl,z))rn<be&&0>s(yo,Nl)?(O[G]=yo,O[rn]=z,G=rn):(O[G]=Nl,O[tn]=z,G=tn);else if(rn<be&&0>s(yo,z))O[G]=yo,O[rn]=z,G=rn;else break e}}return U}function s(O,U){var z=O.sortIndex-U.sortIndex;return z!==0?z:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,_=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=O)n(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(u)}}function b(O){if(y=!1,w(O),!_)if(r(l)!==null)_=!0,fr(E);else{var U=r(u);U!==null&&zn(b,U.startTime-O)}}function E(O,U){_=!1,y&&(y=!1,g(N),N=-1),m=!0;var z=f;try{for(w(U),h=r(l);h!==null&&(!(h.expirationTime>U)||O&&!F());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var be=G(h.expirationTime<=U);U=e.unstable_now(),typeof be=="function"?h.callback=be:h===r(l)&&n(l),w(U)}else n(l);h=r(l)}if(h!==null)var vo=!0;else{var tn=r(u);tn!==null&&zn(b,tn.startTime-U),vo=!1}return vo}finally{h=null,f=z,m=!1}}var k=!1,C=null,N=-1,A=5,j=-1;function F(){return!(e.unstable_now()-j<A)}function D(){if(C!==null){var O=e.unstable_now();j=O;var U=!0;try{U=C(!0,O)}finally{U?K():(k=!1,C=null)}}else k=!1}var K;if(typeof p=="function")K=function(){p(D)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,go=vt.port2;vt.port1.onmessage=D,K=function(){go.postMessage(null)}}else K=function(){x(D,0)};function fr(O){C=O,k||(k=!0,K())}function zn(O,U){N=x(function(){O(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){_||m||(_=!0,fr(E))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var z=f;f=U;try{return O()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=f;f=O;try{return U()}finally{f=z}},e.unstable_scheduleCallback=function(O,U,z){var G=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,O){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=z+be,O={id:d++,callback:U,priorityLevel:O,startTime:z,expirationTime:be,sortIndex:-1},z>G?(O.sortIndex=z,t(u,O),r(l)===null&&O===r(u)&&(y?(g(N),N=-1):y=!0,zn(b,z-G))):(O.sortIndex=be,t(l,O),_||m||(_=!0,fr(E))),O},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(O){var U=f;return function(){var z=f;f=U;try{return O.apply(this,arguments)}finally{f=z}}}})(Am);Tm.exports=Am;var wx=Tm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=v,it=wx;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Im=new Set,Pi={};function Dn(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for(Pi[e]=t,e=0;e<t.length;e++)Im.add(t[e])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=Object.prototype.hasOwnProperty,_x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mh={},Uh={};function bx(e){return bu.call(Uh,e)?!0:bu.call(Mh,e)?!1:_x.test(e)?Uh[e]=!0:(Mh[e]=!0,!1)}function Sx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ex(e,t,r,n){if(t===null||typeof t>"u"||Sx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var rd=/[\-:]([a-z])/g;function nd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rd,nd);Pe[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rd,nd);Pe[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rd,nd);Pe[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function sd(e,t,r,n){var s=Pe.hasOwnProperty(t)?Pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ex(t,r,s,n)&&(r=null),n||s===null?bx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var dr=xx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_o=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),id=Symbol.for("react.strict_mode"),Su=Symbol.for("react.profiler"),$m=Symbol.for("react.provider"),Lm=Symbol.for("react.context"),od=Symbol.for("react.forward_ref"),Eu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),ad=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),Dm=Symbol.for("react.offscreen"),Fh=Symbol.iterator;function ei(e){return e===null||typeof e!="object"?null:(e=Fh&&e[Fh]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,Ol;function ci(e){if(Ol===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||""}return`
`+Ol+e}var Tl=!1;function Al(e,t){if(!e||Tl)return"";Tl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Tl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ci(e):""}function kx(e){switch(e.tag){case 5:return ci(e.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 2:case 15:return e=Al(e.type,!1),e;case 11:return e=Al(e.type.render,!1),e;case 1:return e=Al(e.type,!0),e;default:return""}}function Cu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ts:return"Fragment";case es:return"Portal";case Su:return"Profiler";case id:return"StrictMode";case Eu:return"Suspense";case ku:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lm:return(e.displayName||"Context")+".Consumer";case $m:return(e._context.displayName||"Context")+".Provider";case od:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ad:return t=e.displayName||null,t!==null?t:Cu(e.type)||"Memo";case xr:t=e._payload,e=e._init;try{return Cu(e(t))}catch{}}return null}function Cx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cu(t);case 8:return t===id?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jx(e){var t=Mm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bo(e){e._valueTracker||(e._valueTracker=jx(e))}function Um(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Mm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ju(e,t){var r=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Kr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fm(e,t){t=t.checked,t!=null&&sd(e,"checked",t,!1)}function Nu(e,t){Fm(e,t);var r=Kr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Pu(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Pu(e,t,r){(t!=="number"||ga(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var di=Array.isArray;function fs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Kr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(P(92));if(di(r)){if(1<r.length)throw Error(P(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Kr(r)}}function zm(e,t){var r=Kr(t.value),n=Kr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Wh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var So,Vm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(So=So||document.createElement("div"),So.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=So.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nx=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(e){Nx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gi[t]=gi[e]})});function Wm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gi.hasOwnProperty(e)&&gi[e]?(""+t).trim():t+"px"}function Hm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Wm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Px=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tu(e,t){if(t){if(Px[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=null;function ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $u=null,ps=null,ms=null;function Hh(e){if(e=lo(e)){if(typeof $u!="function")throw Error(P(280));var t=e.stateNode;t&&(t=il(t),$u(e.stateNode,e.type,t))}}function qm(e){ps?ms?ms.push(e):ms=[e]:ps=e}function Km(){if(ps){var e=ps,t=ms;if(ms=ps=null,Hh(e),t)for(e=0;e<t.length;e++)Hh(t[e])}}function Gm(e,t){return e(t)}function Qm(){}var Il=!1;function Jm(e,t,r){if(Il)return e(t,r);Il=!0;try{return Gm(e,t,r)}finally{Il=!1,(ps!==null||ms!==null)&&(Qm(),Km())}}function Oi(e,t){var r=e.stateNode;if(r===null)return null;var n=il(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(P(231,t,typeof r));return r}var Lu=!1;if(ir)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Lu=!1}function Rx(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var vi=!1,va=null,ya=!1,Du=null,Ox={onError:function(e){vi=!0,va=e}};function Tx(e,t,r,n,s,i,o,a,l){vi=!1,va=null,Rx.apply(Ox,arguments)}function Ax(e,t,r,n,s,i,o,a,l){if(Tx.apply(this,arguments),vi){if(vi){var u=va;vi=!1,va=null}else throw Error(P(198));ya||(ya=!0,Du=u)}}function Mn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ym(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qh(e){if(Mn(e)!==e)throw Error(P(188))}function Ix(e){var t=e.alternate;if(!t){if(t=Mn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return qh(s),e;if(i===n)return qh(s),t;i=i.sibling}throw Error(P(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?e:t}function Xm(e){return e=Ix(e),e!==null?Zm(e):null}function Zm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zm(e);if(t!==null)return t;e=e.sibling}return null}var eg=it.unstable_scheduleCallback,Kh=it.unstable_cancelCallback,$x=it.unstable_shouldYield,Lx=it.unstable_requestPaint,de=it.unstable_now,Dx=it.unstable_getCurrentPriorityLevel,ud=it.unstable_ImmediatePriority,tg=it.unstable_UserBlockingPriority,wa=it.unstable_NormalPriority,Mx=it.unstable_LowPriority,rg=it.unstable_IdlePriority,tl=null,Bt=null;function Ux(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(tl,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Bx,Fx=Math.log,zx=Math.LN2;function Bx(e){return e>>>=0,e===0?32:31-(Fx(e)/zx|0)|0}var Eo=64,ko=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=hi(a):(i&=o,i!==0&&(n=hi(i)))}else o=r&~s,o!==0?n=hi(o):i!==0&&(n=hi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nt(t),s=1<<r,n|=e[r],t&=~s;return n}function Vx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Nt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Vx(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Mu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ng(){var e=Eo;return Eo<<=1,!(Eo&4194240)&&(Eo=64),e}function $l(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=r}function Hx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Nt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function cd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Y=0;function sg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ig,dd,og,ag,lg,Uu=!1,Co=[],Dr=null,Mr=null,Ur=null,Ti=new Map,Ai=new Map,br=[],qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gh(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(t.pointerId)}}function ri(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=lo(t),t!==null&&dd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Kx(e,t,r,n,s){switch(t){case"focusin":return Dr=ri(Dr,e,t,r,n,s),!0;case"dragenter":return Mr=ri(Mr,e,t,r,n,s),!0;case"mouseover":return Ur=ri(Ur,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ti.set(i,ri(Ti.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ai.set(i,ri(Ai.get(i)||null,e,t,r,n,s)),!0}return!1}function ug(e){var t=hn(e.target);if(t!==null){var r=Mn(t);if(r!==null){if(t=r.tag,t===13){if(t=Ym(r),t!==null){e.blockedOn=t,lg(e.priority,function(){og(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Iu=n,r.target.dispatchEvent(n),Iu=null}else return t=lo(r),t!==null&&dd(t),e.blockedOn=r,!1;t.shift()}return!0}function Qh(e,t,r){ra(e)&&r.delete(t)}function Gx(){Uu=!1,Dr!==null&&ra(Dr)&&(Dr=null),Mr!==null&&ra(Mr)&&(Mr=null),Ur!==null&&ra(Ur)&&(Ur=null),Ti.forEach(Qh),Ai.forEach(Qh)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,Uu||(Uu=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Gx)))}function Ii(e){function t(s){return ni(s,e)}if(0<Co.length){ni(Co[0],e);for(var r=1;r<Co.length;r++){var n=Co[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Dr!==null&&ni(Dr,e),Mr!==null&&ni(Mr,e),Ur!==null&&ni(Ur,e),Ti.forEach(t),Ai.forEach(t),r=0;r<br.length;r++)n=br[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<br.length&&(r=br[0],r.blockedOn===null);)ug(r),r.blockedOn===null&&br.shift()}var gs=dr.ReactCurrentBatchConfig,_a=!0;function Qx(e,t,r,n){var s=Y,i=gs.transition;gs.transition=null;try{Y=1,hd(e,t,r,n)}finally{Y=s,gs.transition=i}}function Jx(e,t,r,n){var s=Y,i=gs.transition;gs.transition=null;try{Y=4,hd(e,t,r,n)}finally{Y=s,gs.transition=i}}function hd(e,t,r,n){if(_a){var s=Fu(e,t,r,n);if(s===null)Hl(e,t,n,ba,r),Gh(e,n);else if(Kx(s,e,t,r,n))n.stopPropagation();else if(Gh(e,n),t&4&&-1<qx.indexOf(e)){for(;s!==null;){var i=lo(s);if(i!==null&&ig(i),i=Fu(e,t,r,n),i===null&&Hl(e,t,n,ba,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Hl(e,t,n,null,r)}}var ba=null;function Fu(e,t,r,n){if(ba=null,e=ld(n),e=hn(e),e!==null)if(t=Mn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ym(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ba=e,null}function cg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dx()){case ud:return 1;case tg:return 4;case wa:case Mx:return 16;case rg:return 536870912;default:return 16}default:return 16}}var Ir=null,fd=null,na=null;function dg(){if(na)return na;var e,t=fd,r=t.length,n,s="value"in Ir?Ir.value:Ir.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return na=s.slice(e,1<n?1-n:void 0)}function sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function Jh(){return!1}function at(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jo:Jh,this.isPropagationStopped=Jh,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),t}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=at(Ks),ao=ae({},Ks,{view:0,detail:0}),Yx=at(ao),Ll,Dl,si,rl=ae({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(Ll=e.screenX-si.screenX,Dl=e.screenY-si.screenY):Dl=Ll=0,si=e),Ll)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),Yh=at(rl),Xx=ae({},rl,{dataTransfer:0}),Zx=at(Xx),e_=ae({},ao,{relatedTarget:0}),Ml=at(e_),t_=ae({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),r_=at(t_),n_=ae({},Ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s_=at(n_),i_=ae({},Ks,{data:0}),Xh=at(i_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=l_[e])?!!t[e]:!1}function md(){return u_}var c_=ae({},ao,{key:function(e){if(e.key){var t=o_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(e){return e.type==="keypress"?sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d_=at(c_),h_=ae({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zh=at(h_),f_=ae({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),p_=at(f_),m_=ae({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),g_=at(m_),v_=ae({},rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),y_=at(v_),w_=[9,13,27,32],gd=ir&&"CompositionEvent"in window,yi=null;ir&&"documentMode"in document&&(yi=document.documentMode);var x_=ir&&"TextEvent"in window&&!yi,hg=ir&&(!gd||yi&&8<yi&&11>=yi),ef=" ",tf=!1;function fg(e,t){switch(e){case"keyup":return w_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function __(e,t){switch(e){case"compositionend":return pg(t);case"keypress":return t.which!==32?null:(tf=!0,ef);case"textInput":return e=t.data,e===ef&&tf?null:e;default:return null}}function b_(e,t){if(rs)return e==="compositionend"||!gd&&fg(e,t)?(e=dg(),na=fd=Ir=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hg&&t.locale!=="ko"?null:t.data;default:return null}}var S_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S_[e.type]:t==="textarea"}function mg(e,t,r,n){qm(n),t=Sa(t,"onChange"),0<t.length&&(r=new pd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wi=null,$i=null;function E_(e){Cg(e,0)}function nl(e){var t=is(e);if(Um(t))return e}function k_(e,t){if(e==="change")return t}var gg=!1;if(ir){var Ul;if(ir){var Fl="oninput"in document;if(!Fl){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Fl=typeof nf.oninput=="function"}Ul=Fl}else Ul=!1;gg=Ul&&(!document.documentMode||9<document.documentMode)}function sf(){wi&&(wi.detachEvent("onpropertychange",vg),$i=wi=null)}function vg(e){if(e.propertyName==="value"&&nl($i)){var t=[];mg(t,$i,e,ld(e)),Jm(E_,t)}}function C_(e,t,r){e==="focusin"?(sf(),wi=t,$i=r,wi.attachEvent("onpropertychange",vg)):e==="focusout"&&sf()}function j_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl($i)}function N_(e,t){if(e==="click")return nl(t)}function P_(e,t){if(e==="input"||e==="change")return nl(t)}function R_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:R_;function Li(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!bu.call(t,s)||!Ot(e[s],t[s]))return!1}return!0}function of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function af(e,t){var r=of(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=of(r)}}function yg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wg(){for(var e=window,t=ga();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ga(e.document)}return t}function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O_(e){var t=wg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yg(r.ownerDocument.documentElement,r)){if(n!==null&&vd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=af(r,i);var o=af(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var T_=ir&&"documentMode"in document&&11>=document.documentMode,ns=null,zu=null,xi=null,Bu=!1;function lf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bu||ns==null||ns!==ga(n)||(n=ns,"selectionStart"in n&&vd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xi&&Li(xi,n)||(xi=n,n=Sa(zu,"onSelect"),0<n.length&&(t=new pd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ns)))}function No(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ss={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},zl={},xg={};ir&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function sl(e){if(zl[e])return zl[e];if(!ss[e])return e;var t=ss[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xg)return zl[e]=t[r];return e}var _g=sl("animationend"),bg=sl("animationiteration"),Sg=sl("animationstart"),Eg=sl("transitionend"),kg=new Map,uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){kg.set(e,t),Dn(t,[e])}for(var Bl=0;Bl<uf.length;Bl++){var Vl=uf[Bl],A_=Vl.toLowerCase(),I_=Vl[0].toUpperCase()+Vl.slice(1);Qr(A_,"on"+I_)}Qr(_g,"onAnimationEnd");Qr(bg,"onAnimationIteration");Qr(Sg,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(Eg,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$_=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function cf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ax(n,t,void 0,e),e.currentTarget=null}function Cg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;cf(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;cf(s,a,u),i=l}}}if(ya)throw e=Du,ya=!1,Du=null,e}function te(e,t){var r=t[Ku];r===void 0&&(r=t[Ku]=new Set);var n=e+"__bubble";r.has(n)||(jg(t,e,2,!1),r.add(n))}function Wl(e,t,r){var n=0;t&&(n|=4),jg(r,e,n,t)}var Po="_reactListening"+Math.random().toString(36).slice(2);function Di(e){if(!e[Po]){e[Po]=!0,Im.forEach(function(r){r!=="selectionchange"&&($_.has(r)||Wl(r,!1,e),Wl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Po]||(t[Po]=!0,Wl("selectionchange",!1,t))}}function jg(e,t,r,n){switch(cg(t)){case 1:var s=Qx;break;case 4:s=Jx;break;default:s=hd}r=s.bind(null,t,r,e),s=void 0,!Lu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Hl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=hn(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Jm(function(){var u=i,d=ld(r),h=[];e:{var f=kg.get(e);if(f!==void 0){var m=pd,_=e;switch(e){case"keypress":if(sa(r)===0)break e;case"keydown":case"keyup":m=d_;break;case"focusin":_="focus",m=Ml;break;case"focusout":_="blur",m=Ml;break;case"beforeblur":case"afterblur":m=Ml;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=p_;break;case _g:case bg:case Sg:m=r_;break;case Eg:m=g_;break;case"scroll":m=Yx;break;case"wheel":m=y_;break;case"copy":case"cut":case"paste":m=s_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zh}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,w;p!==null;){w=p;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=Oi(p,g),b!=null&&y.push(Mi(p,b,w)))),x)break;p=p.return}0<y.length&&(f=new m(f,_,null,r,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Iu&&(_=r.relatedTarget||r.fromElement)&&(hn(_)||_[or]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(_=r.relatedTarget||r.toElement,m=u,_=_?hn(_):null,_!==null&&(x=Mn(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(y=Yh,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Zh,b="onPointerLeave",g="onPointerEnter",p="pointer"),x=m==null?f:is(m),w=_==null?f:is(_),f=new y(b,p+"leave",m,r,d),f.target=x,f.relatedTarget=w,b=null,hn(d)===u&&(y=new y(g,p+"enter",_,r,d),y.target=w,y.relatedTarget=x,b=y),x=b,m&&_)t:{for(y=m,g=_,p=0,w=y;w;w=Bn(w))p++;for(w=0,b=g;b;b=Bn(b))w++;for(;0<p-w;)y=Bn(y),p--;for(;0<w-p;)g=Bn(g),w--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Bn(y),g=Bn(g)}y=null}else y=null;m!==null&&df(h,f,m,y,!1),_!==null&&x!==null&&df(h,x,_,y,!0)}}e:{if(f=u?is(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=k_;else if(rf(f))if(gg)E=P_;else{E=j_;var k=C_}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=N_);if(E&&(E=E(e,u))){mg(h,E,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Pu(f,"number",f.value)}switch(k=u?is(u):window,e){case"focusin":(rf(k)||k.contentEditable==="true")&&(ns=k,zu=u,xi=null);break;case"focusout":xi=zu=ns=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,lf(h,r,d);break;case"selectionchange":if(T_)break;case"keydown":case"keyup":lf(h,r,d)}var C;if(gd)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else rs?fg(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(hg&&r.locale!=="ko"&&(rs||N!=="onCompositionStart"?N==="onCompositionEnd"&&rs&&(C=dg()):(Ir=d,fd="value"in Ir?Ir.value:Ir.textContent,rs=!0)),k=Sa(u,N),0<k.length&&(N=new Xh(N,e,null,r,d),h.push({event:N,listeners:k}),C?N.data=C:(C=pg(r),C!==null&&(N.data=C)))),(C=x_?__(e,r):b_(e,r))&&(u=Sa(u,"onBeforeInput"),0<u.length&&(d=new Xh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}Cg(h,t)})}function Mi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sa(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oi(e,r),i!=null&&n.unshift(Mi(e,i,s)),i=Oi(e,t),i!=null&&n.push(Mi(e,i,s))),e=e.return}return n}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function df(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Oi(r,i),l!=null&&o.unshift(Mi(r,l,a))):s||(l=Oi(r,i),l!=null&&o.push(Mi(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var L_=/\r\n?/g,D_=/\u0000|\uFFFD/g;function hf(e){return(typeof e=="string"?e:""+e).replace(L_,`
`).replace(D_,"")}function Ro(e,t,r){if(t=hf(t),hf(e)!==t&&r)throw Error(P(425))}function Ea(){}var Vu=null,Wu=null;function Hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qu=typeof setTimeout=="function"?setTimeout:void 0,M_=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,U_=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(e){return ff.resolve(null).then(e).catch(F_)}:qu;function F_(e){setTimeout(function(){throw e})}function ql(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ii(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ii(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),zt="__reactFiber$"+Gs,Ui="__reactProps$"+Gs,or="__reactContainer$"+Gs,Ku="__reactEvents$"+Gs,z_="__reactListeners$"+Gs,B_="__reactHandles$"+Gs;function hn(e){var t=e[zt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[or]||r[zt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pf(e);e!==null;){if(r=e[zt])return r;e=pf(e)}return t}e=r,r=e.parentNode}return null}function lo(e){return e=e[zt]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function il(e){return e[Ui]||null}var Gu=[],os=-1;function Jr(e){return{current:e}}function re(e){0>os||(e.current=Gu[os],Gu[os]=null,os--)}function Z(e,t){os++,Gu[os]=e.current,e.current=t}var Gr={},Ae=Jr(Gr),Ge=Jr(!1),Nn=Gr;function Ls(e,t){var r=e.type.contextTypes;if(!r)return Gr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(e){return e=e.childContextTypes,e!=null}function ka(){re(Ge),re(Ae)}function mf(e,t,r){if(Ae.current!==Gr)throw Error(P(168));Z(Ae,t),Z(Ge,r)}function Ng(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(P(108,Cx(e)||"Unknown",s));return ae({},r,n)}function Ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,Nn=Ae.current,Z(Ae,e),Z(Ge,Ge.current),!0}function gf(e,t,r){var n=e.stateNode;if(!n)throw Error(P(169));r?(e=Ng(e,t,Nn),n.__reactInternalMemoizedMergedChildContext=e,re(Ge),re(Ae),Z(Ae,e)):re(Ge),Z(Ge,r)}var Qt=null,ol=!1,Kl=!1;function Pg(e){Qt===null?Qt=[e]:Qt.push(e)}function V_(e){ol=!0,Pg(e)}function Yr(){if(!Kl&&Qt!==null){Kl=!0;var e=0,t=Y;try{var r=Qt;for(Y=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qt=null,ol=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(e+1)),eg(ud,Yr),s}finally{Y=t,Kl=!1}}return null}var as=[],ls=0,ja=null,Na=0,ct=[],dt=0,Pn=null,er=1,tr="";function on(e,t){as[ls++]=Na,as[ls++]=ja,ja=e,Na=t}function Rg(e,t,r){ct[dt++]=er,ct[dt++]=tr,ct[dt++]=Pn,Pn=e;var n=er;e=tr;var s=32-Nt(n)-1;n&=~(1<<s),r+=1;var i=32-Nt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,er=1<<32-Nt(t)+s|r<<s|n,tr=i+e}else er=1<<i|r<<s|n,tr=e}function yd(e){e.return!==null&&(on(e,1),Rg(e,1,0))}function wd(e){for(;e===ja;)ja=as[--ls],as[ls]=null,Na=as[--ls],as[ls]=null;for(;e===Pn;)Pn=ct[--dt],ct[dt]=null,tr=ct[--dt],ct[dt]=null,er=ct[--dt],ct[dt]=null}var st=null,tt=null,ne=!1,Ct=null;function Og(e,t){var r=ft(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,tt=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pn!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ft(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,st=e,tt=null,!0):!1;default:return!1}}function Qu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ju(e){if(ne){var t=tt;if(t){var r=t;if(!vf(e,t)){if(Qu(e))throw Error(P(418));t=Fr(r.nextSibling);var n=st;t&&vf(e,t)?Og(n,r):(e.flags=e.flags&-4097|2,ne=!1,st=e)}}else{if(Qu(e))throw Error(P(418));e.flags=e.flags&-4097|2,ne=!1,st=e}}}function yf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Oo(e){if(e!==st)return!1;if(!ne)return yf(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hu(e.type,e.memoizedProps)),t&&(t=tt)){if(Qu(e))throw Tg(),Error(P(418));for(;t;)Og(e,t),t=Fr(t.nextSibling)}if(yf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tt=Fr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=st?Fr(e.stateNode.nextSibling):null;return!0}function Tg(){for(var e=tt;e;)e=Fr(e.nextSibling)}function Ds(){tt=st=null,ne=!1}function xd(e){Ct===null?Ct=[e]:Ct.push(e)}var W_=dr.ReactCurrentBatchConfig;function ii(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,e))}return e}function To(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wf(e){var t=e._init;return t(e._payload)}function Ag(e){function t(g,p){if(e){var w=g.deletions;w===null?(g.deletions=[p],g.flags|=16):w.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Wr(g,p),g.index=0,g.sibling=null,g}function i(g,p,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<p?(g.flags|=2,p):w):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,w,b){return p===null||p.tag!==6?(p=eu(w,g.mode,b),p.return=g,p):(p=s(p,w),p.return=g,p)}function l(g,p,w,b){var E=w.type;return E===ts?d(g,p,w.props.children,b,w.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xr&&wf(E)===p.type)?(b=s(p,w.props),b.ref=ii(g,p,w),b.return=g,b):(b=da(w.type,w.key,w.props,null,g.mode,b),b.ref=ii(g,p,w),b.return=g,b)}function u(g,p,w,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=tu(w,g.mode,b),p.return=g,p):(p=s(p,w.children||[]),p.return=g,p)}function d(g,p,w,b,E){return p===null||p.tag!==7?(p=jn(w,g.mode,b,E),p.return=g,p):(p=s(p,w),p.return=g,p)}function h(g,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=eu(""+p,g.mode,w),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _o:return w=da(p.type,p.key,p.props,null,g.mode,w),w.ref=ii(g,null,p),w.return=g,w;case es:return p=tu(p,g.mode,w),p.return=g,p;case xr:var b=p._init;return h(g,b(p._payload),w)}if(di(p)||ei(p))return p=jn(p,g.mode,w,null),p.return=g,p;To(g,p)}return null}function f(g,p,w,b){var E=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(g,p,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _o:return w.key===E?l(g,p,w,b):null;case es:return w.key===E?u(g,p,w,b):null;case xr:return E=w._init,f(g,p,E(w._payload),b)}if(di(w)||ei(w))return E!==null?null:d(g,p,w,b,null);To(g,w)}return null}function m(g,p,w,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,a(p,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _o:return g=g.get(b.key===null?w:b.key)||null,l(p,g,b,E);case es:return g=g.get(b.key===null?w:b.key)||null,u(p,g,b,E);case xr:var k=b._init;return m(g,p,w,k(b._payload),E)}if(di(b)||ei(b))return g=g.get(w)||null,d(p,g,b,E,null);To(p,b)}return null}function _(g,p,w,b){for(var E=null,k=null,C=p,N=p=0,A=null;C!==null&&N<w.length;N++){C.index>N?(A=C,C=null):A=C.sibling;var j=f(g,C,w[N],b);if(j===null){C===null&&(C=A);break}e&&C&&j.alternate===null&&t(g,C),p=i(j,p,N),k===null?E=j:k.sibling=j,k=j,C=A}if(N===w.length)return r(g,C),ne&&on(g,N),E;if(C===null){for(;N<w.length;N++)C=h(g,w[N],b),C!==null&&(p=i(C,p,N),k===null?E=C:k.sibling=C,k=C);return ne&&on(g,N),E}for(C=n(g,C);N<w.length;N++)A=m(C,g,N,w[N],b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?N:A.key),p=i(A,p,N),k===null?E=A:k.sibling=A,k=A);return e&&C.forEach(function(F){return t(g,F)}),ne&&on(g,N),E}function y(g,p,w,b){var E=ei(w);if(typeof E!="function")throw Error(P(150));if(w=E.call(w),w==null)throw Error(P(151));for(var k=E=null,C=p,N=p=0,A=null,j=w.next();C!==null&&!j.done;N++,j=w.next()){C.index>N?(A=C,C=null):A=C.sibling;var F=f(g,C,j.value,b);if(F===null){C===null&&(C=A);break}e&&C&&F.alternate===null&&t(g,C),p=i(F,p,N),k===null?E=F:k.sibling=F,k=F,C=A}if(j.done)return r(g,C),ne&&on(g,N),E;if(C===null){for(;!j.done;N++,j=w.next())j=h(g,j.value,b),j!==null&&(p=i(j,p,N),k===null?E=j:k.sibling=j,k=j);return ne&&on(g,N),E}for(C=n(g,C);!j.done;N++,j=w.next())j=m(C,g,N,j.value,b),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?N:j.key),p=i(j,p,N),k===null?E=j:k.sibling=j,k=j);return e&&C.forEach(function(D){return t(g,D)}),ne&&on(g,N),E}function x(g,p,w,b){if(typeof w=="object"&&w!==null&&w.type===ts&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case _o:e:{for(var E=w.key,k=p;k!==null;){if(k.key===E){if(E=w.type,E===ts){if(k.tag===7){r(g,k.sibling),p=s(k,w.props.children),p.return=g,g=p;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xr&&wf(E)===k.type){r(g,k.sibling),p=s(k,w.props),p.ref=ii(g,k,w),p.return=g,g=p;break e}r(g,k);break}else t(g,k);k=k.sibling}w.type===ts?(p=jn(w.props.children,g.mode,b,w.key),p.return=g,g=p):(b=da(w.type,w.key,w.props,null,g.mode,b),b.ref=ii(g,p,w),b.return=g,g=b)}return o(g);case es:e:{for(k=w.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){r(g,p.sibling),p=s(p,w.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=tu(w,g.mode,b),p.return=g,g=p}return o(g);case xr:return k=w._init,x(g,p,k(w._payload),b)}if(di(w))return _(g,p,w,b);if(ei(w))return y(g,p,w,b);To(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,w),p.return=g,g=p):(r(g,p),p=eu(w,g.mode,b),p.return=g,g=p),o(g)):r(g,p)}return x}var Ms=Ag(!0),Ig=Ag(!1),Pa=Jr(null),Ra=null,us=null,_d=null;function bd(){_d=us=Ra=null}function Sd(e){var t=Pa.current;re(Pa),e._currentValue=t}function Yu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vs(e,t){Ra=e,_d=us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(_d!==e)if(e={context:e,memoizedValue:t,next:null},us===null){if(Ra===null)throw Error(P(308));us=e,Ra.dependencies={lanes:0,firstContext:e}}else us=us.next=e;return t}var fn=null;function Ed(e){fn===null?fn=[e]:fn.push(e)}function $g(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ed(t)):(r.next=s.next,s.next=r),t.interleaved=r,ar(e,n)}function ar(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _r=!1;function kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ar(e,r)}return s=n.interleaved,s===null?(t.next=t,Ed(n)):(t.next=s.next,s.next=t),n.interleaved=t,ar(e,r)}function ia(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cd(e,r)}}function xf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Oa(e,t,r,n){var s=e.updateQueue;_r=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=e,y=a;switch(f=t,m=r,y.tag){case 1:if(_=y.payload,typeof _=="function"){h=_.call(m,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,f=typeof _=="function"?_.call(m,h,f):_,f==null)break e;h=ae({},h,f);break e;case 2:_r=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);On|=o,e.lanes=o,e.memoizedState=h}}function _f(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(P(191,s));s.call(n)}}}var uo={},Vt=Jr(uo),Fi=Jr(uo),zi=Jr(uo);function pn(e){if(e===uo)throw Error(P(174));return e}function Cd(e,t){switch(Z(zi,t),Z(Fi,e),Z(Vt,uo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ou(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ou(t,e)}re(Vt),Z(Vt,t)}function Us(){re(Vt),re(Fi),re(zi)}function Dg(e){pn(zi.current);var t=pn(Vt.current),r=Ou(t,e.type);t!==r&&(Z(Fi,e),Z(Vt,r))}function jd(e){Fi.current===e&&(re(Vt),re(Fi))}var ie=Jr(0);function Ta(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Nd(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var oa=dr.ReactCurrentDispatcher,Ql=dr.ReactCurrentBatchConfig,Rn=0,oe=null,we=null,Ee=null,Aa=!1,_i=!1,Bi=0,H_=0;function Re(){throw Error(P(321))}function Pd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ot(e[r],t[r]))return!1;return!0}function Rd(e,t,r,n,s,i){if(Rn=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=e===null||e.memoizedState===null?Q_:J_,e=r(n,s),_i){i=0;do{if(_i=!1,Bi=0,25<=i)throw Error(P(301));i+=1,Ee=we=null,t.updateQueue=null,oa.current=Y_,e=r(n,s)}while(_i)}if(oa.current=Ia,t=we!==null&&we.next!==null,Rn=0,Ee=we=oe=null,Aa=!1,t)throw Error(P(300));return e}function Od(){var e=Bi!==0;return Bi=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?oe.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function gt(){if(we===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Ee===null?oe.memoizedState:Ee.next;if(t!==null)Ee=t,we=e;else{if(e===null)throw Error(P(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ee===null?oe.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Vi(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=gt(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=we,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Rn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,oe.lanes|=d,On|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Ot(n,t.memoizedState)||(Ke=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,On|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yl(e){var t=gt(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ot(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Mg(){}function Ug(e,t){var r=oe,n=gt(),s=t(),i=!Ot(n.memoizedState,s);if(i&&(n.memoizedState=s,Ke=!0),n=n.queue,Td(Bg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(r.flags|=2048,Wi(9,zg.bind(null,r,n,s,t),void 0,null),ke===null)throw Error(P(349));Rn&30||Fg(r,t,s)}return s}function Fg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zg(e,t,r,n){t.value=r,t.getSnapshot=n,Vg(t)&&Wg(e)}function Bg(e,t,r){return r(function(){Vg(t)&&Wg(e)})}function Vg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ot(e,r)}catch{return!0}}function Wg(e){var t=ar(e,1);t!==null&&Pt(t,e,1,-1)}function bf(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t.queue=e,e=e.dispatch=G_.bind(null,oe,e),[t.memoizedState,e]}function Wi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Hg(){return gt().memoizedState}function aa(e,t,r,n){var s=Dt();oe.flags|=e,s.memoizedState=Wi(1|t,r,void 0,n===void 0?null:n)}function al(e,t,r,n){var s=gt();n=n===void 0?null:n;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,n!==null&&Pd(n,o.deps)){s.memoizedState=Wi(t,r,i,n);return}}oe.flags|=e,s.memoizedState=Wi(1|t,r,i,n)}function Sf(e,t){return aa(8390656,8,e,t)}function Td(e,t){return al(2048,8,e,t)}function qg(e,t){return al(4,2,e,t)}function Kg(e,t){return al(4,4,e,t)}function Gg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qg(e,t,r){return r=r!=null?r.concat([e]):null,al(4,4,Gg.bind(null,t,e),r)}function Ad(){}function Jg(e,t){var r=gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Yg(e,t){var r=gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Xg(e,t,r){return Rn&21?(Ot(r,t)||(r=ng(),oe.lanes|=r,On|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=r)}function q_(e,t){var r=Y;Y=r!==0&&4>r?r:4,e(!0);var n=Ql.transition;Ql.transition={};try{e(!1),t()}finally{Y=r,Ql.transition=n}}function Zg(){return gt().memoizedState}function K_(e,t,r){var n=Vr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ev(e))tv(t,r);else if(r=$g(e,t,r,n),r!==null){var s=Fe();Pt(r,e,n,s),rv(r,t,n)}}function G_(e,t,r){var n=Vr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ev(e))tv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ot(a,o)){var l=t.interleaved;l===null?(s.next=s,Ed(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=$g(e,t,s,n),r!==null&&(s=Fe(),Pt(r,e,n,s),rv(r,t,n))}}function ev(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function tv(e,t){_i=Aa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cd(e,r)}}var Ia={readContext:mt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Q_={readContext:mt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Sf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,aa(4194308,4,Gg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return aa(4,2,e,t)},useMemo:function(e,t){var r=Dt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Dt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=K_.bind(null,oe,e),[n.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:bf,useDebugValue:Ad,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=bf(!1),t=e[0];return e=q_.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oe,s=Dt();if(ne){if(r===void 0)throw Error(P(407));r=r()}else{if(r=t(),ke===null)throw Error(P(349));Rn&30||Fg(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Sf(Bg.bind(null,n,i,e),[e]),n.flags|=2048,Wi(9,zg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Dt(),t=ke.identifierPrefix;if(ne){var r=tr,n=er;r=(n&~(1<<32-Nt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=H_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},J_={readContext:mt,useCallback:Jg,useContext:mt,useEffect:Td,useImperativeHandle:Qg,useInsertionEffect:qg,useLayoutEffect:Kg,useMemo:Yg,useReducer:Jl,useRef:Hg,useState:function(){return Jl(Vi)},useDebugValue:Ad,useDeferredValue:function(e){var t=gt();return Xg(t,we.memoizedState,e)},useTransition:function(){var e=Jl(Vi)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Mg,useSyncExternalStore:Ug,useId:Zg,unstable_isNewReconciler:!1},Y_={readContext:mt,useCallback:Jg,useContext:mt,useEffect:Td,useImperativeHandle:Qg,useInsertionEffect:qg,useLayoutEffect:Kg,useMemo:Yg,useReducer:Yl,useRef:Hg,useState:function(){return Yl(Vi)},useDebugValue:Ad,useDeferredValue:function(e){var t=gt();return we===null?t.memoizedState=e:Xg(t,we.memoizedState,e)},useTransition:function(){var e=Yl(Vi)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Mg,useSyncExternalStore:Ug,useId:Zg,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ae({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ll={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fe(),s=Vr(e),i=nr(n,s);i.payload=t,r!=null&&(i.callback=r),t=zr(e,i,s),t!==null&&(Pt(t,e,s,n),ia(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fe(),s=Vr(e),i=nr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=zr(e,i,s),t!==null&&(Pt(t,e,s,n),ia(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fe(),n=Vr(e),s=nr(r,n);s.tag=2,t!=null&&(s.callback=t),t=zr(e,s,n),t!==null&&(Pt(t,e,n,r),ia(t,e,n))}};function Ef(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Li(r,n)||!Li(s,i):!0}function nv(e,t,r){var n=!1,s=Gr,i=t.contextType;return typeof i=="object"&&i!==null?i=mt(i):(s=Qe(t)?Nn:Ae.current,n=t.contextTypes,i=(n=n!=null)?Ls(e,s):Gr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ll,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function kf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ll.enqueueReplaceState(t,t.state,null)}function Zu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},kd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=mt(i):(i=Qe(t)?Nn:Ae.current,s.context=Ls(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Xu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ll.enqueueReplaceState(s,s.state,null),Oa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var r="",n=t;do r+=kx(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Xl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ec(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var X_=typeof WeakMap=="function"?WeakMap:Map;function sv(e,t,r){r=nr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){La||(La=!0,cc=n),ec(e,t)},r}function iv(e,t,r){r=nr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ec(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ec(e,t),typeof n!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Cf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new X_;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=hb.bind(null,e,t,r),t.then(e,e))}function jf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nr(-1,1),t.tag=2,zr(r,t,1))),r.lanes|=1),e)}var Z_=dr.ReactCurrentOwner,Ke=!1;function Le(e,t,r,n){t.child=e===null?Ig(t,null,r,n):Ms(t,e.child,r,n)}function Pf(e,t,r,n,s){r=r.render;var i=t.ref;return vs(t,s),n=Rd(e,t,r,n,i,s),r=Od(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,lr(e,t,s)):(ne&&r&&yd(t),t.flags|=1,Le(e,t,n,s),t.child)}function Rf(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!zd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,ov(e,t,i,n,s)):(e=da(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Li,r(o,n)&&e.ref===t.ref)return lr(e,t,s)}return t.flags|=1,e=Wr(i,n),e.ref=t.ref,e.return=t,t.child=e}function ov(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Li(i,n)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,lr(e,t,s)}return tc(e,t,r,n,s)}function av(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(ds,Xe),Xe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(ds,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(ds,Xe),Xe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Z(ds,Xe),Xe|=n;return Le(e,t,s,r),t.child}function lv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function tc(e,t,r,n,s){var i=Qe(r)?Nn:Ae.current;return i=Ls(t,i),vs(t,s),r=Rd(e,t,r,n,i,s),n=Od(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,lr(e,t,s)):(ne&&n&&yd(t),t.flags|=1,Le(e,t,r,s),t.child)}function Of(e,t,r,n,s){if(Qe(r)){var i=!0;Ca(t)}else i=!1;if(vs(t,s),t.stateNode===null)la(e,t),nv(t,r,n),Zu(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Qe(r)?Nn:Ae.current,u=Ls(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&kf(t,o,n,u),_r=!1;var f=t.memoizedState;o.state=f,Oa(t,n,o,s),l=t.memoizedState,a!==n||f!==l||Ge.current||_r?(typeof d=="function"&&(Xu(t,r,d,n),l=t.memoizedState),(a=_r||Ef(t,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Lg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=mt(l):(l=Qe(r)?Nn:Ae.current,l=Ls(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&kf(t,o,n,l),_r=!1,f=t.memoizedState,o.state=f,Oa(t,n,o,s);var _=t.memoizedState;a!==h||f!==_||Ge.current||_r?(typeof m=="function"&&(Xu(t,r,m,n),_=t.memoizedState),(u=_r||Ef(t,r,u,n,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),o.props=n,o.state=_,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return rc(e,t,r,n,i,s)}function rc(e,t,r,n,s,i){lv(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&gf(t,r,!1),lr(e,t,i);n=t.stateNode,Z_.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ms(t,e.child,null,i),t.child=Ms(t,null,a,i)):Le(e,t,a,i),t.memoizedState=n.state,s&&gf(t,r,!0),t.child}function uv(e){var t=e.stateNode;t.pendingContext?mf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mf(e,t.context,!1),Cd(e,t.containerInfo)}function Tf(e,t,r,n,s){return Ds(),xd(s),t.flags|=256,Le(e,t,r,n),t.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function sc(e){return{baseLanes:e,cachePool:null,transitions:null}}function cv(e,t,r){var n=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ie,s&1),e===null)return Ju(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=dl(o,n,0,null),e=jn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=sc(r),t.memoizedState=nc,e):Id(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eb(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Wr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wr(a,i):(i=jn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?sc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=nc,n}return i=e.child,e=i.sibling,n=Wr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Id(e,t){return t=dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ao(e,t,r,n){return n!==null&&xd(n),Ms(t,e.child,null,r),e=Id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eb(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Xl(Error(P(422))),Ao(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=dl({mode:"visible",children:n.children},s,0,null),i=jn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ms(t,e.child,null,o),t.child.memoizedState=sc(o),t.memoizedState=nc,i);if(!(t.mode&1))return Ao(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(P(419)),n=Xl(i,n,void 0),Ao(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ke||a){if(n=ke,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ar(e,s),Pt(n,e,s,-1))}return Fd(),n=Xl(Error(P(421))),Ao(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,tt=Fr(s.nextSibling),st=t,ne=!0,Ct=null,e!==null&&(ct[dt++]=er,ct[dt++]=tr,ct[dt++]=Pn,er=e.id,tr=e.overflow,Pn=t),t=Id(t,n.children),t.flags|=4096,t)}function Af(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yu(e.return,t,r)}function Zl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function dv(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Le(e,t,n.children,r),n=ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Af(e,r,t);else if(e.tag===19)Af(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Z(ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ta(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ta(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zl(t,!0,r,null,i);break;case"together":Zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,r=Wr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function tb(e,t,r){switch(t.tag){case 3:uv(t),Ds();break;case 5:Dg(t);break;case 1:Qe(t.type)&&Ca(t);break;case 4:Cd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Z(Pa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Z(ie,ie.current&1),t.flags|=128,null):r&t.child.childLanes?cv(e,t,r):(Z(ie,ie.current&1),e=lr(e,t,r),e!==null?e.sibling:null);Z(ie,ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return dv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ie,ie.current),n)break;return null;case 22:case 23:return t.lanes=0,av(e,t,r)}return lr(e,t,r)}var hv,ic,fv,pv;hv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ic=function(){};fv=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,pn(Vt.current);var i=null;switch(r){case"input":s=ju(e,s),n=ju(e,n),i=[];break;case"select":s=ae({},s,{value:void 0}),n=ae({},n,{value:void 0}),i=[];break;case"textarea":s=Ru(e,s),n=Ru(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ea)}Tu(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};pv=function(e,t,r,n){r!==n&&(t.flags|=4)};function oi(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rb(e,t,r){var n=t.pendingProps;switch(wd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Qe(t.type)&&ka(),Oe(t),null;case 3:return n=t.stateNode,Us(),re(Ge),re(Ae),Nd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(fc(Ct),Ct=null))),ic(e,t),Oe(t),null;case 5:jd(t);var s=pn(zi.current);if(r=t.type,e!==null&&t.stateNode!=null)fv(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(P(166));return Oe(t),null}if(e=pn(Vt.current),Oo(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zt]=t,n[Ui]=i,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<fi.length;s++)te(fi[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":zh(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":Vh(n,i),te("invalid",n)}Tu(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ro(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ro(n.textContent,a,e),s=["children",""+a]):Pi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&te("scroll",n)}switch(r){case"input":bo(n),Bh(n,i,!0);break;case"textarea":bo(n),Wh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ea)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[zt]=t,e[Ui]=n,hv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Au(r,n),r){case"dialog":te("cancel",e),te("close",e),s=n;break;case"iframe":case"object":case"embed":te("load",e),s=n;break;case"video":case"audio":for(s=0;s<fi.length;s++)te(fi[s],e);s=n;break;case"source":te("error",e),s=n;break;case"img":case"image":case"link":te("error",e),te("load",e),s=n;break;case"details":te("toggle",e),s=n;break;case"input":zh(e,n),s=ju(e,n),te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ae({},n,{value:void 0}),te("invalid",e);break;case"textarea":Vh(e,n),s=Ru(e,n),te("invalid",e);break;default:s=n}Tu(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Hm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vm(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ri(e,l):typeof l=="number"&&Ri(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&te("scroll",e):l!=null&&sd(e,i,l,o))}switch(r){case"input":bo(e),Bh(e,n,!1);break;case"textarea":bo(e),Wh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Kr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?fs(e,!!n.multiple,i,!1):n.defaultValue!=null&&fs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ea)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)pv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(P(166));if(r=pn(zi.current),pn(Vt.current),Oo(t)){if(n=t.stateNode,r=t.memoizedProps,n[zt]=t,(i=n.nodeValue!==r)&&(e=st,e!==null))switch(e.tag){case 3:Ro(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ro(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zt]=t,t.stateNode=n}return Oe(t),null;case 13:if(re(ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&tt!==null&&t.mode&1&&!(t.flags&128))Tg(),Ds(),t.flags|=98560,i=!1;else if(i=Oo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[zt]=t}else Ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else Ct!==null&&(fc(Ct),Ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?_e===0&&(_e=3):Fd())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Us(),ic(e,t),e===null&&Di(t.stateNode.containerInfo),Oe(t),null;case 10:return Sd(t.type._context),Oe(t),null;case 17:return Qe(t.type)&&ka(),Oe(t),null;case 19:if(re(ie),i=t.memoizedState,i===null)return Oe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)oi(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ta(e),o!==null){for(t.flags|=128,oi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Z(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>zs&&(t.flags|=128,n=!0,oi(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ta(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),oi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Oe(t),null}else 2*de()-i.renderingStartTime>zs&&r!==1073741824&&(t.flags|=128,n=!0,oi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,r=ie.current,Z(ie,n?r&1|2:r&1),t):(Oe(t),null);case 22:case 23:return Ud(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xe&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function nb(e,t){switch(wd(t),t.tag){case 1:return Qe(t.type)&&ka(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Us(),re(Ge),re(Ae),Nd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jd(t),null;case 13:if(re(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ie),null;case 4:return Us(),null;case 10:return Sd(t.type._context),null;case 22:case 23:return Ud(),null;case 24:return null;default:return null}}var Io=!1,Te=!1,sb=typeof WeakSet=="function"?WeakSet:Set,T=null;function cs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ue(e,t,n)}else r.current=null}function oc(e,t,r){try{r()}catch(n){ue(e,t,n)}}var If=!1;function ib(e,t){if(Vu=_a,e=wg(),vd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wu={focusedElem:e,selectionRange:r},_a=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,x=_.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:xt(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(b){ue(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return _=If,If=!1,_}function bi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&oc(t,r,i)}s=s.next}while(s!==n)}}function ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ac(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mv(e){var t=e.alternate;t!==null&&(e.alternate=null,mv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Ui],delete t[Ku],delete t[z_],delete t[B_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gv(e){return e.tag===5||e.tag===3||e.tag===4}function $f(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ea));else if(n!==4&&(e=e.child,e!==null))for(lc(e,t,r),e=e.sibling;e!==null;)lc(e,t,r),e=e.sibling}function uc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uc(e,t,r),e=e.sibling;e!==null;)uc(e,t,r),e=e.sibling}var je=null,Et=!1;function pr(e,t,r){for(r=r.child;r!==null;)vv(e,t,r),r=r.sibling}function vv(e,t,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(tl,r)}catch{}switch(r.tag){case 5:Te||cs(r,t);case 6:var n=je,s=Et;je=null,pr(e,t,r),je=n,Et=s,je!==null&&(Et?(e=je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(Et?(e=je,r=r.stateNode,e.nodeType===8?ql(e.parentNode,r):e.nodeType===1&&ql(e,r),Ii(e)):ql(je,r.stateNode));break;case 4:n=je,s=Et,je=r.stateNode.containerInfo,Et=!0,pr(e,t,r),je=n,Et=s;break;case 0:case 11:case 14:case 15:if(!Te&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&oc(r,t,o),s=s.next}while(s!==n)}pr(e,t,r);break;case 1:if(!Te&&(cs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ue(r,t,a)}pr(e,t,r);break;case 21:pr(e,t,r);break;case 22:r.mode&1?(Te=(n=Te)||r.memoizedState!==null,pr(e,t,r),Te=n):pr(e,t,r);break;default:pr(e,t,r)}}function Lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sb),t.forEach(function(n){var s=pb.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function yt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,Et=!1;break e;case 3:je=a.stateNode.containerInfo,Et=!0;break e;case 4:je=a.stateNode.containerInfo,Et=!0;break e}a=a.return}if(je===null)throw Error(P(160));vv(i,o,s),je=null,Et=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yv(t,e),t=t.sibling}function yv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Lt(e),n&4){try{bi(3,e,e.return),ul(3,e)}catch(y){ue(e,e.return,y)}try{bi(5,e,e.return)}catch(y){ue(e,e.return,y)}}break;case 1:yt(t,e),Lt(e),n&512&&r!==null&&cs(r,r.return);break;case 5:if(yt(t,e),Lt(e),n&512&&r!==null&&cs(r,r.return),e.flags&32){var s=e.stateNode;try{Ri(s,"")}catch(y){ue(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Fm(s,i),Au(a,o);var u=Au(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Hm(s,h):d==="dangerouslySetInnerHTML"?Vm(s,h):d==="children"?Ri(s,h):sd(s,d,h,u)}switch(a){case"input":Nu(s,i);break;case"textarea":zm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?fs(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?fs(s,!!i.multiple,i.defaultValue,!0):fs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ui]=i}catch(y){ue(e,e.return,y)}}break;case 6:if(yt(t,e),Lt(e),n&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ue(e,e.return,y)}}break;case 3:if(yt(t,e),Lt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(y){ue(e,e.return,y)}break;case 4:yt(t,e),Lt(e);break;case 13:yt(t,e),Lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dd=de())),n&4&&Lf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Te=(u=Te)||d,yt(t,e),Te=u):yt(t,e),Lt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(T=e,d=e.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,m=f.child,f.tag){case 0:case 11:case 14:case 15:bi(4,f,f.return);break;case 1:cs(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(y){ue(n,r,y)}}break;case 5:cs(f,f.return);break;case 22:if(f.memoizedState!==null){Mf(h);continue}}m!==null?(m.return=f,T=m):Mf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Wm("display",o))}catch(y){ue(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){ue(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yt(t,e),Lt(e),n&4&&Lf(e);break;case 21:break;default:yt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gv(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ri(s,""),n.flags&=-33);var i=$f(e);uc(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=$f(e);lc(e,a,o);break;default:throw Error(P(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ob(e,t,r){T=e,wv(e)}function wv(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Io;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Te;a=Io;var u=Te;if(Io=o,(Te=l)&&!u)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?Uf(s):l!==null?(l.return=o,T=l):Uf(s);for(;i!==null;)T=i,wv(i),i=i.sibling;T=s,Io=a,Te=u}Df(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Df(e)}}function Df(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||ul(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Te)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:xt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_f(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_f(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ii(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Te||t.flags&512&&ac(t)}catch(f){ue(t,t.return,f)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function Mf(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function Uf(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ul(4,t)}catch(l){ue(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ue(t,s,l)}}var i=t.return;try{ac(t)}catch(l){ue(t,i,l)}break;case 5:var o=t.return;try{ac(t)}catch(l){ue(t,o,l)}}}catch(l){ue(t,t.return,l)}if(t===e){T=null;break}var a=t.sibling;if(a!==null){a.return=t.return,T=a;break}T=t.return}}var ab=Math.ceil,$a=dr.ReactCurrentDispatcher,$d=dr.ReactCurrentOwner,pt=dr.ReactCurrentBatchConfig,q=0,ke=null,pe=null,Ne=0,Xe=0,ds=Jr(0),_e=0,Hi=null,On=0,cl=0,Ld=0,Si=null,He=null,Dd=0,zs=1/0,Kt=null,La=!1,cc=null,Br=null,$o=!1,$r=null,Da=0,Ei=0,dc=null,ua=-1,ca=0;function Fe(){return q&6?de():ua!==-1?ua:ua=de()}function Vr(e){return e.mode&1?q&2&&Ne!==0?Ne&-Ne:W_.transition!==null?(ca===0&&(ca=ng()),ca):(e=Y,e!==0||(e=window.event,e=e===void 0?16:cg(e.type)),e):1}function Pt(e,t,r,n){if(50<Ei)throw Ei=0,dc=null,Error(P(185));oo(e,r,n),(!(q&2)||e!==ke)&&(e===ke&&(!(q&2)&&(cl|=r),_e===4&&Sr(e,Ne)),Je(e,n),r===1&&q===0&&!(t.mode&1)&&(zs=de()+500,ol&&Yr()))}function Je(e,t){var r=e.callbackNode;Wx(e,t);var n=xa(e,e===ke?Ne:0);if(n===0)r!==null&&Kh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Kh(r),t===1)e.tag===0?V_(Ff.bind(null,e)):Pg(Ff.bind(null,e)),U_(function(){!(q&6)&&Yr()}),r=null;else{switch(sg(n)){case 1:r=ud;break;case 4:r=tg;break;case 16:r=wa;break;case 536870912:r=rg;break;default:r=wa}r=jv(r,xv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xv(e,t){if(ua=-1,ca=0,q&6)throw Error(P(327));var r=e.callbackNode;if(ys()&&e.callbackNode!==r)return null;var n=xa(e,e===ke?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ma(e,n);else{t=n;var s=q;q|=2;var i=bv();(ke!==e||Ne!==t)&&(Kt=null,zs=de()+500,Cn(e,t));do try{cb();break}catch(a){_v(e,a)}while(!0);bd(),$a.current=i,q=s,pe!==null?t=0:(ke=null,Ne=0,t=_e)}if(t!==0){if(t===2&&(s=Mu(e),s!==0&&(n=s,t=hc(e,s))),t===1)throw r=Hi,Cn(e,0),Sr(e,n),Je(e,de()),r;if(t===6)Sr(e,n);else{if(s=e.current.alternate,!(n&30)&&!lb(s)&&(t=Ma(e,n),t===2&&(i=Mu(e),i!==0&&(n=i,t=hc(e,i))),t===1))throw r=Hi,Cn(e,0),Sr(e,n),Je(e,de()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(P(345));case 2:an(e,He,Kt);break;case 3:if(Sr(e,n),(n&130023424)===n&&(t=Dd+500-de(),10<t)){if(xa(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=qu(an.bind(null,e,He,Kt),t);break}an(e,He,Kt);break;case 4:if(Sr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Nt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ab(n/1960))-n,10<n){e.timeoutHandle=qu(an.bind(null,e,He,Kt),n);break}an(e,He,Kt);break;case 5:an(e,He,Kt);break;default:throw Error(P(329))}}}return Je(e,de()),e.callbackNode===r?xv.bind(null,e):null}function hc(e,t){var r=Si;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Ma(e,t),e!==2&&(t=He,He=r,t!==null&&fc(t)),e}function fc(e){He===null?He=e:He.push.apply(He,e)}function lb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ot(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sr(e,t){for(t&=~Ld,t&=~cl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nt(t),n=1<<r;e[r]=-1,t&=~n}}function Ff(e){if(q&6)throw Error(P(327));ys();var t=xa(e,0);if(!(t&1))return Je(e,de()),null;var r=Ma(e,t);if(e.tag!==0&&r===2){var n=Mu(e);n!==0&&(t=n,r=hc(e,n))}if(r===1)throw r=Hi,Cn(e,0),Sr(e,t),Je(e,de()),r;if(r===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,an(e,He,Kt),Je(e,de()),null}function Md(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(zs=de()+500,ol&&Yr())}}function Tn(e){$r!==null&&$r.tag===0&&!(q&6)&&ys();var t=q;q|=1;var r=pt.transition,n=Y;try{if(pt.transition=null,Y=1,e)return e()}finally{Y=n,pt.transition=r,q=t,!(q&6)&&Yr()}}function Ud(){Xe=ds.current,re(ds)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,M_(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(wd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ka();break;case 3:Us(),re(Ge),re(Ae),Nd();break;case 5:jd(n);break;case 4:Us();break;case 13:re(ie);break;case 19:re(ie);break;case 10:Sd(n.type._context);break;case 22:case 23:Ud()}r=r.return}if(ke=e,pe=e=Wr(e.current,null),Ne=Xe=t,_e=0,Hi=null,Ld=cl=On=0,He=Si=null,fn!==null){for(t=0;t<fn.length;t++)if(r=fn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}fn=null}return e}function _v(e,t){do{var r=pe;try{if(bd(),oa.current=Ia,Aa){for(var n=oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Aa=!1}if(Rn=0,Ee=we=oe=null,_i=!1,Bi=0,$d.current=null,r===null||r.return===null){_e=1,Hi=t,pe=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=Ne,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=jf(o);if(m!==null){m.flags&=-257,Nf(m,o,a,i,t),m.mode&1&&Cf(i,u,t),t=m,l=u;var _=t.updateQueue;if(_===null){var y=new Set;y.add(l),t.updateQueue=y}else _.add(l);break e}else{if(!(t&1)){Cf(i,u,t),Fd();break e}l=Error(P(426))}}else if(ne&&a.mode&1){var x=jf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Nf(x,o,a,i,t),xd(Fs(l,a));break e}}i=l=Fs(l,a),_e!==4&&(_e=2),Si===null?Si=[i]:Si.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=sv(i,l,t);xf(i,g);break e;case 1:a=l;var p=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Br===null||!Br.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=iv(i,a,t);xf(i,b);break e}}i=i.return}while(i!==null)}Ev(r)}catch(E){t=E,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function bv(){var e=$a.current;return $a.current=Ia,e===null?Ia:e}function Fd(){(_e===0||_e===3||_e===2)&&(_e=4),ke===null||!(On&268435455)&&!(cl&268435455)||Sr(ke,Ne)}function Ma(e,t){var r=q;q|=2;var n=bv();(ke!==e||Ne!==t)&&(Kt=null,Cn(e,t));do try{ub();break}catch(s){_v(e,s)}while(!0);if(bd(),q=r,$a.current=n,pe!==null)throw Error(P(261));return ke=null,Ne=0,_e}function ub(){for(;pe!==null;)Sv(pe)}function cb(){for(;pe!==null&&!$x();)Sv(pe)}function Sv(e){var t=Cv(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?Ev(e):pe=t,$d.current=null}function Ev(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=nb(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,pe=null;return}}else if(r=rb(r,t,Xe),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);_e===0&&(_e=5)}function an(e,t,r){var n=Y,s=pt.transition;try{pt.transition=null,Y=1,db(e,t,r,n)}finally{pt.transition=s,Y=n}return null}function db(e,t,r,n){do ys();while($r!==null);if(q&6)throw Error(P(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Hx(e,i),e===ke&&(pe=ke=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$o||($o=!0,jv(wa,function(){return ys(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var o=Y;Y=1;var a=q;q|=4,$d.current=null,ib(e,r),yv(r,e),O_(Wu),_a=!!Vu,Wu=Vu=null,e.current=r,ob(r),Lx(),q=a,Y=o,pt.transition=i}else e.current=r;if($o&&($o=!1,$r=e,Da=s),i=e.pendingLanes,i===0&&(Br=null),Ux(r.stateNode),Je(e,de()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(La)throw La=!1,e=cc,cc=null,e;return Da&1&&e.tag!==0&&ys(),i=e.pendingLanes,i&1?e===dc?Ei++:(Ei=0,dc=e):Ei=0,Yr(),null}function ys(){if($r!==null){var e=sg(Da),t=pt.transition,r=Y;try{if(pt.transition=null,Y=16>e?16:e,$r===null)var n=!1;else{if(e=$r,$r=null,Da=0,q&6)throw Error(P(331));var s=q;for(q|=4,T=e.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:bi(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,m=d.return;if(mv(d),d===u){T=null;break}if(f!==null){f.return=m,T=f;break}T=m}}}var _=i.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var p=e.current;for(T=p;T!==null;){o=T;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,T=w;else e:for(o=p;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ul(9,a)}}catch(E){ue(a,a.return,E)}if(a===o){T=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,T=b;break e}T=a.return}}if(q=s,Yr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(tl,e)}catch{}n=!0}return n}finally{Y=r,pt.transition=t}}return!1}function zf(e,t,r){t=Fs(r,t),t=sv(e,t,1),e=zr(e,t,1),t=Fe(),e!==null&&(oo(e,1,t),Je(e,t))}function ue(e,t,r){if(e.tag===3)zf(e,e,r);else for(;t!==null;){if(t.tag===3){zf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Br===null||!Br.has(n))){e=Fs(r,e),e=iv(t,e,1),t=zr(t,e,1),e=Fe(),t!==null&&(oo(t,1,e),Je(t,e));break}}t=t.return}}function hb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&r,ke===e&&(Ne&r)===r&&(_e===4||_e===3&&(Ne&130023424)===Ne&&500>de()-Dd?Cn(e,0):Ld|=r),Je(e,t)}function kv(e,t){t===0&&(e.mode&1?(t=ko,ko<<=1,!(ko&130023424)&&(ko=4194304)):t=1);var r=Fe();e=ar(e,t),e!==null&&(oo(e,t,r),Je(e,r))}function fb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kv(e,r)}function pb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(t),kv(e,r)}var Cv;Cv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ke=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ke=!1,tb(e,t,r);Ke=!!(e.flags&131072)}else Ke=!1,ne&&t.flags&1048576&&Rg(t,Na,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;la(e,t),e=t.pendingProps;var s=Ls(t,Ae.current);vs(t,r),s=Rd(null,t,n,e,s,r);var i=Od();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(n)?(i=!0,Ca(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kd(t),s.updater=ll,t.stateNode=s,s._reactInternals=t,Zu(t,n,e,r),t=rc(null,t,n,!0,i,r)):(t.tag=0,ne&&i&&yd(t),Le(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(la(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=gb(n),e=xt(n,e),s){case 0:t=tc(null,t,n,e,r);break e;case 1:t=Of(null,t,n,e,r);break e;case 11:t=Pf(null,t,n,e,r);break e;case 14:t=Rf(null,t,n,xt(n.type,e),r);break e}throw Error(P(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xt(n,s),tc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xt(n,s),Of(e,t,n,s,r);case 3:e:{if(uv(t),e===null)throw Error(P(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Lg(e,t),Oa(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fs(Error(P(423)),t),t=Tf(e,t,n,r,s);break e}else if(n!==s){s=Fs(Error(P(424)),t),t=Tf(e,t,n,r,s);break e}else for(tt=Fr(t.stateNode.containerInfo.firstChild),st=t,ne=!0,Ct=null,r=Ig(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ds(),n===s){t=lr(e,t,r);break e}Le(e,t,n,r)}t=t.child}return t;case 5:return Dg(t),e===null&&Ju(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Hu(n,s)?o=null:i!==null&&Hu(n,i)&&(t.flags|=32),lv(e,t),Le(e,t,o,r),t.child;case 6:return e===null&&Ju(t),null;case 13:return cv(e,t,r);case 4:return Cd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ms(t,null,n,r):Le(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xt(n,s),Pf(e,t,n,s,r);case 7:return Le(e,t,t.pendingProps,r),t.child;case 8:return Le(e,t,t.pendingProps.children,r),t.child;case 12:return Le(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Z(Pa,n._currentValue),n._currentValue=o,i!==null)if(Ot(i.value,o)){if(i.children===s.children&&!Ge.current){t=lr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=nr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Yu(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Yu(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Le(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,vs(t,r),s=mt(s),n=n(s),t.flags|=1,Le(e,t,n,r),t.child;case 14:return n=t.type,s=xt(n,t.pendingProps),s=xt(n.type,s),Rf(e,t,n,s,r);case 15:return ov(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xt(n,s),la(e,t),t.tag=1,Qe(n)?(e=!0,Ca(t)):e=!1,vs(t,r),nv(t,n,s),Zu(t,n,s,r),rc(null,t,n,!0,e,r);case 19:return dv(e,t,r);case 22:return av(e,t,r)}throw Error(P(156,t.tag))};function jv(e,t){return eg(e,t)}function mb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,r,n){return new mb(e,t,r,n)}function zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gb(e){if(typeof e=="function")return zd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===od)return 11;if(e===ad)return 14}return 2}function Wr(e,t){var r=e.alternate;return r===null?(r=ft(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function da(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")zd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ts:return jn(r.children,s,i,t);case id:o=8,s|=8;break;case Su:return e=ft(12,r,t,s|2),e.elementType=Su,e.lanes=i,e;case Eu:return e=ft(13,r,t,s),e.elementType=Eu,e.lanes=i,e;case ku:return e=ft(19,r,t,s),e.elementType=ku,e.lanes=i,e;case Dm:return dl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $m:o=10;break e;case Lm:o=9;break e;case od:o=11;break e;case ad:o=14;break e;case xr:o=16,n=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=ft(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function jn(e,t,r,n){return e=ft(7,e,n,t),e.lanes=r,e}function dl(e,t,r,n){return e=ft(22,e,n,t),e.elementType=Dm,e.lanes=r,e.stateNode={isHidden:!1},e}function eu(e,t,r){return e=ft(6,e,null,t),e.lanes=r,e}function tu(e,t,r){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vb(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bd(e,t,r,n,s,i,o,a,l){return e=new vb(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kd(i),e}function yb(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Nv(e){if(!e)return Gr;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var r=e.type;if(Qe(r))return Ng(e,r,t)}return t}function Pv(e,t,r,n,s,i,o,a,l){return e=Bd(r,n,!0,e,s,i,o,a,l),e.context=Nv(null),r=e.current,n=Fe(),s=Vr(r),i=nr(n,s),i.callback=t??null,zr(r,i,s),e.current.lanes=s,oo(e,s,n),Je(e,n),e}function hl(e,t,r,n){var s=t.current,i=Fe(),o=Vr(s);return r=Nv(r),t.context===null?t.context=r:t.pendingContext=r,t=nr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zr(s,t,o),e!==null&&(Pt(e,s,o,i),ia(e,s,o)),o}function Ua(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vd(e,t){Bf(e,t),(e=e.alternate)&&Bf(e,t)}function wb(){return null}var Rv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wd(e){this._internalRoot=e}fl.prototype.render=Wd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));hl(e,t,null,null)};fl.prototype.unmount=Wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){hl(null,e,null,null)}),t[or]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ag();e={blockedOn:null,target:e,priority:t};for(var r=0;r<br.length&&t!==0&&t<br[r].priority;r++);br.splice(r,0,e),r===0&&ug(e)}};function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vf(){}function xb(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ua(o);i.call(u)}}var o=Pv(t,n,e,0,null,!1,!1,"",Vf);return e._reactRootContainer=o,e[or]=o.current,Di(e.nodeType===8?e.parentNode:e),Tn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Ua(l);a.call(u)}}var l=Bd(e,0,!1,null,null,!1,!1,"",Vf);return e._reactRootContainer=l,e[or]=l.current,Di(e.nodeType===8?e.parentNode:e),Tn(function(){hl(t,l,r,n)}),l}function ml(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ua(o);a.call(l)}}hl(t,o,e,s)}else o=xb(r,t,e,s,n);return Ua(o)}ig=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hi(t.pendingLanes);r!==0&&(cd(t,r|1),Je(t,de()),!(q&6)&&(zs=de()+500,Yr()))}break;case 13:Tn(function(){var n=ar(e,1);if(n!==null){var s=Fe();Pt(n,e,1,s)}}),Vd(e,1)}};dd=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var r=Fe();Pt(t,e,134217728,r)}Vd(e,134217728)}};og=function(e){if(e.tag===13){var t=Vr(e),r=ar(e,t);if(r!==null){var n=Fe();Pt(r,e,t,n)}Vd(e,t)}};ag=function(){return Y};lg=function(e,t){var r=Y;try{return Y=e,t()}finally{Y=r}};$u=function(e,t,r){switch(t){case"input":if(Nu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=il(n);if(!s)throw Error(P(90));Um(n),Nu(n,s)}}}break;case"textarea":zm(e,r);break;case"select":t=r.value,t!=null&&fs(e,!!r.multiple,t,!1)}};Gm=Md;Qm=Tn;var _b={usingClientEntryPoint:!1,Events:[lo,is,il,qm,Km,Md]},ai={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bb={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xm(e),e===null?null:e.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||wb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{tl=Lo.inject(bb),Bt=Lo}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_b;ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(t))throw Error(P(200));return yb(e,t,null,r)};ot.createRoot=function(e,t){if(!Hd(e))throw Error(P(299));var r=!1,n="",s=Rv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bd(e,1,!1,null,null,r,!1,n,s),e[or]=t.current,Di(e.nodeType===8?e.parentNode:e),new Wd(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Xm(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return Tn(e)};ot.hydrate=function(e,t,r){if(!pl(t))throw Error(P(200));return ml(null,e,t,!0,r)};ot.hydrateRoot=function(e,t,r){if(!Hd(e))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Rv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Pv(t,null,e,1,r??null,s,!1,i,o),e[or]=t.current,Di(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new fl(t)};ot.render=function(e,t,r){if(!pl(t))throw Error(P(200));return ml(null,e,t,!1,r)};ot.unmountComponentAtNode=function(e){if(!pl(e))throw Error(P(40));return e._reactRootContainer?(Tn(function(){ml(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1};ot.unstable_batchedUpdates=Md;ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!pl(r))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return ml(e,t,r,!1,n)};ot.version="18.3.1-next-f1338f8080-20240426";function Ov(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ov)}catch(e){console.error(e)}}Ov(),Om.exports=ot;var qd=Om.exports;const Sb=wm(qd);var Wf=qd;_u.createRoot=Wf.createRoot,_u.hydrateRoot=Wf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}var Lr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lr||(Lr={}));const Hf="popstate";function Eb(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return pc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Fa(s)}return Cb(t,r,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kb(){return Math.random().toString(36).substr(2,8)}function qf(e,t){return{usr:e.state,key:e.key,idx:t}}function pc(e,t,r,n){return r===void 0&&(r=null),qi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qs(t):t,{state:r,key:t&&t.key||n||kb()})}function Fa(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Cb(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Lr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(qi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Lr.Pop;let x=d(),g=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:g})}function f(x,g){a=Lr.Push;let p=pc(y.location,x,g);u=d()+1;let w=qf(p,u),b=y.createHref(p);try{o.pushState(w,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}i&&l&&l({action:a,location:y.location,delta:1})}function m(x,g){a=Lr.Replace;let p=pc(y.location,x,g);u=d();let w=qf(p,u),b=y.createHref(p);o.replaceState(w,"",b),i&&l&&l({action:a,location:y.location,delta:0})}function _(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:Fa(x);return p=p.replace(/ $/,"%20"),ge(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Hf,h),l=x,()=>{s.removeEventListener(Hf,h),l=null}},createHref(x){return t(s,x)},createURL:_,encodeLocation(x){let g=_(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(x){return o.go(x)}};return y}var Kf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kf||(Kf={}));function jb(e,t,r){return r===void 0&&(r="/"),Nb(e,t,r)}function Nb(e,t,r,n){let s=typeof t=="string"?Qs(t):t,i=Gd(s.pathname||"/",r);if(i==null)return null;let o=Tv(e);Pb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=zb(i);a=Mb(o[l],u)}return a}function Tv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ge(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Hr([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tv(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Lb(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Av(i.path))s(i,o,l)}),t}function Av(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Av(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Pb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Db(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Rb=/^:[\w-]+$/,Ob=3,Tb=2,Ab=1,Ib=10,$b=-2,Gf=e=>e==="*";function Lb(e,t){let r=e.split("/"),n=r.length;return r.some(Gf)&&(n+=$b),t&&(n+=Tb),r.filter(s=>!Gf(s)).reduce((s,i)=>s+(Rb.test(i)?Ob:i===""?Ab:Ib),n)}function Db(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Mb(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ub({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Hr([i,h.pathname]),pathnameBase:qb(Hr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Hr([i,h.pathnameBase]))}return o}function Ub(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Fb(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const _=a[h];return m&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Fb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function zb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vb=e=>Bb.test(e);function Wb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Qs(e):e,i;if(r)if(Vb(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Kd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Qf(r.substring(1),"/"):i=Qf(r,t)}else i=t;return{pathname:i,search:Kb(n),hash:Gb(s)}}function Qf(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ru(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Iv(e,t){let r=Hb(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $v(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Qs(e):(s=qi({},e),ge(!s.pathname||!s.pathname.includes("?"),ru("?","pathname","search",s)),ge(!s.pathname||!s.pathname.includes("#"),ru("#","pathname","hash",s)),ge(!s.search||!s.search.includes("#"),ru("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=Wb(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Hr=e=>e.join("/").replace(/\/\/+/g,"/"),qb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lv=["post","put","patch","delete"];new Set(Lv);const Jb=["get",...Lv];new Set(Jb);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(this,arguments)}const Qd=v.createContext(null),Yb=v.createContext(null),Un=v.createContext(null),gl=v.createContext(null),Xr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Dv=v.createContext(null);function Xb(e,t){let{relative:r}=t===void 0?{}:t;co()||ge(!1);let{basename:n,navigator:s}=v.useContext(Un),{hash:i,pathname:o,search:a}=Fv(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Hr([n,o])),s.createHref({pathname:l,search:a,hash:i})}function co(){return v.useContext(gl)!=null}function Fn(){return co()||ge(!1),v.useContext(gl).location}function Mv(e){v.useContext(Un).static||v.useLayoutEffect(e)}function Zb(){let{isDataRoute:e}=v.useContext(Xr);return e?hS():eS()}function eS(){co()||ge(!1);let e=v.useContext(Qd),{basename:t,future:r,navigator:n}=v.useContext(Un),{matches:s}=v.useContext(Xr),{pathname:i}=Fn(),o=JSON.stringify(Iv(s,r.v7_relativeSplatPath)),a=v.useRef(!1);return Mv(()=>{a.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=$v(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Hr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function Uv(){let{matches:e}=v.useContext(Xr),t=e[e.length-1];return t?t.params:{}}function Fv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(Un),{matches:s}=v.useContext(Xr),{pathname:i}=Fn(),o=JSON.stringify(Iv(s,n.v7_relativeSplatPath));return v.useMemo(()=>$v(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function tS(e,t){return rS(e,t)}function rS(e,t,r,n){co()||ge(!1);let{navigator:s}=v.useContext(Un),{matches:i}=v.useContext(Xr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Fn(),d;if(t){var h;let x=typeof t=="string"?Qs(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ge(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=jb(e,{pathname:m}),y=aS(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Hr([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Hr([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&y?v.createElement(gl.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Lr.Pop}},y):y}function nS(){let e=dS(),t=Qb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const sS=v.createElement(nS,null);class iS extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Xr.Provider,{value:this.props.routeContext},v.createElement(Dv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oS(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(Qd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Xr.Provider,{value:t},n)}function aS(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ge(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,_=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,_=!1,y=null,x=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||sS,l&&(u<0&&f===0?(fS("route-fallback"),_=!0,x=null):u===f&&(_=!0,x=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),p=()=>{let w;return m?w=y:_?w=x:h.route.Component?w=v.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,v.createElement(oS,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(iS,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var zv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zv||{}),Bv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bv||{});function lS(e){let t=v.useContext(Qd);return t||ge(!1),t}function uS(e){let t=v.useContext(Yb);return t||ge(!1),t}function cS(e){let t=v.useContext(Xr);return t||ge(!1),t}function Vv(e){let t=cS(),r=t.matches[t.matches.length-1];return r.route.id||ge(!1),r.route.id}function dS(){var e;let t=v.useContext(Dv),r=uS(),n=Vv();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function hS(){let{router:e}=lS(zv.UseNavigateStable),t=Vv(Bv.UseNavigateStable),r=v.useRef(!1);return Mv(()=>{r.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ki({fromRouteId:t},i)))},[e,t])}const Jf={};function fS(e,t,r){Jf[e]||(Jf[e]=!0)}function pS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Yn(e){ge(!1)}function mS(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Lr.Pop,navigator:i,static:o=!1,future:a}=e;co()&&ge(!1);let l=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Ki({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Qs(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:_="default"}=n,y=v.useMemo(()=>{let x=Gd(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:_},navigationType:s}},[l,d,h,f,m,_,s]);return y==null?null:v.createElement(Un.Provider,{value:u},v.createElement(gl.Provider,{children:r,value:y}))}function gS(e){let{children:t,location:r}=e;return tS(mc(t),r)}new Promise(()=>{});function mc(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let i=[...t,s];if(n.type===v.Fragment){r.push.apply(r,mc(n.props.children,i));return}n.type!==Yn&&ge(!1),!n.props.index||!n.props.children||ge(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=mc(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gc.apply(this,arguments)}function vS(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function yS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wS(e,t){return e.button===0&&(!t||t==="_self")&&!yS(e)}const xS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_S="6";try{window.__reactRouterVersion=_S}catch{}const bS="startTransition",Yf=el[bS];function SS(e){let{basename:t,children:r,future:n,window:s}=e,i=v.useRef();i.current==null&&(i.current=Eb({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&Yf?Yf(()=>l(h)):l(h)},[l,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>pS(n),[n]),v.createElement(mS,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const ES=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=t,f=vS(t,xS),{basename:m}=v.useContext(Un),_,y=!1;if(typeof u=="string"&&kS.test(u)&&(_=u,ES))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=Gd(b.pathname,m);b.origin===w.origin&&E!=null?u=E+b.search+b.hash:y=!0}catch{}let x=Xb(u,{relative:s}),g=CS(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function p(w){n&&n(w),w.defaultPrevented||g(w)}return v.createElement("a",gc({},f,{href:_||x,onClick:y||i?n:p,ref:r,target:l}))});var Xf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xf||(Xf={}));var Zf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zf||(Zf={}));function CS(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Zb(),u=Fn(),d=Fv(e,{relative:o});return v.useCallback(h=>{if(wS(h,r)){h.preventDefault();let f=n!==void 0?n:Fa(u)===Fa(d);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,e,i,o,a])}var Js=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jS={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},kr,Yc,am,NS=(am=class{constructor(){L(this,kr,jS);L(this,Yc,!1)}setTimeoutProvider(e){R(this,kr,e)}setTimeout(e,t){return S(this,kr).setTimeout(e,t)}clearTimeout(e){S(this,kr).clearTimeout(e)}setInterval(e,t){return S(this,kr).setInterval(e,t)}clearInterval(e){S(this,kr).clearInterval(e)}},kr=new WeakMap,Yc=new WeakMap,am),mn=new NS;function PS(e){setTimeout(e,0)}var In=typeof window>"u"||"Deno"in globalThis;function De(){}function RS(e,t){return typeof e=="function"?e(t):e}function vc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Wv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qr(e,t){return typeof e=="function"?e(t):e}function ut(e,t){return typeof e=="function"?e(t):e}function ep(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==Jd(o,t.options))return!1}else if(!Gi(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function tp(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if($n(t.options.mutationKey)!==$n(i))return!1}else if(!Gi(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Jd(e,t){return((t==null?void 0:t.queryKeyHashFn)||$n)(e)}function $n(e){return JSON.stringify(e,(t,r)=>yc(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Gi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Gi(e[r],t[r])):!1}var OS=Object.prototype.hasOwnProperty;function Hv(e,t){if(e===t)return e;const r=rp(e)&&rp(t);if(!r&&!(yc(e)&&yc(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,a=r?new Array(o):{};let l=0;for(let u=0;u<o;u++){const d=r?u:i[u],h=e[d],f=t[d];if(h===f){a[d]=h,(r?u<s:OS.call(e,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[d]=f;continue}const m=Hv(h,f);a[d]=m,m===h&&l++}return s===o&&l===s?e:a}function za(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function rp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yc(e){if(!np(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!np(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function np(e){return Object.prototype.toString.call(e)==="[object Object]"}function TS(e){return new Promise(t=>{mn.setTimeout(t,e)})}function wc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Hv(e,t):t}function AS(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function IS(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Yd=Symbol();function qv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Yd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Kv(e,t){return typeof e=="function"?e(...t):!!e}var vn,Cr,Ss,lm,$S=(lm=class extends Js{constructor(){super();L(this,vn);L(this,Cr);L(this,Ss);R(this,Ss,t=>{if(!In&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,Cr)||this.setEventListener(S(this,Ss))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Cr))==null||t.call(this),R(this,Cr,void 0))}setEventListener(t){var r;R(this,Ss,t),(r=S(this,Cr))==null||r.call(this),R(this,Cr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){S(this,vn)!==t&&(R(this,vn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof S(this,vn)=="boolean"?S(this,vn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vn=new WeakMap,Cr=new WeakMap,Ss=new WeakMap,lm),Xd=new $S;function xc(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var LS=PS;function DS(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=LS;const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var xe=DS(),Es,jr,ks,um,MS=(um=class extends Js{constructor(){super();L(this,Es,!0);L(this,jr);L(this,ks);R(this,ks,t=>{if(!In&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){S(this,jr)||this.setEventListener(S(this,ks))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,jr))==null||t.call(this),R(this,jr,void 0))}setEventListener(t){var r;R(this,ks,t),(r=S(this,jr))==null||r.call(this),R(this,jr,t(this.setOnline.bind(this)))}setOnline(t){S(this,Es)!==t&&(R(this,Es,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return S(this,Es)}},Es=new WeakMap,jr=new WeakMap,ks=new WeakMap,um),Ba=new MS;function US(e){return Math.min(1e3*2**e,3e4)}function Gv(e){return(e??"online")==="online"?Ba.isOnline():!0}var _c=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Qv(e){let t=!1,r=0,n;const s=xc(),i=()=>s.status!=="pending",o=y=>{var x;if(!i()){const g=new _c(y);f(g),(x=e.onCancel)==null||x.call(e,g)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>Xd.isFocused()&&(e.networkMode==="always"||Ba.isOnline())&&e.canRun(),d=()=>Gv(e.networkMode)&&e.canRun(),h=y=>{i()||(n==null||n(),s.resolve(y))},f=y=>{i()||(n==null||n(),s.reject(y))},m=()=>new Promise(y=>{var x;n=g=>{(i()||u())&&y(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var y;n=void 0,i()||(y=e.onContinue)==null||y.call(e)}),_=()=>{if(i())return;let y;const x=r===0?e.initialPromise:void 0;try{y=x??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var k;if(i())return;const p=e.retry??(In?0:3),w=e.retryDelay??US,b=typeof w=="function"?w(r,g):w,E=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,g);if(t||!E){f(g);return}r++,(k=e.onFail)==null||k.call(e,r,g),TS(b).then(()=>u()?void 0:m()).then(()=>{t?f(g):_()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():m().then(_),s)}}var yn,cm,Jv=(cm=class{constructor(){L(this,yn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vc(this.gcTime)&&R(this,yn,mn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(In?1/0:5*60*1e3))}clearGcTimeout(){S(this,yn)&&(mn.clearTimeout(S(this,yn)),R(this,yn,void 0))}},yn=new WeakMap,cm),wn,Cs,lt,xn,Se,eo,_n,bt,qt,dm,FS=(dm=class extends Jv{constructor(t){super();L(this,bt);L(this,wn);L(this,Cs);L(this,lt);L(this,xn);L(this,Se);L(this,eo);L(this,_n);R(this,_n,!1),R(this,eo,t.defaultOptions),this.setOptions(t.options),this.observers=[],R(this,xn,t.client),R(this,lt,S(this,xn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,R(this,wn,ip(this.options)),this.state=t.state??S(this,wn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,Se))==null?void 0:t.promise}setOptions(t){if(this.options={...S(this,eo),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ip(this.options);r.data!==void 0&&(this.setState(sp(r.data,r.dataUpdatedAt)),R(this,wn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,lt).remove(this)}setData(t,r){const n=wc(this.state.data,t,this.options);return V(this,bt,qt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){V(this,bt,qt).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=S(this,Se))==null?void 0:n.promise;return(s=S(this,Se))==null||s.cancel(t),r?r.then(De).catch(De):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,wn))}isActive(){return this.observers.some(t=>ut(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Wv(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,Se))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,Se))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,lt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(S(this,Se)&&(S(this,_n)?S(this,Se).cancel({revert:!0}):S(this,Se).cancelRetry()),this.scheduleGc()),S(this,lt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||V(this,bt,qt).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,d,h,f,m,_,y,x,g,p,w;if(this.state.fetchStatus!=="idle"&&((l=S(this,Se))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(S(this,Se))return S(this,Se).continueRetry(),S(this,Se).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(E=>E.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(R(this,_n,!0),n.signal)})},i=()=>{const b=qv(this.options,r),k=(()=>{const C={client:S(this,xn),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return R(this,_n,!1),this.options.persister?this.options.persister(b,k,this):b(k)},a=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:S(this,xn),state:this.state,fetchFn:i};return s(b),b})();(u=this.options.behavior)==null||u.onFetch(a,this),R(this,Cs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&V(this,bt,qt).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),R(this,Se,Qv({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:b=>{b instanceof _c&&b.revert&&this.setState({...S(this,Cs),fetchStatus:"idle"}),n.abort()},onFail:(b,E)=>{V(this,bt,qt).call(this,{type:"failed",failureCount:b,error:E})},onPause:()=>{V(this,bt,qt).call(this,{type:"pause"})},onContinue:()=>{V(this,bt,qt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const b=await S(this,Se).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(m=(f=S(this,lt).config).onSuccess)==null||m.call(f,b,this),(y=(_=S(this,lt).config).onSettled)==null||y.call(_,b,this.state.error,this),b}catch(b){if(b instanceof _c){if(b.silent)return S(this,Se).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw V(this,bt,qt).call(this,{type:"error",error:b}),(g=(x=S(this,lt).config).onError)==null||g.call(x,b,this),(w=(p=S(this,lt).config).onSettled)==null||w.call(p,this.state.data,b,this),b}finally{this.scheduleGc()}}},wn=new WeakMap,Cs=new WeakMap,lt=new WeakMap,xn=new WeakMap,Se=new WeakMap,eo=new WeakMap,_n=new WeakMap,bt=new WeakSet,qt=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Yv(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...sp(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return R(this,Cs,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),xe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),S(this,lt).notify({query:this,type:"updated",action:t})})},dm);function Yv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sp(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ip(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ve,H,to,Ie,bn,js,Jt,Nr,ro,Ns,Ps,Sn,En,Pr,Rs,J,pi,bc,Sc,Ec,kc,Cc,jc,Nc,Xv,hm,zS=(hm=class extends Js{constructor(t,r){super();L(this,J);L(this,Ve);L(this,H);L(this,to);L(this,Ie);L(this,bn);L(this,js);L(this,Jt);L(this,Nr);L(this,ro);L(this,Ns);L(this,Ps);L(this,Sn);L(this,En);L(this,Pr);L(this,Rs,new Set);this.options=r,R(this,Ve,t),R(this,Nr,null),R(this,Jt,xc()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,H).addObserver(this),op(S(this,H),this.options)?V(this,J,pi).call(this):this.updateResult(),V(this,J,kc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pc(S(this,H),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pc(S(this,H),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,V(this,J,Cc).call(this),V(this,J,jc).call(this),S(this,H).removeObserver(this)}setOptions(t){const r=this.options,n=S(this,H);if(this.options=S(this,Ve).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ut(this.options.enabled,S(this,H))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");V(this,J,Nc).call(this),S(this,H).setOptions(this.options),r._defaulted&&!za(this.options,r)&&S(this,Ve).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,H),observer:this});const s=this.hasListeners();s&&ap(S(this,H),n,this.options,r)&&V(this,J,pi).call(this),this.updateResult(),s&&(S(this,H)!==n||ut(this.options.enabled,S(this,H))!==ut(r.enabled,S(this,H))||qr(this.options.staleTime,S(this,H))!==qr(r.staleTime,S(this,H)))&&V(this,J,bc).call(this);const i=V(this,J,Sc).call(this);s&&(S(this,H)!==n||ut(this.options.enabled,S(this,H))!==ut(r.enabled,S(this,H))||i!==S(this,Pr))&&V(this,J,Ec).call(this,i)}getOptimisticResult(t){const r=S(this,Ve).getQueryCache().build(S(this,Ve),t),n=this.createResult(r,t);return VS(this,n)&&(R(this,Ie,n),R(this,js,this.options),R(this,bn,S(this,H).state)),n}getCurrentResult(){return S(this,Ie)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&S(this,Jt).status==="pending"&&S(this,Jt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){S(this,Rs).add(t)}getCurrentQuery(){return S(this,H)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=S(this,Ve).defaultQueryOptions(t),n=S(this,Ve).getQueryCache().build(S(this,Ve),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return V(this,J,pi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,Ie)))}createResult(t,r){var A;const n=S(this,H),s=this.options,i=S(this,Ie),o=S(this,bn),a=S(this,js),u=t!==n?t.state:S(this,to),{state:d}=t;let h={...d},f=!1,m;if(r._optimisticResults){const j=this.hasListeners(),F=!j&&op(t,r),D=j&&ap(t,n,r,s);(F||D)&&(h={...h,...Yv(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:_,errorUpdatedAt:y,status:x}=h;m=h.data;let g=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let j;i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(j=i.data,g=!0):j=typeof r.placeholderData=="function"?r.placeholderData((A=S(this,Ps))==null?void 0:A.state.data,S(this,Ps)):r.placeholderData,j!==void 0&&(x="success",m=wc(i==null?void 0:i.data,j,r),f=!0)}if(r.select&&m!==void 0&&!g)if(i&&m===(o==null?void 0:o.data)&&r.select===S(this,ro))m=S(this,Ns);else try{R(this,ro,r.select),m=r.select(m),m=wc(i==null?void 0:i.data,m,r),R(this,Ns,m),R(this,Nr,null)}catch(j){R(this,Nr,j)}S(this,Nr)&&(_=S(this,Nr),m=S(this,Ns),y=Date.now(),x="error");const p=h.fetchStatus==="fetching",w=x==="pending",b=x==="error",E=w&&p,k=m!==void 0,N={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:b,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:h.dataUpdatedAt,error:_,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!w,isLoadingError:b&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&k,isStale:Zd(t,r),refetch:this.refetch,promise:S(this,Jt),isEnabled:ut(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const j=K=>{N.status==="error"?K.reject(N.error):N.data!==void 0&&K.resolve(N.data)},F=()=>{const K=R(this,Jt,N.promise=xc());j(K)},D=S(this,Jt);switch(D.status){case"pending":t.queryHash===n.queryHash&&j(D);break;case"fulfilled":(N.status==="error"||N.data!==D.value)&&F();break;case"rejected":(N.status!=="error"||N.error!==D.reason)&&F();break}}return N}updateResult(){const t=S(this,Ie),r=this.createResult(S(this,H),this.options);if(R(this,bn,S(this,H).state),R(this,js,this.options),S(this,bn).data!==void 0&&R(this,Ps,S(this,H)),za(r,t))return;R(this,Ie,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!S(this,Rs).size)return!0;const o=new Set(i??S(this,Rs));return this.options.throwOnError&&o.add("error"),Object.keys(S(this,Ie)).some(a=>{const l=a;return S(this,Ie)[l]!==t[l]&&o.has(l)})};V(this,J,Xv).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&V(this,J,kc).call(this)}},Ve=new WeakMap,H=new WeakMap,to=new WeakMap,Ie=new WeakMap,bn=new WeakMap,js=new WeakMap,Jt=new WeakMap,Nr=new WeakMap,ro=new WeakMap,Ns=new WeakMap,Ps=new WeakMap,Sn=new WeakMap,En=new WeakMap,Pr=new WeakMap,Rs=new WeakMap,J=new WeakSet,pi=function(t){V(this,J,Nc).call(this);let r=S(this,H).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(De)),r},bc=function(){V(this,J,Cc).call(this);const t=qr(this.options.staleTime,S(this,H));if(In||S(this,Ie).isStale||!vc(t))return;const n=Wv(S(this,Ie).dataUpdatedAt,t)+1;R(this,Sn,mn.setTimeout(()=>{S(this,Ie).isStale||this.updateResult()},n))},Sc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,H)):this.options.refetchInterval)??!1},Ec=function(t){V(this,J,jc).call(this),R(this,Pr,t),!(In||ut(this.options.enabled,S(this,H))===!1||!vc(S(this,Pr))||S(this,Pr)===0)&&R(this,En,mn.setInterval(()=>{(this.options.refetchIntervalInBackground||Xd.isFocused())&&V(this,J,pi).call(this)},S(this,Pr)))},kc=function(){V(this,J,bc).call(this),V(this,J,Ec).call(this,V(this,J,Sc).call(this))},Cc=function(){S(this,Sn)&&(mn.clearTimeout(S(this,Sn)),R(this,Sn,void 0))},jc=function(){S(this,En)&&(mn.clearInterval(S(this,En)),R(this,En,void 0))},Nc=function(){const t=S(this,Ve).getQueryCache().build(S(this,Ve),this.options);if(t===S(this,H))return;const r=S(this,H);R(this,H,t),R(this,to,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Xv=function(t){xe.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(S(this,Ie))}),S(this,Ve).getQueryCache().notify({query:S(this,H),type:"observerResultsUpdated"})})},hm);function BS(e,t){return ut(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function op(e,t){return BS(e,t)||e.state.data!==void 0&&Pc(e,t,t.refetchOnMount)}function Pc(e,t,r){if(ut(t.enabled,e)!==!1&&qr(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Zd(e,t)}return!1}function ap(e,t,r,n){return(e!==t||ut(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Zd(e,r)}function Zd(e,t){return ut(t.enabled,e)!==!1&&e.isStaleByTime(qr(t.staleTime,e))}function VS(e,t){return!za(e.getCurrentResult(),t)}function lp(e){return{onFetch:(t,r)=>{var d,h,f,m,_;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((_=t.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=qv(t.options,t.fetchOptions),p=async(w,b,E)=>{if(y)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:b,direction:E?"backward":"forward",meta:t.options.meta};return x(F),F})(),N=await g(C),{maxPages:A}=t.options,j=E?IS:AS;return{pages:j(w.pages,N,A),pageParams:j(w.pageParams,b,A)}};if(s&&i.length){const w=s==="backward",b=w?WS:up,E={pages:i,pageParams:o},k=b(n,E);a=await p(E,k,w)}else{const w=e??i.length;do{const b=l===0?o[0]??n.initialPageParam:up(n,a);if(l>0&&b==null)break;a=await p(a,b),l++}while(l<w)}return a};t.options.persister?t.fetchFn=()=>{var y,x;return(x=(y=t.options).persister)==null?void 0:x.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function up(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function WS(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var no,Mt,$e,kn,Ut,yr,fm,HS=(fm=class extends Jv{constructor(t){super();L(this,Ut);L(this,no);L(this,Mt);L(this,$e);L(this,kn);R(this,no,t.client),this.mutationId=t.mutationId,R(this,$e,t.mutationCache),R(this,Mt,[]),this.state=t.state||Zv(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,Mt).includes(t)||(S(this,Mt).push(t),this.clearGcTimeout(),S(this,$e).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){R(this,Mt,S(this,Mt).filter(r=>r!==t)),this.scheduleGc(),S(this,$e).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,Mt).length||(this.state.status==="pending"?this.scheduleGc():S(this,$e).remove(this))}continue(){var t;return((t=S(this,kn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,d,h,f,m,_,y,x,g,p,w,b,E,k,C,N,A;const r=()=>{V(this,Ut,yr).call(this,{type:"continue"})},n={client:S(this,no),meta:this.options.meta,mutationKey:this.options.mutationKey};R(this,kn,Qv({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(j,F)=>{V(this,Ut,yr).call(this,{type:"failed",failureCount:j,error:F})},onPause:()=>{V(this,Ut,yr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,$e).canRun(this)}));const s=this.state.status==="pending",i=!S(this,kn).canStart();try{if(s)r();else{V(this,Ut,yr).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=S(this,$e).config).onMutate)==null?void 0:a.call(o,t,this,n));const F=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));F!==this.state.context&&V(this,Ut,yr).call(this,{type:"pending",context:F,variables:t,isPaused:i})}const j=await S(this,kn).start();return await((h=(d=S(this,$e).config).onSuccess)==null?void 0:h.call(d,j,t,this.state.context,this,n)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,j,t,this.state.context,n)),await((y=(_=S(this,$e).config).onSettled)==null?void 0:y.call(_,j,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,j,null,t,this.state.context,n)),V(this,Ut,yr).call(this,{type:"success",data:j}),j}catch(j){try{throw await((w=(p=S(this,$e).config).onError)==null?void 0:w.call(p,j,t,this.state.context,this,n)),await((E=(b=this.options).onError)==null?void 0:E.call(b,j,t,this.state.context,n)),await((C=(k=S(this,$e).config).onSettled)==null?void 0:C.call(k,void 0,j,this.state.variables,this.state.context,this,n)),await((A=(N=this.options).onSettled)==null?void 0:A.call(N,void 0,j,t,this.state.context,n)),j}finally{V(this,Ut,yr).call(this,{type:"error",error:j})}}finally{S(this,$e).runNext(this)}}},no=new WeakMap,Mt=new WeakMap,$e=new WeakMap,kn=new WeakMap,Ut=new WeakSet,yr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xe.batch(()=>{S(this,Mt).forEach(n=>{n.onMutationUpdate(t)}),S(this,$e).notify({mutation:this,type:"updated",action:t})})},fm);function Zv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yt,St,so,pm,qS=(pm=class extends Js{constructor(t={}){super();L(this,Yt);L(this,St);L(this,so);this.config=t,R(this,Yt,new Set),R(this,St,new Map),R(this,so,0)}build(t,r,n){const s=new HS({client:t,mutationCache:this,mutationId:++wo(this,so)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){S(this,Yt).add(t);const r=Do(t);if(typeof r=="string"){const n=S(this,St).get(r);n?n.push(t):S(this,St).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(S(this,Yt).delete(t)){const r=Do(t);if(typeof r=="string"){const n=S(this,St).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&S(this,St).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Do(t);if(typeof r=="string"){const n=S(this,St).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Do(t);if(typeof r=="string"){const s=(n=S(this,St).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xe.batch(()=>{S(this,Yt).forEach(t=>{this.notify({type:"removed",mutation:t})}),S(this,Yt).clear(),S(this,St).clear()})}getAll(){return Array.from(S(this,Yt))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>tp(r,n))}findAll(t={}){return this.getAll().filter(r=>tp(t,r))}notify(t){xe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xe.batch(()=>Promise.all(t.map(r=>r.continue().catch(De))))}},Yt=new WeakMap,St=new WeakMap,so=new WeakMap,pm);function Do(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Xt,Rr,We,Zt,sr,ha,Rc,mm,KS=(mm=class extends Js{constructor(r,n){super();L(this,sr);L(this,Xt);L(this,Rr);L(this,We);L(this,Zt);R(this,Xt,r),this.setOptions(n),this.bindMethods(),V(this,sr,ha).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=S(this,Xt).defaultMutationOptions(r),za(this.options,n)||S(this,Xt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,We),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&$n(n.mutationKey)!==$n(this.options.mutationKey)?this.reset():((s=S(this,We))==null?void 0:s.state.status)==="pending"&&S(this,We).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=S(this,We))==null||r.removeObserver(this)}onMutationUpdate(r){V(this,sr,ha).call(this),V(this,sr,Rc).call(this,r)}getCurrentResult(){return S(this,Rr)}reset(){var r;(r=S(this,We))==null||r.removeObserver(this),R(this,We,void 0),V(this,sr,ha).call(this),V(this,sr,Rc).call(this)}mutate(r,n){var s;return R(this,Zt,n),(s=S(this,We))==null||s.removeObserver(this),R(this,We,S(this,Xt).getMutationCache().build(S(this,Xt),this.options)),S(this,We).addObserver(this),S(this,We).execute(r)}},Xt=new WeakMap,Rr=new WeakMap,We=new WeakMap,Zt=new WeakMap,sr=new WeakSet,ha=function(){var n;const r=((n=S(this,We))==null?void 0:n.state)??Zv();R(this,Rr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Rc=function(r){xe.batch(()=>{var n,s,i,o,a,l,u,d;if(S(this,Zt)&&this.hasListeners()){const h=S(this,Rr).variables,f=S(this,Rr).context,m={client:S(this,Xt),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=S(this,Zt)).onSuccess)==null||s.call(n,r.data,h,f,m),(o=(i=S(this,Zt)).onSettled)==null||o.call(i,r.data,null,h,f,m)):(r==null?void 0:r.type)==="error"&&((l=(a=S(this,Zt)).onError)==null||l.call(a,r.error,h,f,m),(d=(u=S(this,Zt)).onSettled)==null||d.call(u,void 0,r.error,h,f,m))}this.listeners.forEach(h=>{h(S(this,Rr))})})},mm),Ft,gm,GS=(gm=class extends Js{constructor(t={}){super();L(this,Ft);this.config=t,R(this,Ft,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Jd(s,r);let o=this.get(i);return o||(o=new FS({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){S(this,Ft).has(t.queryHash)||(S(this,Ft).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=S(this,Ft).get(t.queryHash);r&&(t.destroy(),r===t&&S(this,Ft).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,Ft).get(t)}getAll(){return[...S(this,Ft).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ep(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ep(t,n)):r}notify(t){xe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ft=new WeakMap,gm),le,Or,Tr,Os,Ts,Ar,As,Is,vm,QS=(vm=class{constructor(e={}){L(this,le);L(this,Or);L(this,Tr);L(this,Os);L(this,Ts);L(this,Ar);L(this,As);L(this,Is);R(this,le,e.queryCache||new GS),R(this,Or,e.mutationCache||new qS),R(this,Tr,e.defaultOptions||{}),R(this,Os,new Map),R(this,Ts,new Map),R(this,Ar,0)}mount(){wo(this,Ar)._++,S(this,Ar)===1&&(R(this,As,Xd.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,le).onFocus())})),R(this,Is,Ba.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,le).onOnline())})))}unmount(){var e,t;wo(this,Ar)._--,S(this,Ar)===0&&((e=S(this,As))==null||e.call(this),R(this,As,void 0),(t=S(this,Is))==null||t.call(this),R(this,Is,void 0))}isFetching(e){return S(this,le).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,Or).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,le).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=S(this,le).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(qr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return S(this,le).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=S(this,le).get(n.queryHash),i=s==null?void 0:s.state.data,o=RS(t,i);if(o!==void 0)return S(this,le).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return xe.batch(()=>S(this,le).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,le).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=S(this,le);xe.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=S(this,le);return xe.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=xe.batch(()=>S(this,le).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(De).catch(De)}invalidateQueries(e,t={}){return xe.batch(()=>(S(this,le).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=xe.batch(()=>S(this,le).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(De)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(De)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=S(this,le).build(this,t);return r.isStaleByTime(qr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(De).catch(De)}fetchInfiniteQuery(e){return e.behavior=lp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(De).catch(De)}ensureInfiniteQueryData(e){return e.behavior=lp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ba.isOnline()?S(this,Or).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,le)}getMutationCache(){return S(this,Or)}getDefaultOptions(){return S(this,Tr)}setDefaultOptions(e){R(this,Tr,e)}setQueryDefaults(e,t){S(this,Os).set($n(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,Os).values()],r={};return t.forEach(n=>{Gi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){S(this,Ts).set($n(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,Ts).values()],r={};return t.forEach(n=>{Gi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,Tr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Jd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Yd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,Tr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,le).clear(),S(this,Or).clear()}},le=new WeakMap,Or=new WeakMap,Tr=new WeakMap,Os=new WeakMap,Ts=new WeakMap,Ar=new WeakMap,As=new WeakMap,Is=new WeakMap,vm),ey=v.createContext(void 0),eh=e=>{const t=v.useContext(ey);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},JS=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(ey.Provider,{value:e,children:t})),ty=v.createContext(!1),YS=()=>v.useContext(ty);ty.Provider;function XS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ZS=v.createContext(XS()),eE=()=>v.useContext(ZS),tE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},rE=e=>{v.useEffect(()=>{e.clearReset()},[e])},nE=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Kv(r,[e.error,n])),sE=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},iE=(e,t)=>e.isLoading&&e.isFetching&&!t,oE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,cp=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function aE(e,t,r){var h,f,m,_,y;const n=YS(),s=eE(),i=eh(),o=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",sE(o),tE(o,s),rE(s);const a=!i.getQueryCache().get(o.queryHash),[l]=v.useState(()=>new t(i,o)),u=l.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(x=>{const g=d?l.subscribe(xe.batchCalls(x)):De;return l.updateResult(),g},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),v.useEffect(()=>{l.setOptions(o)},[o,l]),oE(o,u))throw cp(o,l,s);if(nE({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((_=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||_.call(m,o,u),o.experimental_prefetchInRender&&!In&&iE(u,n)){const x=a?cp(o,l,s):(y=i.getQueryCache().get(o.queryHash))==null?void 0:y.promise;x==null||x.catch(De).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function ur(e,t){return aE(e,zS)}function ry(e,t){const r=eh(),[n]=v.useState(()=>new KS(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(xe.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,a)=>{n.mutate(o,a).catch(De)},[n]);if(s.error&&Kv(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function dp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hr(...e){return t=>{let r=!1;const n=e.map(s=>{const i=dp(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():dp(e[s],null)}}}}function Tt(...e){return v.useCallback(hr(...e),e)}var lE=Symbol.for("react.lazy"),Va=el[" use ".trim().toString()];function uE(e){return typeof e=="object"&&e!==null&&"then"in e}function ny(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===lE&&"_payload"in e&&uE(e._payload)}function sy(e){const t=dE(e),r=v.forwardRef((n,s)=>{let{children:i,...o}=n;ny(i)&&typeof Va=="function"&&(i=Va(i._payload));const a=v.Children.toArray(i),l=a.find(fE);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var cE=sy("Slot");function dE(e){const t=v.forwardRef((r,n)=>{let{children:s,...i}=r;if(ny(s)&&typeof Va=="function"&&(s=Va(s._payload)),v.isValidElement(s)){const o=mE(s),a=pE(i,s.props);return s.type!==v.Fragment&&(a.ref=n?hr(n,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hE=Symbol("radix.slottable");function fE(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hE}function pE(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function mE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function iy(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=iy(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function oy(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=iy(e))&&(n&&(n+=" "),n+=t);return n}const hp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fp=oy,ay=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return fp(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const f=hp(d)||hp(h);return s[u][f]}),a=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(_=>{let[y,x]=_;return Array.isArray(x)?x.includes({...i,...a}[y]):{...i,...a}[y]===x})?[...u,h,f]:u},[]);return fp(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},th="-",gE=e=>{const t=yE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(th);return a[0]===""&&a.length!==1&&a.shift(),ly(a,t)||vE(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},ly=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?ly(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(th);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},pp=/^\[(.+)\]$/,vE=e=>{if(pp.test(e)){const t=pp.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},yE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return xE(Object.entries(e.classGroups),r).forEach(([i,o])=>{Oc(o,n,i,t)}),n},Oc=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:mp(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(wE(s)){Oc(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Oc(o,mp(t,i),r,n)})})},mp=(e,t)=>{let r=e;return t.split(th).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},wE=e=>e.isThemeGetter,xE=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,_E=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},uy="!",bE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let g=a[x];if(u===0){if(g===s&&(n||a.slice(x,x+i)===t)){l.push(a.slice(d,x)),d=x+i;continue}if(g==="/"){h=x;continue}}g==="["?u++:g==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(uy),_=m?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:_,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:o}):o},SE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},EE=e=>({cache:_E(e.cacheSize),parseClassName:bE(e),...gE(e)}),kE=/\s+/,CE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(kE);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let _=!!m,y=n(_?f.substring(0,m):f);if(!y){if(!_){a=u+(a.length>0?" "+a:a);continue}if(y=n(f),!y){a=u+(a.length>0?" "+a:a);continue}_=!1}const x=SE(d).join(":"),g=h?x+uy:x,p=g+y;if(i.includes(p))continue;i.push(p);const w=s(y,_);for(let b=0;b<w.length;++b){const E=w[b];i.push(g+E)}a=u+(a.length>0?" "+a:a)}return a};function jE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=cy(t))&&(n&&(n+=" "),n+=r);return n}const cy=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=cy(e[n]))&&(r&&(r+=" "),r+=t);return r};function NE(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((d,h)=>h(d),e());return r=EE(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=CE(l,r);return s(l,d),d}return function(){return i(jE.apply(null,arguments))}}const ee=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},dy=/^\[(?:([a-z-]+):)?(.+)\]$/i,PE=/^\d+\/\d+$/,RE=new Set(["px","full","screen"]),OE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$E=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ht=e=>ws(e)||RE.has(e)||PE.test(e),mr=e=>Ys(e,"length",VE),ws=e=>!!e&&!Number.isNaN(Number(e)),nu=e=>Ys(e,"number",ws),li=e=>!!e&&Number.isInteger(Number(e)),LE=e=>e.endsWith("%")&&ws(e.slice(0,-1)),B=e=>dy.test(e),gr=e=>OE.test(e),DE=new Set(["length","size","percentage"]),ME=e=>Ys(e,DE,hy),UE=e=>Ys(e,"position",hy),FE=new Set(["image","url"]),zE=e=>Ys(e,FE,HE),BE=e=>Ys(e,"",WE),ui=()=>!0,Ys=(e,t,r)=>{const n=dy.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},VE=e=>TE.test(e)&&!AE.test(e),hy=()=>!1,WE=e=>IE.test(e),HE=e=>$E.test(e),qE=()=>{const e=ee("colors"),t=ee("spacing"),r=ee("blur"),n=ee("brightness"),s=ee("borderColor"),i=ee("borderRadius"),o=ee("borderSpacing"),a=ee("borderWidth"),l=ee("contrast"),u=ee("grayscale"),d=ee("hueRotate"),h=ee("invert"),f=ee("gap"),m=ee("gradientColorStops"),_=ee("gradientColorStopPositions"),y=ee("inset"),x=ee("margin"),g=ee("opacity"),p=ee("padding"),w=ee("saturate"),b=ee("scale"),E=ee("sepia"),k=ee("skew"),C=ee("space"),N=ee("translate"),A=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",B,t],D=()=>[B,t],K=()=>["",Ht,mr],vt=()=>["auto",ws,B],go=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fr=()=>["solid","dashed","dotted","double","none"],zn=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",B],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[ws,B];return{cacheSize:500,separator:":",theme:{colors:[ui],spacing:[Ht,mr],blur:["none","",gr,B],brightness:G(),borderColor:[e],borderRadius:["none","","full",gr,B],borderSpacing:D(),borderWidth:K(),contrast:G(),grayscale:U(),hueRotate:G(),invert:U(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[LE,mr],inset:F(),margin:F(),opacity:G(),padding:D(),saturate:G(),scale:G(),sepia:U(),skew:G(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",B]}],container:["container"],columns:[{columns:[gr]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...go(),B]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",li,B]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",B]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",li,B]}],"grid-cols":[{"grid-cols":[ui]}],"col-start-end":[{col:["auto",{span:["full",li,B]},B]}],"col-start":[{"col-start":vt()}],"col-end":[{"col-end":vt()}],"grid-rows":[{"grid-rows":[ui]}],"row-start-end":[{row:["auto",{span:[li,B]},B]}],"row-start":[{"row-start":vt()}],"row-end":[{"row-end":vt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",B]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",B]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",B,t]}],"min-w":[{"min-w":[B,t,"min","max","fit"]}],"max-w":[{"max-w":[B,t,"none","full","min","max","fit","prose",{screen:[gr]},gr]}],h:[{h:[B,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[B,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[B,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[B,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gr,mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nu]}],"font-family":[{font:[ui]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",B]}],"line-clamp":[{"line-clamp":["none",ws,nu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ht,B]}],"list-image":[{"list-image":["none",B]}],"list-style-type":[{list:["none","disc","decimal",B]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fr(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ht,mr]}],"underline-offset":[{"underline-offset":["auto",Ht,B]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",B]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",B]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...go(),UE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ME]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...fr(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:fr()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...fr()]}],"outline-offset":[{"outline-offset":[Ht,B]}],"outline-w":[{outline:[Ht,mr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Ht,mr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gr,BE]}],"shadow-color":[{shadow:[ui]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...zn(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":zn()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",gr,B]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",B]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",B]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",B]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[li,B]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",B]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",B]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",B]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ht,mr,nu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KE=NE(qE);function he(...e){return KE(oy(e))}const GE=ay("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?cE:"button";return c.jsx(o,{className:he(GE({variant:t,size:r,className:e})),ref:i,...s})});Q.displayName="Button";const QE=ay("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function me({className:e,variant:t,...r}){return c.jsx("div",{className:he(QE({variant:t}),e),...r})}const rt=v.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));rt.displayName="Card";const nt=v.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-6",e),...t}));nt.displayName="CardHeader";const qe=v.forwardRef(({className:e,...t},r)=>c.jsx("h3",{ref:r,className:he("text-2xl font-semibold leading-none tracking-tight",e),...t}));qe.displayName="CardTitle";const Rt=v.forwardRef(({className:e,...t},r)=>c.jsx("p",{ref:r,className:he("text-sm text-muted-foreground",e),...t}));Rt.displayName="CardDescription";const jt=v.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:he("p-6 pt-0",e),...t}));jt.displayName="CardContent";const fy=v.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:he("flex items-center p-6 pt-0",e),...t}));fy.displayName="CardFooter";const JE=`You are an expert in curriculum design and software engineering. Your task is to generate a comprehensive and structured curriculum for the given programming language or technology, based on the provided JSON data.

Phase 1 (this call): generate the main topics only. Do NOT generate subtopicsset "subtopics": [] for every topic. Outcomes must be structured, because subtopics will be generated in a follow-up LLM call from these outcomes.

The output should be a single JSON object that strictly adheres to the following JSON structure. All fields must be present, even if empty (e.g., empty array [] or null).

\`\`\`json
{
  "language": "string",
  "generated_at": "string (ISO 8601 format, e.g., '2023-10-27T10:00:00')",
  "overall_learning_path": [
    {
      "level": "string (e.g., 'Beginner', 'Intermediate', 'Advanced', 'Expert')",
      "estimated_hours": "number (total estimated hours for this level)",
      "topics": [
        {
          "id": "string (unique identifier for the topic)",
          "title": "string",
          "description": "string",
          "order": "number (recommended learning order within its level)",
          "estimated_hours": "number",
          "prerequisites": ["string (list of topic IDs that are prerequisites)"],
          "outcomes": [
            {
              "id": "string (unique id for the outcome)",
              "title": "string (short, student-friendly statement of the outcome)",
              "description": "string (1-3 sentences describing the capability)",
              "success_criteria": "string (how to verify the learner achieved it; optional)",
              "assessment_idea": "string (short idea for a quick check or exercise; optional)"
            }
          ],
          "example_exercises": ["string"],
          "helpful_references": [
            {
              "source_id": "string (refers to CanonicalSourceDTO.id)",
              "url": "string (direct URL to the relevant section if possible)",
              "snippet": "string (short text excerpt from the source)",
              "short_evidence": "string (AI-generated short evidence line)"
            }
          ],
          "explainability": ["string (which input sources influenced this topic)"],
          "subtopics": []
        }
      ]
    }
  ],
  "canonical_sources": [
    {
      "id": "string (unique identifier for the source, e.g., a slug derived from the URL or a UUID)",
      "title": "string",
      "url": "string",
      "steward": "string (e.g., 'Oracle', 'MDN', 'Spring')",
      "type": "string (e.g., 'Official Docs', 'Tutorial', 'API Reference')",
      "confidence": "number (LLM's confidence in this source's authority)",
      "short_summary": "string (AI-generated brief description)"
    }
  ],
  "core_sources": ["string"],
  "supplemental_sources": ["string"],
  "practice_projects": [
    {
      "title": "string",
      "description": "string",
      "difficulty": "string (e.g., 'Beginner', 'Intermediate')",
      "estimated_hours": "number",
      "outcomes": ["string (skills gained from completing this project)"]
    }
  ],
  "explanation": "string (how the LLM consolidated sources and decided ordering)",
  "model_version": "string (LLM model version used)"
}
\`\`\`

Here is the JSON data:
{curriculumData}`,YE=`You are an expert in curriculum design and software engineering. Your task is to generate a curated list of 5-10 high-quality, authoritative learning resources for the given subtopic, with full awareness of the subject  topic  subtopic hierarchy.

These resources should include a mix of: official documentation, verified tutorials, YouTube videos from authoritative instructors, GitHub repos, books, and high-quality technical articles.

The selection and confidence scoring of these resources should be heavily influenced by the provided trust profile, which weighs factors like authority, recency, clarity, and depth. Use the asset scoring model to align each resource with the correct tier and asset_type, and keep only resources that meet the tier's min_final_score threshold.

The output should be a single JSON array that strictly adheres to the following structure, where each item is a LearningResourceDTO:

\`\`\`json
[
  {
    "title": "string (Title of the learning resource)",
    "url": "string (URL of the learning resource)",
    "type": "string (Type of resource: 'Documentation', 'Video', 'Article', 'GitHub', 'Book', 'Tutorial')",
    "authority_score": "number (A score from 0.0 to 1.0 indicating its authority based on the trust profile)",
    "short_summary": "string (AI-generated brief description of the resource)",
    "tier_id": "string (one of the assetScoring tier ids)",
    "asset_type": "string (one of the asset_types allowed for that tier)",
    "final_score": "number (0.0-1.0 weighted score using the asset scoring model)",
    "rationale": "string (why this resource fits the tier and passes thresholds)"
  }
]
\`\`\`

Here is the context:
Language: {language}
Topic Path: {topicPath}
Subtopic: {subtopicTitle}
Trust Profile Weights: {trustProfileData}
Asset Scoring Model: {assetScoringData}

Rules:
- Only include URLs that are publicly reachable (no paywalls, no 404s, no placeholders) and that clearly match the claimed resource type.
- Align each item to the best-fit tier and asset_type from the model.
- Drop anything that does not meet the tier's min_final_score.
- Prefer a diverse mix across tiers while staying within per-lesson selection ranges if possible.
- Select resources that clearly align to the specific subtopic, using the topic path for context to disambiguate titles that could belong to multiple areas.`,XE=`You are an expert curriculum designer. Given a main topic and its outcomes, generate only the subtopics for that topic.

Rules:
- Derive subtopics directly from the topic's outcomes. Each outcome should be reflected as one or more concise subtopics.
- Subtopic titles must be short (26 words), concrete, and student-friendly.
- Descriptions should be 13 sentences clarifying scope and expectation.
- Include structured outcomes for each subtopic (same shape as main outcomes).
- Do not include resources/assets here; those are generated separately.
- Do not include any additional levels beyond subtopics; do not include practice projects here.

Return JSON with:
{
  "topic_id": "string",
  "subtopics": [
    {
      "id": "string",
      "title": "string",
      "description": "string",
      "order": "number",
      "estimated_hours": "number",
      "prerequisites": ["string"],
      "outcomes": [
        {
          "id": "string",
          "title": "string",
          "description": "string",
          "success_criteria": "string (optional)",
          "assessment_idea": "string (optional)"
        }
      ],
      "example_exercises": ["string"],
      "helpful_references": [
        {
          "source_id": "string",
          "url": "string",
          "snippet": "string",
          "short_evidence": "string"
        }
      ],
      "explainability": ["string"],
      "subtopics": []
    }
  ]
}

Context:
Language: {language}
Topic JSON:
{topicData}`;function ZE(e){var r;if(!((r=e==null?void 0:e.tiers)!=null&&r.length))return"None";const t=e.tiers.map(n=>{var s,i,o,a;return{id:n.id,label:n.label,asset_types:n.asset_types,min_final_score:((s=n.thresholds)==null?void 0:s.min_final_score)??((o=(i=n.scoring_model)==null?void 0:i.thresholds)==null?void 0:o.min_final_score),selection:(a=n.selection_rules)==null?void 0:a.per_lesson}});return JSON.stringify({version:e.version,tiers:t})}function ek(e){if(typeof e!="string")return"";const t=e.trim();return t?/^https?:\/\//i.test(t)?t:`https://${t}`:""}function tk(e,t){var d,h,f,m;const r=e.map(_=>({..._,url:ek(_.url)})).filter(_=>_.url);if(!((d=t==null?void 0:t.tiers)!=null&&d.length)){const _=new Set;return r.filter(y=>_.has(y.url)?!1:(_.add(y.url),!0))}const n=new Map(t.tiers.map(_=>[_.id,_])),s=new Map,i=[];for(const _ of r){let y=typeof _.tier_id=="string"?_.tier_id:void 0;if(!y&&_.asset_type){const b=t.tiers.find(E=>{var k;return(k=E.asset_types)==null?void 0:k.includes(_.asset_type)});y=b==null?void 0:b.id}if(!y||!n.has(y)){i.push(_);continue}const x=n.get(y),g=((h=x.thresholds)==null?void 0:h.min_final_score)??((m=(f=x.scoring_model)==null?void 0:f.thresholds)==null?void 0:m.min_final_score)??0;if((Number.isFinite(_.final_score)?Number(_.final_score):Number(_.authority_score??0))<g)continue;const w=s.get(y)??[];w.push({..._,tier_id:y}),s.set(y,w)}const o=[...t.tiers].sort((_,y)=>(_.order??0)-(y.order??0)),a=[];o.forEach(_=>{var p,w;const y=(s.get(_.id)??[]).sort((b,E)=>(E.final_score??E.authority_score??0)-(b.final_score??b.authority_score??0)),x=(w=(p=_.selection_rules)==null?void 0:p.per_lesson)==null?void 0:w.max,g=typeof x=="number"&&x>0?y.slice(0,x):y;a.push(...g)});const l=new Set,u=_=>_.filter(y=>l.has(y.url)?!1:(l.add(y.url),!0));return[...u(a),...u(i)]}async function rk(e){if(!e.length)return e;try{const t=await fetch("/api/url-validator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:e.map(s=>s.url).filter(Boolean)})});if(!t.ok)return e;const r=await t.json(),n=new Set(((r==null?void 0:r.results)??[]).filter(s=>(s==null?void 0:s.ok)&&typeof(s==null?void 0:s.url)=="string").map(s=>s.url));return e.filter(s=>n.has(s.url))}catch{return e}}let Mo=null,Uo=null;const fa=new Map,su=new Map,py=new Map,my="curriculumCache";async function gy(){return Mo||Uo||(Uo=(async()=>{const t=await fetch("/api/curriculum-config");if(!t.ok)throw new Error(`Failed to fetch curriculum config: ${t.status} ${t.statusText}`);const r=await t.json();return Mo=Array.isArray(r)?r:typeof r=="object"&&r!==null?[r]:[],Mo})(),Uo)}function At(e){return e.toLowerCase().replace(/developer path/g,"").replace(/engineer path/g,"").replace(/developer/g,"").replace(/engineer/g,"").replace(/frontend/g,"").replace(/backend/g,"").replace(/fullstack/g,"").replace(/basics/g,"").replace(/learning path/g,"").replace(/[^a-z0-9+]+/g,"-").replace(/^-+|-+$/g,"")}async function nk(){const e=await gy(),t=new Map;return e.forEach(r=>{const n=typeof r.name=="string"?r.name:"",s=At(n);!s||t.has(s)||t.set(s,n||s)}),Array.from(t.entries()).map(([r,n])=>({slug:r,label:n}))}async function vl(e){const t=At(e);return(await gy()).find(s=>At(String(s.name??""))===t)??null}async function rh(e){const t=await vl(e);return t?nh(t):null}async function xs(e){var o,a,l;const n=await fetch("/api/llm-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"user",content:e}]})});if(!n.ok){const u=await n.text();throw new Error(`LLM proxy call failed: ${n.status} ${n.statusText} - ${u}`)}const s=await n.json(),i=((l=(a=(o=s==null?void 0:s.choices)==null?void 0:o[0])==null?void 0:a.message)==null?void 0:l.content)??"";return lk(i)}async function sk(e){var m;const t=At(e),r=await vl(t);if(!r)throw new Error(`No curriculum config found for language "${e}".`);const n=((m=r.topics)==null?void 0:m.topics)??r.topics??r,s=JSON.stringify(n,null,2),i=await nh(r);py.set(t,i);const o=`${t}:${i}:base`,a=fa.get(o)??xy(o);if(a)return fa.set(o,a),a;const l=JE.replace("{curriculumData}",s),u=await xs(l),d=uk(u,t),h=[];for(const _ of d.overall_learning_path??[]){const y=[];for(const x of _.topics??[])y.push(await ik(t,x));h.push({..._,topics:y})}const f={...d,overall_learning_path:h};return wy(o,f,fa),f}async function ik(e,t){var a;const r=JSON.stringify({language:e,topic:t},null,2),n=XE.replace("{language}",e).replace("{topicData}",r),s=await xs(n),i=(s==null?void 0:s.subtopics)??((a=s==null?void 0:s.topic)==null?void 0:a.subtopics)??(s==null?void 0:s.items)??[],o=Array.isArray(i)?i.map(sh):[];return{...t,subtopics:o}}async function ok(e,t,r,n,s){const i=t.filter(Boolean).join(" > "),o=YE.replace("{language}",e).replace("{topicPath}",i||"(none provided)").replace("{subtopicTitle}",r).replace("{trustProfileData}",JSON.stringify(n??{})).replace("{assetScoringData}",ZE(s)),a=await xs(o),u=(Array.isArray(a)?a:Array.isArray(a==null?void 0:a.items)?a.items:[]).map(yy),d=tk(u,s);return rk(d)}async function ak(e,t,r,n){var _;const s=At(e),i=r||n?null:await vl(s),o=r??((_=i==null?void 0:i.trustProfiles)==null?void 0:_.trustProfiles)??(i==null?void 0:i.trustProfiles)??{},a=n??(i==null?void 0:i.assetScoring)??null,l=py.get(s)??(i?await nh(i):await vy(JSON.stringify(t))),u=`${s}:${l}:enriched`,d=su.get(u)??xy(u);if(d)return su.set(u,d),d;const h=async(y,x)=>{const g=[...x,y.title].filter(Boolean),p=[];for(const E of y.subtopics??[])p.push(await h(E,g));const b=p.length===0?await ok(s,g,y.title,o,a):[];return{...y,subtopics:p,learning_resources:b}},f=[];for(const y of t.overall_learning_path??[]){const x=[];for(const g of y.topics??[])x.push(await h(g,[]));f.push({...y,topics:x})}const m={...t,overall_learning_path:f};return wy(u,m,su),m}async function vy(e){if(typeof crypto<"u"&&crypto.subtle){const r=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}let t=0;for(let r=0;r<e.length;r+=1)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t.toString(16)}async function nh(e){var r;const t={topics:((r=e.topics)==null?void 0:r.topics)??e.topics??(e==null?void 0:e.topics),trustProfiles:(e==null?void 0:e.trustProfiles)??null,assetScoring:e.assetScoring??null};return vy(JSON.stringify(t))}function lk(e){const t=e.trim();if(!t)return{};try{return JSON.parse(t)}catch{}const r=t.replace(/^```json/i,"").replace(/^```/,"").replace(/```$/,"").trim();try{return JSON.parse(r)}catch{}const n=r.indexOf("{"),s=r.lastIndexOf("}"),i=r.indexOf("["),o=r.lastIndexOf("]");if(n!==-1&&s>n){const a=r.slice(n,s+1);try{return JSON.parse(a)}catch{}}if(i!==-1&&o>i){const a=r.slice(i,o+1);try{return JSON.parse(a)}catch{}}return{}}function uk(e,t){const r=Array.isArray((e==null?void 0:e.canonical_sources)??(e==null?void 0:e.canonicalSources))?(e.canonical_sources??e.canonicalSources).map(dk):[],n=(e==null?void 0:e.overall_learning_path)??(e==null?void 0:e.overallLearningPath)??[],s=Array.isArray(n)?n.map(ck):[],i=(e==null?void 0:e.practice_projects)??(e==null?void 0:e.practiceProjects)??[],o=Array.isArray(i)?i.map(fk):[];return{language:typeof(e==null?void 0:e.language)=="string"?e.language:t,generated_at:typeof(e==null?void 0:e.generated_at)=="string"?e.generated_at:typeof(e==null?void 0:e.generatedAt)=="string"?e.generatedAt:new Date().toISOString(),canonical_sources:r,overall_learning_path:s,core_sources:Array.isArray((e==null?void 0:e.core_sources)??(e==null?void 0:e.coreSources))?e.core_sources??e.coreSources:[],supplemental_sources:Array.isArray((e==null?void 0:e.supplemental_sources)??(e==null?void 0:e.supplementalSources))?e.supplemental_sources??e.supplementalSources:[],practice_projects:o,explanation:typeof(e==null?void 0:e.explanation)=="string"?e.explanation:"",model_version:typeof(e==null?void 0:e.model_version)=="string"?e.model_version:typeof(e==null?void 0:e.modelVersion)=="string"?e.modelVersion:""}}function ck(e){const t=(e==null?void 0:e.topics)??[],r=Array.isArray(t)?t.map(sh):[];return{level:typeof(e==null?void 0:e.level)=="string"?e.level:"",estimated_hours:Number((e==null?void 0:e.estimated_hours)??(e==null?void 0:e.estimatedHours)??0),topics:r}}function sh(e){var a;const t=(e==null?void 0:e.subtopics)??[],r=Array.isArray(t)?t.map(sh):[],n=(e==null?void 0:e.helpful_references)??(e==null?void 0:e.helpfulReferences)??[],s=Array.isArray(n)?n.map(hk):[],i=(e==null?void 0:e.learning_resources)??(e==null?void 0:e.learningResources)??[],o=Array.isArray(i)?i.map(yy):[];return{id:typeof(e==null?void 0:e.id)=="string"?e.id:((a=crypto.randomUUID)==null?void 0:a.call(crypto))??String(Math.random()),title:typeof(e==null?void 0:e.title)=="string"?e.title:"",description:typeof(e==null?void 0:e.description)=="string"?e.description:"",order:Number((e==null?void 0:e.order)??0),estimated_hours:Number((e==null?void 0:e.estimated_hours)??(e==null?void 0:e.estimatedHours)??0),prerequisites:Array.isArray(e==null?void 0:e.prerequisites)?e.prerequisites:[],outcomes:Array.isArray(e==null?void 0:e.outcomes)?e.outcomes:[],example_exercises:Array.isArray((e==null?void 0:e.example_exercises)??(e==null?void 0:e.exampleExercises))?e.example_exercises??e.exampleExercises:[],helpful_references:s,explainability:Array.isArray(e==null?void 0:e.explainability)?e.explainability:[],subtopics:r,learning_resources:o}}function dk(e){return{id:typeof(e==null?void 0:e.id)=="string"?e.id:"",title:typeof(e==null?void 0:e.title)=="string"?e.title:"",url:typeof(e==null?void 0:e.url)=="string"?e.url:"",steward:typeof(e==null?void 0:e.steward)=="string"?e.steward:"",type:typeof(e==null?void 0:e.type)=="string"?e.type:"",confidence:Number((e==null?void 0:e.confidence)??0),short_summary:typeof(e==null?void 0:e.short_summary)=="string"?e.short_summary:typeof(e==null?void 0:e.shortSummary)=="string"?e.shortSummary:""}}function hk(e){return{sourceId:typeof(e==null?void 0:e.sourceId)=="string"?e.sourceId:typeof(e==null?void 0:e.source_id)=="string"?e.source_id:"",url:typeof(e==null?void 0:e.url)=="string"?e.url:"",snippet:typeof(e==null?void 0:e.snippet)=="string"?e.snippet:void 0,short_evidence:typeof(e==null?void 0:e.short_evidence)=="string"?e.short_evidence:typeof(e==null?void 0:e.shortEvidence)=="string"?e.shortEvidence:void 0}}function yy(e){return{title:typeof(e==null?void 0:e.title)=="string"?e.title:"",url:typeof(e==null?void 0:e.url)=="string"?e.url:"",type:typeof(e==null?void 0:e.type)=="string"?e.type:"",authority_score:Number((e==null?void 0:e.authority_score)??(e==null?void 0:e.authorityScore)??0),final_score:Number((e==null?void 0:e.final_score)??(e==null?void 0:e.finalScore)??(e==null?void 0:e.authority_score)??(e==null?void 0:e.authorityScore)??0),tier_id:typeof(e==null?void 0:e.tier_id)=="string"?e.tier_id:typeof(e==null?void 0:e.tierId)=="string"?e.tierId:void 0,asset_type:typeof(e==null?void 0:e.asset_type)=="string"?e.asset_type:typeof(e==null?void 0:e.assetType)=="string"?e.assetType:void 0,rationale:typeof(e==null?void 0:e.rationale)=="string"?e.rationale:typeof(e==null?void 0:e.reason)=="string"?e.reason:void 0,short_summary:typeof(e==null?void 0:e.short_summary)=="string"?e.short_summary:typeof(e==null?void 0:e.shortSummary)=="string"?e.shortSummary:""}}function fk(e){return{title:typeof(e==null?void 0:e.title)=="string"?e.title:"",description:typeof(e==null?void 0:e.description)=="string"?e.description:"",difficulty:typeof(e==null?void 0:e.difficulty)=="string"?e.difficulty:"",estimated_hours:Number((e==null?void 0:e.estimated_hours)??(e==null?void 0:e.estimatedHours)??0),outcomes:Array.isArray(e==null?void 0:e.outcomes)?e.outcomes:[]}}function wy(e,t,r=fa){r.set(e,t);try{typeof localStorage<"u"&&localStorage.setItem(`${my}:${e}`,JSON.stringify(t))}catch{}}function xy(e){try{if(typeof localStorage>"u")return null;const t=localStorage.getItem(`${my}:${e}`);return t?JSON.parse(t):null}catch{return null}}var Tc=function(e,t){return Tc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Tc(e,t)};function _y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ht=function(){return ht=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ht.apply(this,arguments)};function Zr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function by(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Sy(e,t){return function(r,n){t(r,n,e)}}function Ey(e,t,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var _={};for(var y in n)_[y]=y==="access"?{}:n[y];for(var y in n.access)_.access[y]=n.access[y];_.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var x=(0,r[m])(a==="accessor"?{get:d.get,set:d.set}:d[l],_);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(d.get=h),(h=o(x.set))&&(d.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function ky(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Cy(e){return typeof e=="symbol"?e:"".concat(e)}function jy(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Ny(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function I(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function Py(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var yl=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Ry(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yl(t,e,r)}function Wa(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ih(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Oy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ih(arguments[t]));return e}function Ty(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function oh(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Bs(e){return this instanceof Bs?(this.v=e,this):new Bs(e)}function Ay(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(_){return Promise.resolve(_).then(m,h)}}function a(m,_){n[m]&&(s[m]=function(y){return new Promise(function(x,g){i.push([m,y,x,g])>1||l(m,y)})},_&&(s[m]=_(s[m])))}function l(m,_){try{u(n[m](_))}catch(y){f(i[0][3],y)}}function u(m){m.value instanceof Bs?Promise.resolve(m.value.v).then(d,h):f(i[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function f(m,_){m(_),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Iy(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:Bs(e[s](o)),done:!1}:i?i(o):o}:i}}function $y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Wa=="function"?Wa(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function Ly(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var pk=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ac=function(e){return Ac=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ac(e)};function Dy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ac(e),n=0;n<r.length;n++)r[n]!=="default"&&yl(t,e,r[n]);return pk(t,e),t}function My(e){return e&&e.__esModule?e:{default:e}}function Uy(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Fy(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function zy(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function By(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var mk=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Vy(e){function t(i){e.error=e.hasError?new mk(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Wy(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const gk={__extends:_y,__assign:ht,__rest:Zr,__decorate:by,__param:Sy,__esDecorate:Ey,__runInitializers:ky,__propKey:Cy,__setFunctionName:jy,__metadata:Ny,__awaiter:I,__generator:Py,__createBinding:yl,__exportStar:Ry,__values:Wa,__read:ih,__spread:Oy,__spreadArrays:Ty,__spreadArray:oh,__await:Bs,__asyncGenerator:Ay,__asyncDelegator:Iy,__asyncValues:$y,__makeTemplateObject:Ly,__importStar:Dy,__importDefault:My,__classPrivateFieldGet:Uy,__classPrivateFieldSet:Fy,__classPrivateFieldIn:zy,__addDisposableResource:By,__disposeResources:Vy,__rewriteRelativeImportExtension:Wy},vk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:By,get __assign(){return ht},__asyncDelegator:Iy,__asyncGenerator:Ay,__asyncValues:$y,__await:Bs,__awaiter:I,__classPrivateFieldGet:Uy,__classPrivateFieldIn:zy,__classPrivateFieldSet:Fy,__createBinding:yl,__decorate:by,__disposeResources:Vy,__esDecorate:Ey,__exportStar:Ry,__extends:_y,__generator:Py,__importDefault:My,__importStar:Dy,__makeTemplateObject:Ly,__metadata:Ny,__param:Sy,__propKey:Cy,__read:ih,__rest:Zr,__rewriteRelativeImportExtension:Wy,__runInitializers:ky,__setFunctionName:jy,__spread:Oy,__spreadArray:oh,__spreadArrays:Ty,__values:Wa,default:gk},Symbol.toStringTag,{value:"Module"})),yk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ah extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class wk extends ah{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gp extends ah{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vp extends ah{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ic;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ic||(Ic={}));class xk{constructor(t,{headers:r={},customFetch:n,region:s=Ic.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=yk(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return I(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const _=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,_.searchParams.set("forceFunctionRegion",m));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const g=yield this.fetch(_.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:y,signal:x}).catch(E=>{throw new wk(E)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new gp(g);if(!g.ok)throw new vp(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return w==="application/json"?b=yield g.json():w==="application/octet-stream"||w==="application/pdf"?b=yield g.blob():w==="text/event-stream"?b=g:w==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof vp||a instanceof gp?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Ue={};const Xs=Yw(vk);var Fo={},zo={},Bo={},Vo={},Wo={},Ho={},yp;function Hy(){if(yp)return Ho;yp=1,Object.defineProperty(Ho,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ho.default=e,Ho}var wp;function qy(){if(wp)return Wo;wp=1,Object.defineProperty(Wo,"__esModule",{value:!0});const t=Xs.__importDefault(Hy());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,h,f;let m=null,_=null,y=null,x=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const E=await l.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?_=E:_=JSON.parse(E))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&b&&b.length>1&&(y=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(m={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,y=null,x=406,g="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const w=await l.text();try{m=JSON.parse(w),Array.isArray(m)&&l.status===404&&(_=[],m=null,x=200,g="OK")}catch{l.status===404&&w===""?(x=204,g="No Content"):m={message:w}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,x=200,g="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:_,count:y,status:x,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,d,h,f,m,_;let y="";const x=l==null?void 0:l.cause;if(x){const g=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",p=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";y=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(f=x==null?void 0:x.name)!==null&&f!==void 0?f:"Error"}: ${g}`,p&&(y+=` (${p})`),x!=null&&x.stack&&(y+=`
${x.stack}`)}else y=(m=l==null?void 0:l.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(_=l==null?void 0:l.name)!==null&&_!==void 0?_:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return Wo.default=r,Wo}var xp;function Ky(){if(xp)return Vo;xp=1,Object.defineProperty(Vo,"__esModule",{value:!0});const t=Xs.__importDefault(qy());class r extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Vo.default=r,Vo}var _p;function lh(){if(_p)return Bo;_p=1,Object.defineProperty(Bo,"__esModule",{value:!0});const t=Xs.__importDefault(Ky()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Bo.default=n,Bo}var bp;function Gy(){if(bp)return zo;bp=1,Object.defineProperty(zo,"__esModule",{value:!0});const t=Xs.__importDefault(lh());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return zo.default=r,zo}var Sp;function _k(){if(Sp)return Fo;Sp=1,Object.defineProperty(Fo,"__esModule",{value:!0});const e=Xs,t=e.__importDefault(Gy()),r=e.__importDefault(lh());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let m;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{f.searchParams.append(y,x)})):(h="POST",m=o);const _=new Headers(this.headers);return u&&_.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:_,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Fo.default=n,Fo}Object.defineProperty(Ue,"__esModule",{value:!0});var Qy=Ue.PostgrestError=i0=Ue.PostgrestBuilder=n0=Ue.PostgrestTransformBuilder=t0=Ue.PostgrestFilterBuilder=Zy=Ue.PostgrestQueryBuilder=Yy=Ue.PostgrestClient=void 0;const Zs=Xs,Jy=Zs.__importDefault(_k());var Yy=Ue.PostgrestClient=Jy.default;const Xy=Zs.__importDefault(Gy());var Zy=Ue.PostgrestQueryBuilder=Xy.default;const e0=Zs.__importDefault(lh());var t0=Ue.PostgrestFilterBuilder=e0.default;const r0=Zs.__importDefault(Ky());var n0=Ue.PostgrestTransformBuilder=r0.default;const s0=Zs.__importDefault(qy());var i0=Ue.PostgrestBuilder=s0.default;const o0=Zs.__importDefault(Hy());Qy=Ue.PostgrestError=o0.default;var a0=Ue.default={PostgrestClient:Jy.default,PostgrestQueryBuilder:Xy.default,PostgrestFilterBuilder:e0.default,PostgrestTransformBuilder:r0.default,PostgrestBuilder:s0.default,PostgrestError:o0.default};const bk=ym({__proto__:null,get PostgrestBuilder(){return i0},get PostgrestClient(){return Yy},get PostgrestError(){return Qy},get PostgrestFilterBuilder(){return t0},get PostgrestQueryBuilder(){return Zy},get PostgrestTransformBuilder(){return n0},default:a0},[Ue]),{PostgrestClient:Sk,PostgrestQueryBuilder:$R,PostgrestFilterBuilder:LR,PostgrestTransformBuilder:DR,PostgrestBuilder:MR,PostgrestError:UR}=a0||bk;class Ek{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kk="2.84.0",Ck=`realtime-js/${kk}`,l0="1.0.0",jk="2.0.0",Ep=l0,$c=1e4,Nk=1e3,Pk=100;var un;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(un||(un={}));var ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ye||(ye={}));var kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kt||(kt={}));var Lc;(function(e){e.websocket="websocket"})(Lc||(Lc={}));var cn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cn||(cn={}));class Rk{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,i;const o=t.topic,a=(r=t.ref)!==null&&r!==void 0?r:"",l=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(f),_=0;m.setUint8(_++,this.KINDS.userBroadcastPush),m.setUint8(_++,l.length),m.setUint8(_++,a.length),m.setUint8(_++,o.length),m.setUint8(_++,u.length),m.setUint8(_++,this.BINARY_ENCODING),Array.from(l,x=>m.setUint8(_++,x.charCodeAt(0))),Array.from(a,x=>m.setUint8(_++,x.charCodeAt(0))),Array.from(o,x=>m.setUint8(_++,x.charCodeAt(0))),Array.from(u,x=>m.setUint8(_++,x.charCodeAt(0)));var y=new Uint8Array(f.byteLength+d.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(d),f.byteLength),y.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,i;const o=t.topic,a=(r=t.ref)!==null&&r!==void 0?r:"",l=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,_=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(_),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,l.length),y.setUint8(x++,a.length),y.setUint8(x++,o.length),y.setUint8(x++,u.length),y.setUint8(x++,this.JSON_ENCODING),Array.from(l,p=>y.setUint8(x++,p.charCodeAt(0))),Array.from(a,p=>y.setUint8(x++,p.charCodeAt(0))),Array.from(o,p=>y.setUint8(x++,p.charCodeAt(0))),Array.from(u,p=>y.setUint8(x++,p.charCodeAt(0)));var g=new Uint8Array(_.byteLength+f.byteLength);return g.set(new Uint8Array(_),0),g.set(new Uint8Array(f),_.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const h=n.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,_={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(_.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class u0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const kp=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Ok(o,e,t,s),i),{}):{}},Ok=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?c0(i,o):Dc(o)},c0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $k(t,r)}switch(e){case X.bool:return Tk(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Ak(t);case X.json:case X.jsonb:return Ik(t);case X.timestamp:return Lk(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Dc(t);default:return Dc(t)}},Dc=e=>e,Tk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ak=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ik=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$k=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>c0(t,a))}return e},Lk=e=>typeof e=="string"?e.replace(" ","T"):e,d0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class iu{constructor(t,r,n={},s=$c){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cp||(Cp={}));class ki{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ki.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ki.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ki.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),_=d.filter(x=>m.indexOf(x.presence_ref)<0),y=h.filter(x=>f.indexOf(x.presence_ref)<0);_.length>0&&(a[u]=_),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jp||(jp={}));var Ci;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ci||(Ci={}));var Gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));class uh{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new iu(this,kt.join,this.params,this.timeout),this.rejoinTimer=new u0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ki(this),this.broadcastEndpointURL=d0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ci.PRESENCE]&&this.bindings[Ci.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Gt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var _;if(this.socket.setAuth(),m===void 0){t==null||t(Gt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(_=y==null?void 0:y.length)!==null&&_!==void 0?_:0,g=[];for(let p=0;p<x;p++){const w=y[p],{filter:{event:b,schema:E,table:k,filter:C}}=w,N=m&&m[p];if(N&&N.event===b&&N.schema===E&&N.table===k&&N.filter===C)g.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=ye.errored,t==null||t(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Gt.SUBSCRIBED);return}}).receive("error",m=>{this.state=ye.errored,t==null||t(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ye.joined&&t===Ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new iu(this,kt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new iu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Pk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=kt;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var _,y,x;return((_=m.filter)===null||_===void 0?void 0:_.event)==="*"||((x=(y=m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var _,y,x,g,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,E=(_=m.filter)===null||_===void 0?void 0:_.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:y,table:x,commit_timestamp:g,type:p,errors:w}=_;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:g,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(_))}m.callback(f,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&uh.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kt.close,{},t)}_onError(t){this._on(kt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=kp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=kp(t.columns,t.old_record)),r}}const ou=()=>{},qo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dk=[1e3,2e3,5e3,1e4],Mk=1e4,Uk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fk{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$c,this.transport=null,this.heartbeatIntervalMs=qo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ou,this.ref=0,this.reconnectTimer=null,this.vsn=Ep,this.logger=ou,this.conn=null,this.sendBuffer=[],this.serializer=new Rk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Lc.websocket}`,this.httpEndpoint=d0(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ek.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case un.connecting:return cn.Connecting;case un.open:return cn.Open;case un.closing:return cn.Closing;default:return cn.Closed}}isConnected(){return this.connectionState()===cn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new uh(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Nk,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===un.open||this.conn.readyState===un.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(kt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Uk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Ck};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(kt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new u0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,d,h,f,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:$c,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:qo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:ou,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Ep,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:_=>Dk[_-1]||Mk,this.vsn){case l0:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(_,y)=>y(JSON.stringify(_)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(_,y)=>y(JSON.parse(_));break;case jk:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ch extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zk extends ch{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mc extends ch{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const dh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Bk=()=>Response,Uc=e=>{if(Array.isArray(e))return e.map(r=>Uc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Uc(n)}),t},Vk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},au=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Wk=(e,t,r)=>I(void 0,void 0,void 0,function*(){const n=yield Bk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new zk(au(s),i,o))}).catch(s=>{t(new Mc(au(s),s))}):t(new Mc(au(e),e))}),Hk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Vk(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function ho(e,t,r,n,s,i){return I(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Hk(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Wk(l,a,n))})})}function Qi(e,t,r,n){return I(this,void 0,void 0,function*(){return ho(e,"GET",t,r,n)})}function _t(e,t,r,n,s){return I(this,void 0,void 0,function*(){return ho(e,"POST",t,n,s,r)})}function Fc(e,t,r,n,s){return I(this,void 0,void 0,function*(){return ho(e,"PUT",t,n,s,r)})}function qk(e,t,r,n){return I(this,void 0,void 0,function*(){return ho(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function hh(e,t,r,n,s){return I(this,void 0,void 0,function*(){return ho(e,"DELETE",t,n,s,r)})}class Kk{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(se(t))return{data:null,error:t};throw t}})}}var h0;class Gk{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[h0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Kk(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(se(t))return{data:null,error:t};throw t}})}}h0=Symbol.toStringTag;const Qk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Np={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jk{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=dh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return I(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Np),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Fc:_t)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(se(i))return{data:null,error:i};throw i}})}upload(t,r,n){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return I(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Np.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Fc(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(se(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return I(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield _t(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ch("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}update(t,r,n){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return I(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}copy(t,r,n){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield _t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return I(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield _t(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return I(this,void 0,void 0,function*(){try{const s=yield _t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Qi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Gk(l,this.shouldThrowOnError)}info(t){return I(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Qi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Uc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}exists(t){return I(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield qk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n)&&n instanceof Mc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return I(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}list(t,r,n){return I(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Qk),r),{prefix:t||""});return{data:yield _t(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}listV2(t,r){return I(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield _t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const f0="2.84.0",p0={"X-Client-Info":`storage-js/${f0}`};class Yk{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},p0),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return I(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Qi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}createBucket(t){return I(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield _t(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return I(this,void 0,void 0,function*(){try{return{data:yield Fc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}emptyBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Xk{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},p0),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}listBuckets(t){return I(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Qi(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}}const fh={"X-Client-Info":`storage-js/${f0}`,"Content-Type":"application/json"};class m0 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ze(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class lu extends m0{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zk extends m0{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Pp;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Pp||(Pp={}));const ph=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),e1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t1=(e,t,r)=>I(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new lu(Rp(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new lu(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new lu(a,s,o))}}else t(new Zk(Rp(e),e))}),r1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(e1(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function n1(e,t,r,n,s,i){return I(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,r1(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>t1(l,a,n))})})}function et(e,t,r,n,s){return I(this,void 0,void 0,function*(){return n1(e,"POST",t,n,s,r)})}class s1{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fh),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return I(this,void 0,void 0,function*(){try{return{data:(yield et(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}getIndex(t,r){return I(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}listIndexes(t){return I(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return I(this,void 0,void 0,function*(){try{return{data:(yield et(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}}class i1{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fh),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return I(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield et(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}getVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}listVectors(t){return I(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield et(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}queryVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}deleteVectors(t){return I(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield et(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}class o1{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fh),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield et(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}listBuckets(){return I(this,arguments,void 0,function*(t={}){try{return{data:yield et(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield et(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}class a1 extends o1{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new l1(this.url,this.headers,t,this.fetch)}}class l1 extends s1{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new u1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class u1 extends i1{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class c1 extends Yk{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Jk(this.url,this.headers,t,this.fetch)}get vectors(){return new a1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xk(this.url+"/iceberg",this.headers,this.fetch)}}const d1="2.84.0";let mi="";typeof Deno<"u"?mi="deno":typeof document<"u"?mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mi="react-native":mi="node";const h1={"X-Client-Info":`supabase-js-${mi}/${d1}`},f1={headers:h1},p1={schema:"public"},m1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g1={},v1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),y1=()=>Headers,w1=(e,t,r)=>{const n=v1(r),s=y1();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function x1(e){return e.endsWith("/")?e:e+"/"}function _1(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function b1(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const g0="2.84.0",Xn=30*1e3,zc=3,uu=zc*Xn,S1="http://localhost:9999",E1="supabase.auth.token",k1={"X-Client-Info":`gotrue-js/${g0}`},Bc="X-Supabase-Api-Version",v0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j1=10*60*1e3;class Ji extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class N1 extends Ji{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function P1(e){return $(e)&&e.name==="AuthApiError"}class dn extends Ji{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class en extends Ji{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ye extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R1(e){return $(e)&&e.name==="AuthSessionMissingError"}class Vn extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ko extends en{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Go extends en{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O1(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class Op extends en{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vc extends en{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function cu(e){return $(e)&&e.name==="AuthRetryableFetchError"}class Tp extends en{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Wc extends en{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ap=` 	
\r=`.split(""),T1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ap.length;t+=1)e[Ap[t].charCodeAt(0)]=-2;for(let t=0;t<Ha.length;t+=1)e[Ha[t].charCodeAt(0)]=t;return e})();function Ip(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ha[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ha[n]),t.queuedBits-=6}}function y0(e,t,r){const n=T1[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $p(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{$1(o,n,r)};for(let o=0;o<e.length;o+=1)y0(e.charCodeAt(o),s,i);return t.join("")}function A1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function I1(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}A1(n,t)}}function $1(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _s(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)y0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function L1(e){const t=[];return I1(e,r=>t.push(r)),new Uint8Array(t)}function gn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ip(s,r,n)),Ip(null,r,n),t.join("")}function D1(e){return Math.round(Date.now()/1e3)+e}function M1(){return Symbol("auth-callback")}const Ce=()=>typeof window<"u"&&typeof document<"u",nn={tested:!1,writable:!1},w0=()=>{if(!Ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nn.tested)return nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nn.tested=!0,nn.writable=!0}catch{nn.tested=!0,nn.writable=!1}return nn.writable};function U1(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const x0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),F1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vr=async(e,t)=>{await e.removeItem(t)};class wl{constructor(){this.promise=new wl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wl.promiseConstructor=Promise;function du(e){const t=e.split(".");if(t.length!==3)throw new Wc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!C1.test(t[n]))throw new Wc("JWT not in base64url format");return{header:JSON.parse($p(t[0])),payload:JSON.parse($p(t[1])),signature:_s(t[2]),raw:{header:t[0],payload:t[1]}}}async function z1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function B1(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function V1(e){return("0"+e.toString(16)).substr(-2)}function W1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,V1).join("")}async function H1(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function q1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await H1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wn(e,t,r=!1){const n=W1();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Zn(e,`${t}-code-verifier`,s);const i=await q1(n);return[i,n===i?"plain":"s256"]}const K1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G1(e){const t=e.headers.get(Bc);if(!t||!t.match(K1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function J1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hn(e){if(!Y1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function X1(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Lp(e){return JSON.parse(JSON.stringify(e))}const ln=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Z1=[502,503,504];async function Dp(e){var t;if(!F1(e))throw new Vc(ln(e),0);if(Z1.includes(e.status))throw new Vc(ln(e),e.status);let r;try{r=await e.json()}catch(i){throw new dn(ln(i),i)}let n;const s=G1(e);if(s&&s.getTime()>=v0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tp(ln(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ye}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Tp(ln(r),e.status,r.weak_password.reasons);throw new N1(ln(r),e.status||500,n)}const eC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function M(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Bc]||(i[Bc]=v0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await tC(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function tC(e,t,r,n,s,i){const o=eC(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Vc(ln(l),0)}if(a.ok||await Dp(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Dp(l)}}function wt(e){var t;let r=null;sC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=D1(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Mp(e){const t=wt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Er(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rC(e){return{data:e,error:null}}function nC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Zr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Up(e){return e}function sC(e){return e.access_token&&e.refresh_token&&e.expires_in}const fu=["global","local","others"];class iC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=x0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=fu[0]){if(fu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fu.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Er})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Zr(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Er})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Up});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(_.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Hn(t);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Er})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hn(t);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Er})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Hn(t);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Er})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Hn(t.userId);try{const{data:r,error:n}=await M(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hn(t.userId),Hn(t.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Up});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(_.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await M(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await M(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await M(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}}function Fp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const qn={debug:!!(globalThis&&w0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oC extends _0{}async function aC(e,t,r){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function b0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uC(e){return parseInt(e,16)}function cC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function dC(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=b0(e.address),_=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",x=`${_} wants you to sign in with your Ethereum account:
${m}

${y}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);p+=`
- ${w}`}g+=p}return`${x}
${g}`}class fe extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class qa extends fe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function hC({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(S0(o)){if(i.rp.id!==o)return new fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fC({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(S0(n)){if(r.rpId!==n)return new fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class pC{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mC=new pC;function gC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Zr(e,["challenge","user","excludeCredentials"]),i=_s(t).buffer,o=Object.assign(Object.assign({},r),{id:_s(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:_s(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function vC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Zr(e,["challenge","allowCredentials"]),s=_s(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:_s(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function yC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:gn(new Uint8Array(e.response.attestationObject)),clientDataJSON:gn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:gn(new Uint8Array(s.authenticatorData)),clientDataJSON:gn(new Uint8Array(s.clientDataJSON)),signature:gn(new Uint8Array(s.signature)),userHandle:s.userHandle?gn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function S0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zp(){var e,t;return!!(Ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qa("Browser returned unexpected credential type",t)}:{data:null,error:new qa("Empty credential response",t)}}catch(t){return{data:null,error:hC({error:t,options:e})}}}async function _C(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qa("Browser returned unexpected credential type",t)}:{data:null,error:new qa("Empty credential response",t)}}catch(t){return{data:null,error:fC({error:t,options:e})}}}const bC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},SC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ka(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=Ka(a,o):n[i]=Ka(o)}else n[i]=o}return n}function EC(e,t){return Ka(bC,e,t||{})}function kC(e,t){return Ka(SC,e,t||{})}class CC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??mC.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=EC(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await xC({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=kC(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await _C(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new dn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ji("rpId is required for WebAuthn authentication")};try{if(!zp())return{data:null,error:new dn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new dn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ji("rpId is required for WebAuthn registration")};try{if(!zp())return{data:null,error:new dn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new dn("Unexpected error in register",o)}}}}lC();const jC={url:S1,storageKey:E1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:k1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Bp(e,t,r){return await r()}const Kn={};class Yi{get jwks(){var t,r;return(r=(t=Kn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Kn[this.storageKey]=Object.assign(Object.assign({},Kn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Kn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Kn[this.storageKey]=Object.assign(Object.assign({},Kn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},jC),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Yi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ce()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new iC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=x0(i.fetch),this.lock=i.lock||Bp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ce()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=aC:this.lock=Bp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:w0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Fp(this.memoryStorage)),Ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${g0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ce()&&(r=U1(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ce()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),O1(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?this._returnResult({error:r}):this._returnResult({error:new dn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:wt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await Wn(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:_},xform:wt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:wt})}else throw new Ko("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mp})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mp})}else throw new Ko("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Vn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,u,d,h,f;let m,_;if("message"in t)m=t.message,_=t.signature;else{const{chain:y,wallet:x,statement:g,options:p}=t;let w;if(Ce())if(typeof x=="object")w=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const b=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),E=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=b0(E[0]);let C=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const A=await w.request({method:"eth_chainId"});C=uC(A)}const N={domain:b.host,address:k,statement:g,uri:b.href,version:"1",chainId:C,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=dC(N),_=await w.request({method:"personal_sign",params:[cC(m),k]})}try{const{data:y,error:x}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:_},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:wt});if(x)throw x;if(!y||!y.session||!y.user){const g=new Vn;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if($(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,s,i,o,a,l,u,d,h,f,m;let _,y;if("message"in t)_=t.message,y=t.signature;else{const{chain:x,wallet:g,statement:p,options:w}=t;let b;if(Ce())if(typeof g=="object")b=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const E=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)_=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(_),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:x,error:g}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:gn(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:wt});if(g)throw g;if(!x||!x.session||!x.user){const p=new Vn;return this._returnResult({data:{user:null,session:null},error:p})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if($(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await sn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wt});if(await vr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Vn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Vn;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wn(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ko("You must provide either an email or phone number.")}catch(a){if($(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:wt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if($(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Wn(this.storage,this.storageKey));const u=await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:rC});return!((i=u.data)===null||i===void 0)&&i.url&&Ce()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if($(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ye;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if($(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await M(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await M(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ko("You must provide either an email or phone number and a type")}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<uu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await sn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=hu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=X1(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Er}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ye}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Er})})}catch(r){if($(r))return R1(r)&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ye;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Wn(this.storage,this.storageKey));const{data:u,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Er});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if($(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ye;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=du(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if($(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ye;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ce())throw new Go("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Go(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Op("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Go("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Op("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Go("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const _=f-h;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,d);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if($(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(P1(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=M1(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Wn(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ce()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if($(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=t,h=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wt}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Vn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if($(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await B1(async s=>(s>0&&await z1(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&cu(i)&&Date.now()+o-n<Xn})}catch(n){if(this._debug(r,"error",n),$(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ce()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await sn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Zn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:hu()}else if(s&&!s.user&&!s.user){const o=await sn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await vr(this.storage,this.storageKey+"-user"),await Zn(this.storage,this.storageKey,s)):s.user=hu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${uu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),cu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ye;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wl;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ye;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),$(i)){const o={data:null,error:i};return cu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Lp(s);await Zn(this.storage,this.storageKey,i)}else{const s=Lp(r);await Zn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await vr(this.storage,this.storageKey),await vr(this.storage,this.storageKey+"-code-verifier"),await vr(this.storage,this.storageKey+"-user"),this.userStorage&&await vr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xn}ms, refresh threshold is ${zc} ticks`),s<=zc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Wn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await M(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await M(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yC(t.webauthn.credential_response):wC(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await M(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:gC(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:vC(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=du(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await M(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ye})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ye});const o=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ye});const o=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ce()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await M(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ye})})}catch(t){if($(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await M(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Ye})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+j1>s)return n;const{data:i,error:o}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:_}=await this.getSession();if(_||!m.session)return this._returnResult({data:null,error:_});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=du(n);r!=null&&r.allowExpired||Q1(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=J1(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,L1(`${a}.${l}`)))throw new Wc("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}}Yi.nextInstanceID={};const NC=Yi;class PC extends NC{constructor(t){super(t)}}class RC{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=b1(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:p1,realtime:g1,auth:Object.assign(Object.assign({},m1),{storageKey:l}),global:f1},d=_1(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=w1(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Sk(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new c1(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new xk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:d},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PC({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Fk(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E0=(e,t,r)=>new RC(e,t,r);function OC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}OC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const k0="https://cojjcswcnyrilbtmfytz.supabase.co",ji="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNvampjc3djbnlyaWxidG1meXR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNjE5NDcsImV4cCI6MjA3OTYzNzk0N30.ya45Mcmr-ItRC7ofz3m8oRfUkT3l2dsaHrIxXMeP_v4",cr=!!ji,Me=cr?E0(k0,ji,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}):null,Vs=cr?E0(k0,ji,{auth:{persistSession:!1,autoRefreshToken:!1},global:{headers:{Authorization:`Bearer ${ji}`,apikey:ji}}}):null;function mh(e,t){var n;const r=t.map(s=>`- ${s.title} (${s.type}): ${s.url}`);return[`Topic: ${e.title}`,`Description: ${e.description}`,(n=e.outcomes)!=null&&n.length?`Outcomes: ${e.outcomes.join("; ")}`:null,r.length?`Existing resources:
${r.join(`
`)}`:null].filter(Boolean).join(`
`)}function TC(e,t){return`You are an expert technical educator. Write a concise learning article for the topic below.

Return a JSON object with:
{
  "title": "string",
  "sections": [{ "heading": "string", "paragraphs": ["string"] }],
  "estimated_reading_minutes": number
}

Keep it beginner/intermediate friendly, actionable, and tied to the topic context.

${mh(e,t)}`}function AC(e,t){return`You are an engaging instructor. Write a script for an audio lesson for the topic below.

Return a JSON object with:
{
  "title": "string",
  "script": "full narration text suitable to be read aloud",
  "estimated_duration_minutes": number
}

Use friendly, clear language and add light signposting between sections.

${mh(e,t)}`}function IC(e,t){return`You are creating a short formative quiz for the topic below.

Return a JSON object with:
{
  "title": "string",
  "questions": [
    {
      "question": "string",
      "choices": ["string"],
      "correct_answer": "string",
      "explanation": "string"
    }
  ],
  "estimated_duration_minutes": number
}

Keep questions lightweight and focused on key concepts.

${mh(e,t)}`}function $C(e,t){const n=(Array.isArray(e==null?void 0:e.sections)?e.sections:[]).map(s=>({heading:typeof(s==null?void 0:s.heading)=="string"?s.heading:"",paragraphs:Array.isArray(s==null?void 0:s.paragraphs)?s.paragraphs.map(i=>String(i)):[]}));return{title:typeof(e==null?void 0:e.title)=="string"?e.title:t,sections:n,estimated_reading_minutes:Number((e==null?void 0:e.estimated_reading_minutes)??(e==null?void 0:e.estimatedReadingMinutes)??5)}}function LC(e,t){return{title:typeof(e==null?void 0:e.title)=="string"?e.title:t,script:typeof(e==null?void 0:e.script)=="string"?e.script:"",estimated_duration_minutes:Number((e==null?void 0:e.estimated_duration_minutes)??(e==null?void 0:e.estimatedDurationMinutes)??5)}}function DC(e,t){const n=(Array.isArray(e==null?void 0:e.questions)?e.questions:[]).map(s=>({question:typeof(s==null?void 0:s.question)=="string"?s.question:"",choices:Array.isArray(s==null?void 0:s.choices)?s.choices.map(i=>String(i)):[],correct_answer:typeof(s==null?void 0:s.correct_answer)=="string"?s.correct_answer:typeof(s==null?void 0:s.correctAnswer)=="string"?s.correctAnswer:"",explanation:typeof(s==null?void 0:s.explanation)=="string"?s.explanation:typeof(s==null?void 0:s.explanationText)=="string"?s.explanationText:void 0}));return{title:typeof(e==null?void 0:e.title)=="string"?e.title:`${t} Quiz`,questions:n,estimated_duration_minutes:Number((e==null?void 0:e.estimated_duration_minutes)??(e==null?void 0:e.estimatedDurationMinutes)??5)}}async function MC(e,t){const r=e.learning_resources??[];let n="";if(t==="summary_article"){n=TC(e,r);const s=await xs(n);return $C(s,e.title)}if(t==="audio_lesson"){n=AC(e,r);const s=await xs(n);return LC(s,e.title)}if(t==="quiz"){n=IC(e,r);const s=await xs(n);return DC(s,e.title)}throw new Error(`Unsupported asset type: ${t}`)}const hs=new Map;async function UC(e,t){if(!Vs)return null;const{data:r,error:n}=await Vs.from("curricula").select("curriculum, config_hash").eq("language_slug",e).maybeSingle();return n?(console.warn("Failed to read curriculum cache from Supabase",n),null):r!=null&&r.curriculum?(t&&r.config_hash&&r.config_hash!==t&&console.warn(`Config hash mismatch for ${e}. Expected ${t}, got ${r.config_hash}. Returning cached anyway.`),r.curriculum):null}async function FC(e,t,r,n){if(!Vs)return null;let s=Vs.from("generated_assets").select("*").eq("language_slug",e).eq("topic_id",t).eq("asset_type",r);s=n?s.eq("config_hash",n):s.is("config_hash",null);const{data:i,error:o}=await s.maybeSingle();return o?(console.warn("Failed to read generated asset cache from Supabase",o),null):i??null}async function zC(e,t,r){if(!Me)return;const{error:n}=await Me.from("curricula").upsert({language_slug:e,curriculum:t,config_hash:r??null,updated_at:new Date().toISOString()}).select().single();n&&console.warn("Failed to persist curriculum cache to Supabase",n)}async function BC(e,t,r,n,s,i){if(!Me)return null;const{data:o,error:a}=await Me.from("generated_assets").upsert({language_slug:e,topic_id:t,asset_type:r,content:n,audio_url:s??null,config_hash:i??null,updated_at:new Date().toISOString()}).select().single();return a?(console.warn("Failed to persist generated asset cache to Supabase",a),null):o??null}async function VC(e,t){var a;const r=await vl(e),n=((a=r==null?void 0:r.trustProfiles)==null?void 0:a.trustProfiles)??(r==null?void 0:r.trustProfiles)??void 0,s=(r==null?void 0:r.assetScoring)??void 0,i=await sk(e),o=await ak(e,i,n,s);return cr&&await zC(e,o,t),o}async function gh(){const[e,t]=await Promise.all([nk(),j0().catch(()=>[])]),r=new Map(e.map(i=>[i.slug,i.label])),n=new Set,s=[];return t.forEach(i=>{const o=At(i.language_slug);n.has(o)||(s.push({slug:o,label:r.get(o)??o}),n.add(o))}),e.forEach(i=>{n.has(i.slug)||(s.push(i),n.add(i.slug))}),s}async function xl(e){const t=At(e);if(!cr)throw new Error("Supabase is not configured; cannot load curriculum.");if(!hs.has(t)){const r=(async()=>{const n=await rh(t),s=await UC(t,n);if(!s)throw new Error("Curriculum not cached. Please refresh it from the Cache Admin page.");return s})();hs.set(t,r),r.catch(()=>{hs.delete(t)})}return hs.get(t)}function WC(e,t){const r=n=>{if(n.id===t)return n;for(const s of n.subtopics??[]){const i=r(s);if(i)return i}return null};for(const n of e.overall_learning_path??[])for(const s of n.topics??[]){const i=r(s);if(i)return i}return console.warn(`Topic with id "${t}" not found in curriculum ${e.language}`),null}async function HC(e){const t=At(e),r=await rh(t),n=VC(t,r);return hs.set(t,n),n.catch(()=>hs.delete(t)),n}async function C0(e,t,r){var h;const n=At(e),s=await rh(n),i=await FC(n,t,r,s);if(i)return{...i,audio_url:i.audio_url??void 0,created_at:i.created_at??new Date().toISOString(),updated_at:i.updated_at??new Date().toISOString()};const o=await xl(n),a=WC(o,t);if(!a)throw new Error(`Topic ${t} not found in curriculum for ${n}`);const l=await MC(a,r),u=r==="audio_lesson"&&typeof(l==null?void 0:l.script)=="string"?await qC(l.script):null,d=new Date().toISOString();if(cr&&Me){const f=await BC(n,t,r,l,u,s);if(f)return{...f,audio_url:f.audio_url??void 0,created_at:f.created_at??d,updated_at:f.updated_at??d}}return{id:((h=crypto.randomUUID)==null?void 0:h.call(crypto))??`${Date.now()}`,language_slug:n,topic_id:t,asset_type:r,content:l,audio_url:u??void 0,created_at:d,updated_at:d}}async function qC(e){return null}async function j0(){if(!Vs)return[];const{data:e,error:t}=await Vs.from("curricula").select("language_slug, updated_at, config_hash").order("updated_at",{ascending:!1});return t?(console.warn("Failed to list cached curricula from Supabase",t),[]):(e??[]).map(r=>({language_slug:At(r.language_slug),updated_at:r.updated_at,config_hash:r.config_hash}))}/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>v.createElement("svg",{ref:d,...KC,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${GC(e)}`,a].join(" "),...u},[...t.map(([h,f])=>v.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ve("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ve("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=ve("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ve("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Wt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function aj(e,t){const r=v.createContext(t),n=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function _l(e,t=[]){let r=[];function n(i,o){const a=v.createContext(o),l=r.length;r=[...r,o];const u=h=>{var g;const{scope:f,children:m,..._}=h,y=((g=f==null?void 0:f[e])==null?void 0:g[l])||a,x=v.useMemo(()=>_,Object.values(_));return c.jsx(y.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(h,f){var y;const m=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,_=v.useContext(m);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,lj(s,...t)]}function lj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Hs=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},uj=el[" useId ".trim().toString()]||(()=>{}),cj=0;function Ni(e){const[t,r]=v.useState(uj());return Hs(()=>{r(n=>n??String(cj++))},[e]),t?`radix-${t}`:""}var dj=el[" useInsertionEffect ".trim().toString()]||Hs;function bl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=hj({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=v.useCallback(d=>{var h;if(a){const f=fj(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,e,i,o]);return[l,u]}function hj({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return dj(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function fj(e){return typeof e=="function"}function pj(e){const t=mj(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,a=v.Children.toArray(i),l=a.find(vj);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function mj(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=wj(s),a=yj(i,s.props);return s.type!==v.Fragment&&(a.ref=n?hr(n,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gj=Symbol("radix.slottable");function vj(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gj}function yj(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function wj(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],T0=xj.reduce((e,t)=>{const r=pj(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _j(e,t){e&&qd.flushSync(()=>e.dispatchEvent(t))}function Xi(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bj(e,t=globalThis==null?void 0:globalThis.document){const r=Xi(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Sj="DismissableLayer",qc="dismissableLayer.update",Ej="dismissableLayer.pointerDownOutside",kj="dismissableLayer.focusOutside",Hp,A0=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),I0=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=v.useContext(A0),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),_=Tt(t,C=>h(C)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(x),p=d?y.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=p>=g,E=Nj(C=>{const N=C.target,A=[...u.branches].some(j=>j.contains(N));!b||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},f),k=Pj(C=>{const N=C.target;[...u.branches].some(j=>j.contains(N))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},f);return bj(C=>{p===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Hp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),qp(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Hp)}},[d,f,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),qp())},[d,u]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(qc,C),()=>document.removeEventListener(qc,C)},[]),c.jsx(T0.div,{...l,ref:_,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:Wt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Wt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Wt(e.onPointerDownCapture,E.onPointerDownCapture)})});I0.displayName=Sj;var Cj="DismissableLayerBranch",jj=v.forwardRef((e,t)=>{const r=v.useContext(A0),n=v.useRef(null),s=Tt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(T0.div,{...e,ref:s})});jj.displayName=Cj;function Nj(e,t=globalThis==null?void 0:globalThis.document){const r=Xi(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){$0(Ej,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Pj(e,t=globalThis==null?void 0:globalThis.document){const r=Xi(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&$0(kj,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function qp(){const e=new CustomEvent(qc);document.dispatchEvent(e)}function $0(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?_j(s,i):s.dispatchEvent(i)}function Rj(e){const t=Oj(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,a=v.Children.toArray(i),l=a.find(Aj);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Oj(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=$j(s),a=Ij(i,s.props);return s.type!==v.Fragment&&(a.ref=n?hr(n,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Tj=Symbol("radix.slottable");function Aj(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Tj}function Ij(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function $j(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Lj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dj=Lj.reduce((e,t)=>{const r=Rj(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),pu="focusScope.autoFocusOnMount",mu="focusScope.autoFocusOnUnmount",Kp={bubbles:!1,cancelable:!0},Mj="FocusScope",L0=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=v.useState(null),u=Xi(s),d=Xi(i),h=v.useRef(null),f=Tt(t,y=>l(y)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let y=function(w){if(m.paused||!a)return;const b=w.target;a.contains(b)?h.current=b:wr(h.current,{select:!0})},x=function(w){if(m.paused||!a)return;const b=w.relatedTarget;b!==null&&(a.contains(b)||wr(h.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&wr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const p=new MutationObserver(g);return a&&p.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),p.disconnect()}}},[n,a,m.paused]),v.useEffect(()=>{if(a){Qp.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(pu,Kp);a.addEventListener(pu,u),a.dispatchEvent(g),g.defaultPrevented||(Uj(Wj(D0(a)),{select:!0}),document.activeElement===y&&wr(a))}return()=>{a.removeEventListener(pu,u),setTimeout(()=>{const g=new CustomEvent(mu,Kp);a.addEventListener(mu,d),a.dispatchEvent(g),g.defaultPrevented||wr(y??document.body,{select:!0}),a.removeEventListener(mu,d),Qp.remove(m)},0)}}},[a,u,d,m]);const _=v.useCallback(y=>{if(!r&&!n||m.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(x&&g){const p=y.currentTarget,[w,b]=Fj(p);w&&b?!y.shiftKey&&g===b?(y.preventDefault(),r&&wr(w,{select:!0})):y.shiftKey&&g===w&&(y.preventDefault(),r&&wr(b,{select:!0})):g===p&&y.preventDefault()}},[r,n,m.paused]);return c.jsx(Dj.div,{tabIndex:-1,...o,ref:f,onKeyDown:_})});L0.displayName=Mj;function Uj(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(wr(n,{select:t}),document.activeElement!==r)return}function Fj(e){const t=D0(e),r=Gp(t,e),n=Gp(t.reverse(),e);return[r,n]}function D0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Gp(e,t){for(const r of e)if(!zj(r,{upTo:t}))return r}function zj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Bj(e){return e instanceof HTMLInputElement&&"select"in e}function wr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Bj(e)&&t&&e.select()}}var Qp=Vj();function Vj(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Jp(e,t),e.unshift(t)},remove(t){var r;e=Jp(e,t),(r=e[0])==null||r.resume()}}}function Jp(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Wj(e){return e.filter(t=>t.tagName!=="A")}function Hj(e){const t=qj(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,a=v.Children.toArray(i),l=a.find(Gj);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function qj(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=Jj(s),a=Qj(i,s.props);return s.type!==v.Fragment&&(a.ref=n?hr(n,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kj=Symbol("radix.slottable");function Gj(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kj}function Qj(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Jj(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Yj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xj=Yj.reduce((e,t)=>{const r=Hj(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Zj="Portal",M0=v.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=v.useState(!1);Hs(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Sb.createPortal(c.jsx(Xj.div,{...n,ref:t}),o):null});M0.displayName=Zj;function eN(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var fo=e=>{const{present:t,children:r}=e,n=tN(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=Tt(n.ref,rN(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};fo.displayName="Presence";function tN(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[a,l]=eN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Qo(n.current);i.current=a==="mounted"?u:"none"},[a]),Hs(()=>{const u=n.current,d=s.current;if(d!==e){const f=i.current,m=Qo(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Hs(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const y=Qo(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=Qo(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Qo(e){return(e==null?void 0:e.animationName)||"none"}function rN(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function U0(e){const t=nN(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,a=v.Children.toArray(i),l=a.find(iN);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function nN(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=aN(s),a=oN(i,s.props);return s.type!==v.Fragment&&(a.ref=n?hr(n,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sN=Symbol("radix.slottable");function iN(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sN}function oN(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function aN(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],po=lN.reduce((e,t)=>{const r=U0(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),gu=0;function uN(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yp()),document.body.insertAdjacentElement("beforeend",e[1]??Yp()),gu++,()=>{gu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gu--}},[])}function Yp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var pa="right-scroll-bar-position",ma="width-before-scroll-bar",cN="with-scroll-bars-hidden",dN="--removed-body-scroll-bar-size";function vu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hN(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var fN=typeof window<"u"?v.useLayoutEffect:v.useEffect,Xp=new WeakMap;function pN(e,t){var r=hN(null,function(n){return e.forEach(function(s){return vu(s,n)})});return fN(function(){var n=Xp.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||vu(a,null)}),i.forEach(function(a){s.has(a)||vu(a,o)})}Xp.set(r,e)},[e]),r}function mN(e){return e}function gN(e,t){t===void 0&&(t=mN);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function vN(e){e===void 0&&(e={});var t=gN(null);return t.options=ht({async:!0,ssr:!1},e),t}var F0=function(e){var t=e.sideCar,r=Zr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,ht({},r))};F0.isSideCarExport=!0;function yN(e,t){return e.useMedium(t),F0}var z0=vN(),yu=function(){},Sl=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:yu,onWheelCapture:yu,onTouchMoveCapture:yu}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,_=e.noIsolation,y=e.inert,x=e.allowPinchZoom,g=e.as,p=g===void 0?"div":g,w=e.gapMode,b=Zr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,k=pN([r,t]),C=ht(ht({},b),s);return v.createElement(v.Fragment,null,d&&v.createElement(E,{sideCar:z0,removeScrollBar:u,shards:h,noRelative:m,noIsolation:_,inert:y,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(a),ht(ht({},C),{ref:k})):v.createElement(p,ht({},C,{className:l,ref:k}),a))});Sl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sl.classNames={fullWidth:ma,zeroRight:pa};var wN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wN();return t&&e.setAttribute("nonce",t),e}function _N(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var SN=function(){var e=0,t=null;return{add:function(r){e==0&&(t=xN())&&(_N(t,r),bN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},EN=function(){var e=SN();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},B0=function(){var e=EN(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},kN={left:0,top:0,right:0,gap:0},wu=function(e){return parseInt(e||"",10)||0},CN=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[wu(r),wu(n),wu(s)]},jN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kN;var t=CN(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},NN=B0(),bs="data-scroll-locked",PN=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(cN,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(bs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pa,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(ma,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(pa," .").concat(pa,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ma," .").concat(ma,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bs,`] {
    `).concat(dN,": ").concat(a,`px;
  }
`)},Zp=function(){var e=parseInt(document.body.getAttribute(bs)||"0",10);return isFinite(e)?e:0},RN=function(){v.useEffect(function(){return document.body.setAttribute(bs,(Zp()+1).toString()),function(){var e=Zp()-1;e<=0?document.body.removeAttribute(bs):document.body.setAttribute(bs,e.toString())}},[])},ON=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;RN();var i=v.useMemo(function(){return jN(s)},[s]);return v.createElement(NN,{styles:PN(i,!t,s,r?"":"!important")})},Kc=!1;if(typeof window<"u")try{var Jo=Object.defineProperty({},"passive",{get:function(){return Kc=!0,!0}});window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Kc=!1}var Gn=Kc?{passive:!1}:!1,TN=function(e){return e.tagName==="TEXTAREA"},V0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!TN(e)&&r[t]==="visible")},AN=function(e){return V0(e,"overflowY")},IN=function(e){return V0(e,"overflowX")},em=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=W0(e,n);if(s){var i=H0(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$N=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},LN=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},W0=function(e,t){return e==="v"?AN(t):IN(t)},H0=function(e,t){return e==="v"?$N(t):LN(t)},DN=function(e,t){return e==="h"&&t==="rtl"?-1:1},MN=function(e,t,r,n,s){var i=DN(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=H0(e,a),_=m[0],y=m[1],x=m[2],g=y-x-i*_;(_||g)&&W0(e,a)&&(h+=g,f+=_);var p=a.parentNode;a=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Yo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tm=function(e){return[e.deltaX,e.deltaY]},rm=function(e){return e&&"current"in e?e.current:e},UN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zN=0,Qn=[];function BN(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(zN++)[0],i=v.useState(B0)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=oh([e.lockRef.current],(e.shards||[]).map(rm),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var g=Yo(y),p=r.current,w="deltaX"in y?y.deltaX:p[0]-g[0],b="deltaY"in y?y.deltaY:p[1]-g[1],E,k=y.target,C=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in y&&C==="h"&&k.type==="range")return!1;var N=em(C,k);if(!N)return!0;if(N?E=C:(E=C==="v"?"h":"v",N=em(C,k)),!N)return!1;if(!n.current&&"changedTouches"in y&&(w||b)&&(n.current=E),!E)return!0;var A=n.current||E;return MN(A,x,y,A==="h"?w:b)},[]),l=v.useCallback(function(y){var x=y;if(!(!Qn.length||Qn[Qn.length-1]!==i)){var g="deltaY"in x?tm(x):Yo(x),p=t.current.filter(function(E){return E.name===x.type&&(E.target===x.target||x.target===E.shadowParent)&&UN(E.delta,g)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(rm).filter(Boolean).filter(function(E){return E.contains(x.target)}),b=w.length>0?a(x,w[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(y,x,g,p){var w={name:y,delta:x,target:g,should:p,shadowParent:VN(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),d=v.useCallback(function(y){r.current=Yo(y),n.current=void 0},[]),h=v.useCallback(function(y){u(y.type,tm(y),y.target,a(y,e.lockRef.current))},[]),f=v.useCallback(function(y){u(y.type,Yo(y),y.target,a(y,e.lockRef.current))},[]);v.useEffect(function(){return Qn.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Gn),document.addEventListener("touchmove",l,Gn),document.addEventListener("touchstart",d,Gn),function(){Qn=Qn.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Gn),document.removeEventListener("touchmove",l,Gn),document.removeEventListener("touchstart",d,Gn)}},[]);var m=e.removeScrollBar,_=e.inert;return v.createElement(v.Fragment,null,_?v.createElement(i,{styles:FN(s)}):null,m?v.createElement(ON,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function VN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const WN=yN(z0,BN);var q0=v.forwardRef(function(e,t){return v.createElement(Sl,ht({},e,{ref:t,sideCar:WN}))});q0.classNames=Sl.classNames;var HN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jn=new WeakMap,Xo=new WeakMap,Zo={},xu=0,K0=function(e){return e&&(e.host||K0(e.parentNode))},qN=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=K0(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},KN=function(e,t,r,n){var s=qN(t,Array.isArray(e)?e:[e]);Zo[r]||(Zo[r]=new WeakMap);var i=Zo[r],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(n),_=m!==null&&m!=="false",y=(Jn.get(f)||0)+1,x=(i.get(f)||0)+1;Jn.set(f,y),i.set(f,x),o.push(f),y===1&&_&&Xo.set(f,!0),x===1&&f.setAttribute(r,"true"),_||f.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(t),a.clear(),xu++,function(){o.forEach(function(h){var f=Jn.get(h)-1,m=i.get(h)-1;Jn.set(h,f),i.set(h,m),f||(Xo.has(h)||h.removeAttribute(n),Xo.delete(h)),m||h.removeAttribute(r)}),xu--,xu||(Jn=new WeakMap,Jn=new WeakMap,Xo=new WeakMap,Zo={})}},GN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=HN(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),KN(n,s,r,"aria-hidden")):function(){return null}},El="Dialog",[G0]=_l(El),[QN,It]=G0(El),Q0=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=v.useRef(null),l=v.useRef(null),[u,d]=bl({prop:n,defaultProp:s??!1,onChange:i,caller:El});return c.jsx(QN,{scope:t,triggerRef:a,contentRef:l,contentId:Ni(),titleId:Ni(),descriptionId:Ni(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};Q0.displayName=El;var J0="DialogTrigger",Y0=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=It(J0,r),i=Tt(t,s.triggerRef);return c.jsx(po.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":wh(s.open),...n,ref:i,onClick:Wt(e.onClick,s.onOpenToggle)})});Y0.displayName=J0;var vh="DialogPortal",[JN,X0]=G0(vh,{forceMount:void 0}),Z0=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=It(vh,t);return c.jsx(JN,{scope:t,forceMount:r,children:v.Children.map(n,o=>c.jsx(fo,{present:r||i.open,children:c.jsx(M0,{asChild:!0,container:s,children:o})}))})};Z0.displayName=vh;var Ga="DialogOverlay",ew=v.forwardRef((e,t)=>{const r=X0(Ga,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=It(Ga,e.__scopeDialog);return i.modal?c.jsx(fo,{present:n||i.open,children:c.jsx(XN,{...s,ref:t})}):null});ew.displayName=Ga;var YN=U0("DialogOverlay.RemoveScroll"),XN=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=It(Ga,r);return c.jsx(q0,{as:YN,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(po.div,{"data-state":wh(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ln="DialogContent",tw=v.forwardRef((e,t)=>{const r=X0(Ln,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=It(Ln,e.__scopeDialog);return c.jsx(fo,{present:n||i.open,children:i.modal?c.jsx(ZN,{...s,ref:t}):c.jsx(eP,{...s,ref:t})})});tw.displayName=Ln;var ZN=v.forwardRef((e,t)=>{const r=It(Ln,e.__scopeDialog),n=v.useRef(null),s=Tt(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return GN(i)},[]),c.jsx(rw,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Wt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Wt(e.onFocusOutside,i=>i.preventDefault())})}),eP=v.forwardRef((e,t)=>{const r=It(Ln,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return c.jsx(rw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),rw=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=It(Ln,r),l=v.useRef(null),u=Tt(t,l);return uN(),c.jsxs(c.Fragment,{children:[c.jsx(L0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(I0,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":wh(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(tP,{titleId:a.titleId}),c.jsx(nP,{contentRef:l,descriptionId:a.descriptionId})]})]})}),yh="DialogTitle",nw=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=It(yh,r);return c.jsx(po.h2,{id:s.titleId,...n,ref:t})});nw.displayName=yh;var sw="DialogDescription",iw=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=It(sw,r);return c.jsx(po.p,{id:s.descriptionId,...n,ref:t})});iw.displayName=sw;var ow="DialogClose",aw=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=It(ow,r);return c.jsx(po.button,{type:"button",...n,ref:t,onClick:Wt(e.onClick,()=>s.onOpenChange(!1))})});aw.displayName=ow;function wh(e){return e?"open":"closed"}var lw="DialogTitleWarning",[FR,uw]=aj(lw,{contentName:Ln,titleName:yh,docsSlug:"dialog"}),tP=({titleId:e})=>{const t=uw(lw),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},rP="DialogDescriptionWarning",nP=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uw(rP).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},sP=Q0,iP=Y0,oP=Z0,cw=ew,dw=tw,hw=nw,fw=iw,aP=aw;const Gc=sP,pw=iP,lP=oP,mw=v.forwardRef(({className:e,...t},r)=>c.jsx(cw,{ref:r,className:he("fixed inset-0 z-50 bg-background/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));mw.displayName=cw.displayName;const Qa=v.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(lP,{children:[c.jsx(mw,{}),c.jsxs(dw,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,c.jsxs(aP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(oj,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qa.displayName=dw.displayName;const xh=({className:e,...t})=>c.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});xh.displayName="DialogHeader";const gw=({className:e,...t})=>c.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gw.displayName="DialogFooter";const _h=v.forwardRef(({className:e,...t},r)=>c.jsx(hw,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",e),...t}));_h.displayName=hw.displayName;const bh=v.forwardRef(({className:e,...t},r)=>c.jsx(fw,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));bh.displayName=fw.displayName;const vw=v.forwardRef(({className:e,type:t,...r},n)=>c.jsx("input",{type:t,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));vw.displayName="Input";const yw=v.createContext(void 0);function uP({children:e}){const[t,r]=v.useState(null),[n,s]=v.useState(null),[i,o]=v.useState("loading");v.useEffect(()=>{if(!Me){o("ready");return}Me.auth.getSession().then(({data:h})=>{var f;r(h.session??null),s(((f=h.session)==null?void 0:f.user)??null)}).finally(()=>o("ready"));const{data:d}=Me.auth.onAuthStateChange((h,f)=>{r(f),s((f==null?void 0:f.user)??null)});return()=>{var h;(h=d==null?void 0:d.subscription)==null||h.unsubscribe()}},[]);const a=async()=>{if(!Me)throw new Error("Supabase is not configured for auth.");const{error:d}=await Me.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.href}});if(d)throw d},l=async()=>{Me&&await Me.auth.signOut()},u=v.useMemo(()=>({user:n,session:t,status:i,isConfigured:cr&&!!Me,firstName:cP(n),signInWithGoogle:a,signOut:l}),[t,i,n]);return c.jsx(yw.Provider,{value:u,children:e})}function ww(){const e=v.useContext(yw);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function cP(e){var i;if(!e)return null;const t=e.user_metadata||{},r=t.full_name||t.name,n=(i=r==null?void 0:r.trim().split(/\s+/))==null?void 0:i[0];if(n)return n;const s=e.email;return s&&s.includes("@")?s.split("@")[0]:null}async function dP(e){if(!Me||!cr)throw new Error("Supabase is not configured for feedback storage.");const{data:t,error:r}=await Me.from("feedback").insert({message:e.message,category:e.category,context:e.context,metadata:e.metadata??{},user_id:e.userId??null,user_email:e.userEmail??null,created_at:new Date().toISOString()}).select().single();if(r)throw r;return t}function Zi({context:e,metadata:t,triggerLabel:r="Share feedback",size:n="md",ctaHint:s}){var F,D;const i=Fn(),{user:o,status:a,isConfigured:l,signInWithGoogle:u,signOut:d,firstName:h}=ww(),[f,m]=v.useState(!1),[_,y]=v.useState("experience"),[x,g]=v.useState(""),[p,w]=v.useState(null),[b,E]=v.useState(!1);v.useEffect(()=>{if(!b)return;const K=window.setTimeout(()=>E(!1),3500);return()=>window.clearTimeout(K)},[b]);const k=v.useMemo(()=>({path:i.pathname,...t}),[i.pathname,t]),C=ry({mutationFn:()=>dP({message:x,category:_,context:`${e} | ${i.pathname}`,metadata:k,userId:o==null?void 0:o.id,userEmail:o==null?void 0:o.email}),onSuccess:()=>{w("Thanks for the signalwe'll review it soon."),g(""),m(!1),E(!0)},onError:K=>{w((K==null?void 0:K.message)??"Unable to submit feedback right now.")}}),N=K=>{if(K.preventDefault(),w(null),!o){w("Please sign in with Google to share feedback.");return}if(!x.trim()){w("Add a short note so we know what to improve.");return}C.mutate()},A=C.isPending||a==="loading",j=!o||!l;return c.jsxs(Gc,{open:f,onOpenChange:m,children:[c.jsx(pw,{asChild:!0,children:c.jsxs(Q,{size:n==="sm"?"sm":"default",variant:"outline",className:"group",children:[c.jsx(sj,{className:"mr-2 h-4 w-4 transition-transform group-hover:-translate-y-0.5"}),r]})}),c.jsxs(Qa,{className:"max-w-xl w-[92vw] max-h-[80vh] overflow-auto",children:[c.jsxs(xh,{children:[c.jsxs(_h,{className:"flex items-center gap-2",children:[c.jsx(Ws,{className:"h-4 w-4 text-primary"}),"In-app feedback"]}),c.jsx(bh,{children:"Help us tune this experience. Feedback is linked to your Google account for follow-up."})]}),c.jsxs("div",{className:"rounded-md border bg-muted/40 px-3 py-2 text-xs flex flex-wrap items-center gap-2 break-words",children:[c.jsx(me,{variant:"secondary",className:"text-[10px] uppercase tracking-wide flex-shrink-0",children:"Context"}),c.jsxs("span",{className:"text-muted-foreground text-xs break-words flex-1 min-w-0",children:[e,"  ",i.pathname]})]}),s&&c.jsx("p",{className:"text-xs text-muted-foreground",children:s}),!l&&c.jsx("p",{className:"text-sm text-red-500",children:"Supabase is not configured, so feedback cannot be submitted right now."}),b&&c.jsx("div",{className:"rounded-md border bg-emerald-50 text-emerald-700 px-3 py-2 text-sm shadow-sm animate-pulse",children:" Thanks for the feedback! Keep it coming."}),j?c.jsxs("div",{className:"space-y-3 rounded-lg border bg-card p-4",children:[c.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[c.jsx(O0,{className:"h-4 w-4 text-primary mt-0.5"}),c.jsx("span",{children:"Sign in with Google to attach your feedback to an account. This keeps the signal actionable."})]}),c.jsx(Q,{disabled:!l||A,onClick:()=>u().catch(K=>w(K.message)),children:"Continue with Google"})]}):c.jsxs("form",{onSubmit:N,className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:[c.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Category"}),c.jsxs("select",{value:_,onChange:K=>y(K.target.value),className:"w-full rounded-md border px-3 py-2 text-sm bg-background",disabled:A,children:[c.jsx("option",{value:"experience",children:"Experience"}),c.jsx("option",{value:"content",children:"Content quality"}),c.jsx("option",{value:"bug",children:"Bug"}),c.jsx("option",{value:"idea",children:"Idea"})]})]}),c.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:[c.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Signed in as"}),c.jsx(vw,{value:h||((F=o==null?void 0:o.user_metadata)==null?void 0:F.full_name)||((o==null?void 0:o.email)??""),disabled:!0,readOnly:!0})]})]}),c.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:[c.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-wide",children:"Your feedback"}),c.jsx("textarea",{value:x,onChange:K=>g(K.target.value),rows:4,placeholder:"Tell us what works, what feels off, or whats missing.",className:"w-full rounded-md border bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring",disabled:A})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(me,{variant:"outline",className:"text-[10px]",children:"Google sign-in required"}),(o==null?void 0:o.email)&&c.jsx("span",{className:"text-xs text-muted-foreground truncate",children:h||((D=o.user_metadata)==null?void 0:D.full_name)||o.email})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Q,{type:"button",variant:"ghost",size:"sm",disabled:A,onClick:()=>d(),children:"Sign out"}),c.jsx(Q,{type:"submit",size:"sm",disabled:A,children:C.isPending?"Sending...":"Submit feedback"})]})]}),p&&c.jsx("p",{className:`text-xs ${C.isError?"text-red-500":"text-muted-foreground"}`,children:p})]})]}),c.jsx(Gc,{open:b,onOpenChange:E,children:c.jsx(Qa,{className:"max-w-sm w-[90vw] border-emerald-200 bg-emerald-50 shadow-xl animate-in fade-in slide-in-from-top-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"relative inline-flex h-10 w-10 items-center justify-center rounded-full bg-emerald-600 text-white",children:c.jsx(N0,{className:"h-6 w-6 animate-ping-once"})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-base font-semibold text-emerald-800",children:"Thanks for the feedback!"}),c.jsx("p",{className:"text-sm text-emerald-700",children:"We'll read every note. Keep the insights coming. "})]})]})})})]})}function hP(){const{data:e=[],isLoading:t,error:r}=ur({queryKey:["languages"],queryFn:gh,staleTime:1/0,refetchOnWindowFocus:!1}),n=i=>i?i.charAt(0).toUpperCase()+i.slice(1):"",s={java:"The leading language for enterprise software, Android development, and large-scale systems.",react:"A JavaScript library for building user interfaces, maintained by Meta and a community of individual developers and companies."};return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background via-background to-muted/30",children:c.jsxs("div",{className:"container mx-auto px-4 py-10 space-y-12",children:[c.jsxs("header",{className:"max-w-5xl mx-auto text-center space-y-6",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 text-primary px-4 py-2 text-sm font-medium",children:[c.jsx(Ws,{className:"h-4 w-4"}),"Canonical learning hubs"]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight",children:"Your best path from fundamentals to mastery"}),c.jsx("p",{className:"text-base md:text-lg text-muted-foreground max-w-3xl mx-auto",children:"Dive into curated, canonical curriculums with AI summaries and practice-ready resources. Pick a track and start learning without the noise."})]}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-3 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ij,{className:"h-4 w-4 text-primary"})," Quality-checked sources"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(nj,{className:"h-4 w-4 text-primary"})," Beginner to expert levels"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(JC,{className:"h-4 w-4 text-primary"})," Summaries and takeaways"]})]})]}),r&&c.jsx("div",{className:"text-red-500 text-center text-sm",children:r.message??"Unable to load languages"}),t&&c.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Loading languages..."}),c.jsxs("section",{className:"max-w-5xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Tracks"}),c.jsx("h2",{className:"text-2xl font-bold",children:"Choose your next stack"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Pick a language or framework to see its journey."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(i=>c.jsxs(rt,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(nt,{children:[c.jsxs(qe,{className:"flex items-center justify-between",children:[c.jsx("span",{children:n(i.label)||n(i.slug)}),c.jsx(me,{variant:"secondary",className:"text-[11px]",children:"Guided"})]}),c.jsx(Rt,{className:"text-sm",children:s[i.slug.toLowerCase()]||"A popular programming language."})]}),c.jsx(jt,{className:"flex justify-between items-center",children:c.jsx(An,{to:`/language/${i.slug}`,children:c.jsxs(Q,{className:"w-full group",children:["Start track",c.jsx(QC,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})})]},i.slug))})]}),c.jsxs("section",{className:"max-w-5xl mx-auto text-center space-y-3 border rounded-lg p-6 bg-card",children:[c.jsx("p",{className:"text-sm font-semibold",children:"More tracks coming soon"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Were adding more stacks. Tell us what you want next and well prioritize it."}),c.jsx("div",{className:"flex justify-center",children:c.jsx(Zi,{context:"Home track requests",triggerLabel:"Request or upvote a track",size:"sm",metadata:{knownLanguages:e.map(i=>i.slug)},ctaHint:"Sign in with Google and drop the stacks or frameworks you want us to add."})})]})]})})}var fP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sh=fP.reduce((e,t)=>{const r=sy(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),pP="Separator",nm="horizontal",mP=["horizontal","vertical"],xw=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=nm,...s}=e,i=gP(n)?n:nm,a=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(Sh.div,{"data-orientation":i,...a,...s,ref:t})});xw.displayName=pP;function gP(e){return mP.includes(e)}var _w=xw;const mo=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>c.jsx(_w,{ref:s,decorative:r,orientation:t,className:he("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));mo.displayName=_w.displayName;function sm(e){const t=vP(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,a=v.Children.toArray(i),l=a.find(wP);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function vP(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=_P(s),a=xP(i,s.props);return s.type!==v.Fragment&&(a.ref=n?hr(n,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yP=Symbol("radix.slottable");function wP(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yP}function xP(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function _P(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bP(e){const t=e+"CollectionProvider",[r,n]=_l(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:g}=y,p=ce.useRef(null),w=ce.useRef(new Map).current;return c.jsx(s,{scope:x,itemMap:w,collectionRef:p,children:g})};o.displayName=t;const a=e+"CollectionSlot",l=sm(a),u=ce.forwardRef((y,x)=>{const{scope:g,children:p}=y,w=i(a,g),b=Tt(x,w.collectionRef);return c.jsx(l,{ref:b,children:p})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=sm(d),m=ce.forwardRef((y,x)=>{const{scope:g,children:p,...w}=y,b=ce.useRef(null),E=Tt(x,b),k=i(d,g);return ce.useEffect(()=>(k.itemMap.set(b,{ref:b,...w}),()=>void k.itemMap.delete(b))),c.jsx(f,{[h]:"",ref:E,children:p})});m.displayName=d;function _(y){const x=i(e+"CollectionConsumer",y);return ce.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((k,C)=>w.indexOf(k.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},_,n]}function SP(e){const t=EP(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,a=v.Children.toArray(i),l=a.find(CP);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function EP(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=NP(s),a=jP(i,s.props);return s.type!==v.Fragment&&(a.ref=n?hr(n,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kP=Symbol("radix.slottable");function CP(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kP}function jP(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function NP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var PP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bw=PP.reduce((e,t)=>{const r=SP(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function RP(e){const t=OP(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,a=v.Children.toArray(i),l=a.find(AP);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function OP(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=$P(s),a=IP(i,s.props);return s.type!==v.Fragment&&(a.ref=n?hr(n,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TP=Symbol("radix.slottable");function AP(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TP}function IP(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function $P(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var LP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Eh=LP.reduce((e,t)=>{const r=RP(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),kl="Collapsible",[DP,Sw]=_l(kl),[MP,kh]=DP(kl),Ew=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[l,u]=bl({prop:n,defaultProp:s??!1,onChange:o,caller:kl});return c.jsx(MP,{scope:r,disabled:i,contentId:Ni(),open:l,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:c.jsx(Eh.div,{"data-state":jh(l),"data-disabled":i?"":void 0,...a,ref:t})})});Ew.displayName=kl;var kw="CollapsibleTrigger",Cw=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=kh(kw,r);return c.jsx(Eh.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":jh(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Wt(e.onClick,s.onOpenToggle)})});Cw.displayName=kw;var Ch="CollapsibleContent",jw=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=kh(Ch,e.__scopeCollapsible);return c.jsx(fo,{present:r||s.open,children:({present:i})=>c.jsx(UP,{...n,ref:t,present:i})})});jw.displayName=Ch;var UP=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=kh(Ch,r),[a,l]=v.useState(n),u=v.useRef(null),d=Tt(t,u),h=v.useRef(0),f=h.current,m=v.useRef(0),_=m.current,y=o.open||a,x=v.useRef(y),g=v.useRef(void 0);return v.useEffect(()=>{const p=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(p)},[]),Hs(()=>{const p=u.current;if(p){g.current=g.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const w=p.getBoundingClientRect();h.current=w.height,m.current=w.width,x.current||(p.style.transitionDuration=g.current.transitionDuration,p.style.animationName=g.current.animationName),l(n)}},[o.open,n]),c.jsx(Eh.div,{"data-state":jh(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...e.style},children:y&&s})});function jh(e){return e?"open":"closed"}var FP=Ew,zP=Cw,BP=jw,VP=v.createContext(void 0);function WP(e){const t=v.useContext(VP);return e||t||"ltr"}var $t="Accordion",HP=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Nh,qP,KP]=bP($t),[Cl]=_l($t,[KP,Sw]),Ph=Sw(),Nw=ce.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return c.jsx(Nh.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?c.jsx(YP,{...i,ref:t}):c.jsx(JP,{...s,ref:t})})});Nw.displayName=$t;var[Pw,GP]=Cl($t),[Rw,QP]=Cl($t,{collapsible:!1}),JP=ce.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,l]=bl({prop:r,defaultProp:n??"",onChange:s,caller:$t});return c.jsx(Pw,{scope:e.__scopeAccordion,value:ce.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:ce.useCallback(()=>i&&l(""),[i,l]),children:c.jsx(Rw,{scope:e.__scopeAccordion,collapsible:i,children:c.jsx(Ow,{...o,ref:t})})})}),YP=ce.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,a]=bl({prop:r,defaultProp:n??[],onChange:s,caller:$t}),l=ce.useCallback(d=>a((h=[])=>[...h,d]),[a]),u=ce.useCallback(d=>a((h=[])=>h.filter(f=>f!==d)),[a]);return c.jsx(Pw,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:c.jsx(Rw,{scope:e.__scopeAccordion,collapsible:!0,children:c.jsx(Ow,{...i,ref:t})})})}),[XP,jl]=Cl($t),Ow=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,a=ce.useRef(null),l=Tt(a,t),u=qP(r),h=WP(s)==="ltr",f=Wt(e.onKeyDown,m=>{var N;if(!HP.includes(m.key))return;const _=m.target,y=u().filter(A=>{var j;return!((j=A.ref.current)!=null&&j.disabled)}),x=y.findIndex(A=>A.ref.current===_),g=y.length;if(x===-1)return;m.preventDefault();let p=x;const w=0,b=g-1,E=()=>{p=x+1,p>b&&(p=w)},k=()=>{p=x-1,p<w&&(p=b)};switch(m.key){case"Home":p=w;break;case"End":p=b;break;case"ArrowRight":i==="horizontal"&&(h?E():k());break;case"ArrowDown":i==="vertical"&&E();break;case"ArrowLeft":i==="horizontal"&&(h?k():E());break;case"ArrowUp":i==="vertical"&&k();break}const C=p%g;(N=y[C].ref.current)==null||N.focus()});return c.jsx(XP,{scope:r,disabled:n,direction:s,orientation:i,children:c.jsx(Nh.Slot,{scope:r,children:c.jsx(bw.div,{...o,"data-orientation":i,ref:l,onKeyDown:n?void 0:f})})})}),Ja="AccordionItem",[ZP,Rh]=Cl(Ja),Tw=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=jl(Ja,r),o=GP(Ja,r),a=Ph(r),l=Ni(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return c.jsx(ZP,{scope:r,open:u,disabled:d,triggerId:l,children:c.jsx(FP,{"data-orientation":i.orientation,"data-state":Mw(u),...a,...s,ref:t,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});Tw.displayName=Ja;var Aw="AccordionHeader",Iw=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=jl($t,r),i=Rh(Aw,r);return c.jsx(bw.h3,{"data-orientation":s.orientation,"data-state":Mw(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Iw.displayName=Aw;var Qc="AccordionTrigger",$w=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=jl($t,r),i=Rh(Qc,r),o=QP(Qc,r),a=Ph(r);return c.jsx(Nh.ItemSlot,{scope:r,children:c.jsx(zP,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...n,ref:t})})});$w.displayName=Qc;var Lw="AccordionContent",Dw=ce.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=jl($t,r),i=Rh(Lw,r),o=Ph(r);return c.jsx(BP,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Dw.displayName=Lw;function Mw(e){return e?"open":"closed"}var eR=Nw,tR=Tw,rR=Iw,Uw=$w,nR=Dw;const sR=eR,Fw=v.forwardRef(({className:e,...t},r)=>c.jsx(tR,{ref:r,className:he("border-b",e),...t}));Fw.displayName="AccordionItem";const zw=v.forwardRef(({className:e,children:t,...r},n)=>c.jsx(rR,{className:"flex",children:c.jsxs(Uw,{ref:n,className:he("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,c.jsx(YC,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));zw.displayName=Uw.displayName;const Bw=v.forwardRef(({className:e,children:t,...r},n)=>c.jsx(nR,{ref:n,className:he("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:c.jsx("div",{className:"pb-4 pt-0",children:t})}));Bw.displayName="AccordionContent";function iR(e,t=[]){let r=[];function n(i,o){const a=v.createContext(o);a.displayName=i+"Context";const l=r.length;r=[...r,o];const u=h=>{var g;const{scope:f,children:m,..._}=h,y=((g=f==null?void 0:f[e])==null?void 0:g[l])||a,x=v.useMemo(()=>_,Object.values(_));return c.jsx(y.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(h,f){var y;const m=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,_=v.useContext(m);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,oR(s,...t)]}function oR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Oh="Progress",Th=100,[aR]=iR(Oh),[lR,uR]=aR(Oh),Vw=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=cR,...o}=e;(s||s===0)&&!im(s)&&console.error(dR(`${s}`,"Progress"));const a=im(s)?s:Th;n!==null&&!om(n,a)&&console.error(hR(`${n}`,"Progress"));const l=om(n,a)?n:null,u=Ya(l)?i(l,a):void 0;return c.jsx(lR,{scope:r,value:l,max:a,children:c.jsx(Sh.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Ya(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":qw(l,a),"data-value":l??void 0,"data-max":a,...o,ref:t})})});Vw.displayName=Oh;var Ww="ProgressIndicator",Hw=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=uR(Ww,r);return c.jsx(Sh.div,{"data-state":qw(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Hw.displayName=Ww;function cR(e,t){return`${Math.round(e/t*100)}%`}function qw(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ya(e){return typeof e=="number"}function im(e){return Ya(e)&&!isNaN(e)&&e>0}function om(e,t){return Ya(e)&&!isNaN(e)&&e<=t&&e>=0}function dR(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Th}\`.`}function hR(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Th} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Kw=Vw,fR=Hw;const Ah=v.forwardRef(({className:e,value:t,...r},n)=>c.jsx(Kw,{ref:n,className:he("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:c.jsx(fR,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ah.displayName=Kw.displayName;function rr({className:e,...t}){return c.jsx("div",{className:he("animate-pulse rounded-md bg-muted",e),...t})}const Gw=e=>{if(!e)return"";const t=e.replace(/-/g," ");return t.charAt(0).toUpperCase()+t.slice(1)};function pR(e){return e?(Array.isArray(e)?e:Array.isArray(e==null?void 0:e.questions)?e.questions:[]).map(r=>({question:r.question??r.prompt??"",choices:Array.isArray(r.choices)?r.choices:[],correct_answer:r.correct_answer??r.answer??"",explanation:r.explanation??""})).filter(r=>r.question&&r.correct_answer&&r.choices.length>=2):[]}function mR({topic:e,subject:t}){const[r,n]=v.useState({}),[s,i]=v.useState(0),[o,a]=v.useState(!1),l=Gw(t),{data:u,isLoading:d,isError:h,isFetching:f}=ur({queryKey:["topic-quiz",t??"unknown",e.id],queryFn:()=>C0(t??"general",e.id,"quiz"),staleTime:1e3*60*60,refetchOnWindowFocus:!1}),m=v.useMemo(()=>pR(u==null?void 0:u.content),[u]),_=`${e.title}  ${l?`${l} `:""}`,y=Math.round((s+1)/Math.max(m.length,1)*100),x=m[s];return c.jsxs(rt,{children:[c.jsx(nt,{className:"pb-3",children:c.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ws,{className:"h-4 w-4 text-primary"}),c.jsx(qe,{className:"text-sm",children:_})]}),c.jsx(Rt,{className:"text-xs text-muted-foreground",children:"Auto-built from this topic. Check your grasp before moving on."})]}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx(me,{variant:"secondary",children:"Quiz"}),c.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>n({}),children:"Reset"})]})]})}),c.jsxs(jt,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Ah,{className:"w-40",value:y}),c.jsx("span",{className:"text-xs text-muted-foreground",children:m.length?`Question ${s+1} of ${m.length}`:"0 questions"})]}),(d||f)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(rr,{className:"h-5 w-1/3"}),c.jsx(rr,{className:"h-20 w-full"})]}),h&&c.jsx("p",{className:"text-xs text-amber-600",children:"Quiz not available yet. It may need to be generated by an admin."}),!d&&!f&&!h&&m.length===0&&c.jsx("p",{className:"text-xs text-muted-foreground",children:"No quiz available yet. Check back after its generated."}),!d&&!f&&m.length>0&&x&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"border rounded-lg p-3 space-y-2 transition-all duration-200 hover:-translate-y-0.5 hover:shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(me,{variant:"outline",children:["Q",s+1]}),c.jsx("p",{className:"text-sm font-medium flex-1",children:x.question})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:Array.isArray(x.choices)&&x.choices.map((g,p)=>{const b=r[s]===g;return c.jsx(Q,{variant:b?"default":"outline",className:"justify-start text-left transition-all duration-150 whitespace-normal break-words w-full",onClick:()=>n(E=>({...E,[s]:g})),children:g},p)})}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[c.jsx("p",{className:`text-xs ${r[s]?r[s]===x.correct_answer?"text-green-600":"text-red-600":"text-muted-foreground"}`,children:r[s]?r[s]===x.correct_answer?"Correct! Verified.":`Incorrect. Verified answer: ${x.correct_answer}`:"Select an option to check your answer."}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(O0,{className:"h-4 w-4 text-emerald-500"}),c.jsx("span",{children:"Fact-checked"})]})]}),r[s]===x.correct_answer&&x.explanation&&c.jsx("p",{className:"text-xs text-muted-foreground border-t pt-2",children:x.explanation})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Q,{variant:"ghost",disabled:s===0,onClick:()=>i(g=>Math.max(g-1,0)),children:"Previous"}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[s+1," / ",m.length]}),c.jsx(Q,{variant:"default",onClick:()=>{s<m.length-1?i(g=>Math.min(g+1,m.length-1)):a(!0)},children:s<m.length-1?"Next":"Review"})]})]}),o&&c.jsxs("div",{className:"border rounded-lg p-3 space-y-2 bg-muted/40",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-semibold",children:"Review answers"}),c.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{a(!1),i(0)},children:"Restart"})]}),c.jsx("div",{className:"space-y-2 max-h-64 overflow-auto pr-1",children:m.map((g,p)=>{const w=r[p],b=w&&w===g.correct_answer;return c.jsxs("div",{className:"border rounded p-2 text-xs space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"font-semibold",children:["Q",p+1]}),c.jsx("span",{className:b?"text-green-600":"text-red-600",children:w?b?"Correct":"Incorrect":"Unanswered"})]}),c.jsx("p",{className:"font-medium",children:g.question}),w&&c.jsxs("p",{className:"text-muted-foreground",children:["Your answer: ",w]}),c.jsxs("p",{className:"text-muted-foreground",children:["Correct answer: ",g.correct_answer]})]},p)})})]})]})]})]})}function gR({topic:e,subject:t}){var l,u;const[r,n]=v.useState(!1),[s,i]=v.useState(0),o=()=>i(d=>d===0?1:d),a=()=>i(d=>d===1?0:d);return c.jsxs(Gc,{open:r,onOpenChange:d=>{n(d),d||i(0)},children:[c.jsx(pw,{asChild:!0,children:c.jsx(Q,{variant:"secondary",className:"w-full sm:w-auto",children:"Launch interactive quiz"})}),c.jsxs(Qa,{className:"max-w-4xl",children:[c.jsxs(xh,{children:[c.jsxs(_h,{children:[e.title,"  Quiz Wizard"]}),c.jsxs(bh,{children:["Briefing then questions. Crafted for the ",Gw(t)||"course"," track."]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(me,{variant:s===0?"default":"secondary",children:"Briefing"}),c.jsx(mo,{className:"flex-1"}),c.jsx(me,{variant:s===1?"default":"secondary",children:"Quiz"})]}),s===0?c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),(l=e.outcomes)!=null&&l.length?c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold",children:"Key outcomes"}),c.jsx("ul",{className:"list-disc list-inside text-xs text-muted-foreground space-y-1",children:e.outcomes.map((d,h)=>{const f=typeof d=="string"?d:d.title||d.description||"";return c.jsx("li",{children:f},h)})})]}):null,(u=e.example_exercises)!=null&&u.length?c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold",children:"Practice ideas"}),c.jsx("ul",{className:"list-disc list-inside text-xs text-muted-foreground space-y-1",children:e.example_exercises.map((d,h)=>c.jsx("li",{children:d},h))})]}):null]}):c.jsx(mR,{topic:e,subject:t})]}),c.jsxs(gw,{className:"flex justify-between",children:[c.jsx("div",{}),c.jsxs("div",{className:"flex gap-2",children:[s===1&&c.jsx(Q,{variant:"ghost",onClick:a,children:"Back"}),s===0&&c.jsx(Q,{onClick:o,children:"Start quiz"}),s===1&&c.jsx(Q,{variant:"secondary",onClick:()=>n(!1),children:"Close"})]})]})]})]})}const Qw=e=>{const t=Number(e.estimated_hours??0),r=(e.subtopics??[]).reduce((n,s)=>n+Qw(s),0);return t>0&&r>0?t:r>0?r:t},vR=e=>{const t=(e.topics??[]).reduce((n,s)=>n+Qw(s),0),r=Number(e.estimated_hours??0);return t>0?t:r>0?r:0},yR=e=>Number.isFinite(e)?e%1===0?String(e):e.toFixed(1):"0",wR=e=>e.subtopics&&e.subtopics.length>0?e.subtopics.map((r,n)=>({id:r.id||`${e.id}-sub-${n}`,label:r.title||`Subtopic ${n+1}`,preview:r.description||r.title||"",order:typeof r.order=="number"?r.order:n+1})):(e.outcomes??[]).map((r,n)=>{const s=typeof r=="string"?r:(r==null?void 0:r.title)||(r==null?void 0:r.description)||`Subtopic ${n+1}`,i=typeof r=="string"?r:(r==null?void 0:r.description)||(r==null?void 0:r.title)||s,o=i.length>200?`${i.slice(0,197)}...`:i;return{id:typeof r=="object"&&(r==null?void 0:r.id)||`${e.id}-outcome-${n}`,label:s,preview:o,order:n+1}}),xR=e=>[...e].sort((t,r)=>{const n=typeof t.order=="number"?t.order:Number.POSITIVE_INFINITY,s=typeof r.order=="number"?r.order:Number.POSITIVE_INFINITY;return n!==s?n-s:t.label.localeCompare(r.label)});function _R({topic:e,curriculum:t,level:r=0,languageSlug:n,focusedTopicId:s,setFocusedTopicId:i,openTopics:o,setOpenTopics:a}){var p,w,b,E,k,C,N,A;const l=At(n||""),[u,d]=v.useState(!0),h=ur({queryKey:["summary",l,e.id],queryFn:()=>C0(l,e.id,"summary_article"),staleTime:1e3*60*60}),f=s===e.id,m=o.includes(e.id);v.useEffect(()=>{m?i(e.id):s===e.id&&i(null)},[m,e.id,s,i]);const[_,y]=v.useState(!1),x=v.useMemo(()=>xR(wR(e)),[e]),g=c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),x.length>0&&c.jsxs("div",{className:"rounded-xl border bg-white/70 p-3 shadow-sm dark:bg-slate-900/60",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ws,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:"Subtopics"})]}),c.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Open a subtopic page for details"})]}),c.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:x.map((j,F)=>c.jsxs(An,{to:`/language/${n}/topic/${e.id}/subtopic/${j.id}`,state:{returnOpenTopics:o,returnFocusedTopicId:e.id},className:"w-full rounded-lg border bg-gradient-to-r from-slate-50 to-slate-100 px-3 py-3 text-left transition hover:-translate-y-0.5 hover:shadow-md dark:from-slate-900 dark:to-slate-800",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:j.label}),c.jsxs(me,{variant:"outline",className:"text-[10px]",children:["Step ",j.order??F+1]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-3",children:j.preview}),c.jsx("div",{className:"mt-2 text-[11px] text-primary",children:"View subtopic page "})]},j.id))})]}),(p=e.outcomes)!=null&&p.length||(w=e.example_exercises)!=null&&w.length?c.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.outcomes&&e.outcomes.length>0&&c.jsxs("div",{className:"rounded-xl border bg-gradient-to-br from-emerald-50/60 to-emerald-100/40 p-3 dark:from-emerald-900/20 dark:to-emerald-800/10",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(N0,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),c.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:"Outcomes"})]}),c.jsx(me,{variant:"outline",className:"px-2 py-0.5 text-[11px]",children:e.outcomes.length})]}),c.jsxs("div",{className:"mt-2 space-y-2",children:[e.outcomes.slice(0,3).map((j,F)=>{const D=typeof j=="string"?j:(j==null?void 0:j.title)||(j==null?void 0:j.description)||"";return c.jsxs("div",{className:"flex items-start gap-2 rounded-md bg-white/70 px-2 py-1 text-[13px] leading-snug text-slate-700 dark:bg-emerald-950/40 dark:text-emerald-50",children:[c.jsx("span",{className:"mt-0.5 h-1.5 w-1.5 rounded-full bg-emerald-500"}),c.jsx("p",{className:"flex-1",children:D})]},F)}),e.outcomes.length>3&&c.jsxs("p",{className:"text-[11px] text-muted-foreground",children:["+",e.outcomes.length-3," more outcomes"]})]})]}),e.example_exercises&&e.example_exercises.length>0&&c.jsxs("div",{className:"rounded-xl border bg-gradient-to-br from-indigo-50/60 to-indigo-100/40 p-3 dark:from-indigo-900/20 dark:to-indigo-800/10",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(P0,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"}),c.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground",children:"Exercises"})]}),c.jsx(me,{variant:"outline",className:"px-2 py-0.5 text-[11px]",children:e.example_exercises.length})]}),c.jsxs("div",{className:"mt-2 space-y-2",children:[e.example_exercises.slice(0,3).map((j,F)=>c.jsxs("div",{className:"flex items-start gap-2 rounded-md bg-white/70 px-2 py-1 text-[13px] leading-snug text-slate-700 dark:bg-indigo-950/40 dark:text-indigo-50",children:[c.jsx("span",{className:"mt-0.5 h-1.5 w-1.5 rounded-full bg-indigo-500"}),c.jsx("p",{className:"flex-1",children:j})]},F)),e.example_exercises.length>3&&c.jsxs("p",{className:"text-[11px] text-muted-foreground",children:["+",e.example_exercises.length-3," more exercises"]})]})]})]}):null,e.helpful_references&&e.helpful_references.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-xs text-muted-foreground",children:"References: "}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.helpful_references.map((j,F)=>{var K;const D=(K=t.canonical_sources)==null?void 0:K.find(vt=>vt.id===j.sourceId);return D?c.jsxs("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-500 hover:underline text-xs",title:`${D.title} (${D.steward}): ${D.short_summary}`,children:[D.title," ",c.jsx(R0,{className:"ml-1 h-3 w-3"})]},F):null})})]})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ws,{className:"h-4 w-4 text-primary"}),c.jsx("h3",{className:"text-sm font-semibold",children:"Summary & takeaways"}),c.jsx(Q,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>y(j=>!j),children:_?"Hide":"View"})]}),h.isLoading&&c.jsxs("div",{className:"rounded-lg border bg-muted/40 p-3 space-y-2",children:[c.jsx("p",{className:"text-sm font-semibold",children:"Preparing summary..."}),c.jsx(Ah,{className:"w-40",value:60})]}),h.isError&&c.jsx("p",{className:"text-xs text-red-500",children:"Unable to load summary right now."}),h.data&&_&&c.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[c.jsxs("div",{className:"rounded-lg border bg-muted/40 p-3 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-semibold",children:"Summary"}),c.jsx(Q,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>d(j=>!j),children:u?c.jsx(ej,{className:"h-4 w-4"}):c.jsx(tj,{className:"h-4 w-4"})})]}),u?c.jsxs("div",{className:"text-sm max-h-72 overflow-auto space-y-2",children:[c.jsx("h4",{className:"font-semibold",children:(b=h.data.content)==null?void 0:b.title}),(k=(E=h.data.content)==null?void 0:E.sections)==null?void 0:k.map((j,F)=>{var D;return c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"font-medium",children:j.heading}),(D=j.paragraphs)==null?void 0:D.map((K,vt)=>c.jsx("p",{className:"text-xs text-muted-foreground",children:K},vt))]},F)})]}):c.jsx("p",{className:"text-xs text-muted-foreground",children:"Summary hidden."})]}),c.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 space-y-3",children:[c.jsx("p",{className:"text-sm font-semibold",children:"Quick takeaways"}),c.jsxs("div",{className:"space-y-2",children:[(N=(C=h.data.content)==null?void 0:C.sections)==null?void 0:N.slice(0,3).map((j,F)=>{var D;return c.jsxs("div",{className:"p-2 rounded border text-xs space-y-1",children:[c.jsx("p",{className:"font-semibold",children:j.heading}),((D=j.paragraphs)==null?void 0:D[0])&&c.jsx("p",{className:"text-muted-foreground",children:j.paragraphs[0]})]},F)}),(!((A=h.data.content)!=null&&A.sections)||h.data.content.sections.length===0)&&c.jsx("p",{className:"text-xs text-muted-foreground",children:"Summary is readyexpand to view details."})]})]})]})]}),c.jsx(gR,{topic:e,subject:l})]});return c.jsxs(Fw,{value:e.id,children:[c.jsx(zw,{className:`text-left ${r===0?"font-semibold text-base":"text-sm"}`,onClick:()=>{const j=o.includes(e.id);a(j?o.filter(F=>F!==e.id):[...o,e.id])},children:c.jsxs("div",{className:"flex justify-between items-center w-full pr-4",children:[c.jsxs("span",{children:[e.order,". ",e.title]}),e.estimated_hours>0&&c.jsxs(me,{variant:"outline",className:"ml-2 whitespace-nowrap",children:[e.estimated_hours," hrs"]})]})}),c.jsx(Bw,{className:`pl-4 transition duration-200 ${s&&s!==e.id?"opacity-40 blur-[1px] pointer-events-none":""}`,children:f?c.jsx("p",{className:"text-xs text-muted-foreground",children:"Topic is open in focus view."}):c.jsx(c.Fragment,{children:g})}),f&&c.jsx("div",{className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm flex items-start justify-center overflow-y-auto p-4",onClick:()=>{i(null),a(o.filter(j=>j!==e.id))},children:c.jsxs("div",{className:"w-full max-w-5xl mt-10 rounded-lg border bg-card p-4 shadow-lg max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:[c.jsx("div",{className:"flex justify-end",children:c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{i(null),a(o.filter(j=>j!==e.id))},children:"Close"})}),c.jsx("div",{className:"mt-2 space-y-4",children:g})]})})]},e.id)}function bR({curriculum:e,languageSlug:t,initialOpenTopics:r=[],initialFocusedTopicId:n=null}){const s=v.useMemo(()=>r.join("|"),[r]),[i,o]=v.useState(n),[a,l]=v.useState(()=>[...new Set([...r,...n?[n]:[]])]);return v.useEffect(()=>{l(u=>{const d=[...new Set([...r,...n?[n]:[]])],h=u.join("|"),f=d.join("|");return h===f?u:d}),o(n??null)},[s,n]),v.useEffect(()=>{if(i){const u=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=u}}},[i]),c.jsx("div",{className:"mb-8",children:c.jsx("div",{className:"space-y-6",children:e.overall_learning_path.map(u=>c.jsxs(rt,{children:[c.jsx(nt,{children:c.jsxs(qe,{className:"flex justify-between items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:u.level}),u.level.toLowerCase().includes("expert")&&c.jsx(me,{variant:"outline",className:"text-[11px] border-orange-500 text-orange-600",children:"LEARNING RESOURCES IN PROGRESS"})]}),c.jsxs(me,{className:"bg-blue-500 text-white",children:[yR(vR(u))," hrs est."]})]})}),c.jsx(jt,{children:c.jsx(sR,{type:"multiple",value:a,onValueChange:d=>l(Array.isArray(d)?d:[]),className:"w-full",children:u.topics.map(d=>c.jsx(_R,{topic:d,curriculum:e,level:0,languageSlug:t,focusedTopicId:i,setFocusedTopicId:o,openTopics:a,setOpenTopics:l},d.id))})})]},u.level))})})}function SR(){const{slug:e}=Uv(),r=Fn().state||null,{data:n,isLoading:s,isError:i,error:o}=ur({queryKey:["curriculum",e],queryFn:()=>xl(e),enabled:!!e});if(i)return c.jsxs("div",{className:"container mx-auto p-8 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error"}),c.jsxs("p",{className:"text-red-500",children:["Failed to load curriculum: ",o==null?void 0:o.message]}),c.jsx(An,{to:"/",children:c.jsxs(Q,{variant:"link",className:"mt-4",children:[c.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Back to Languages"]})})]});const a=s;return c.jsxs("div",{className:"container mx-auto p-4 max-w-5xl",children:[c.jsx(An,{to:"/",children:c.jsxs(Q,{variant:"link",className:"mb-4",children:[c.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Back to Languages"]})}),a?c.jsxs("div",{className:"space-y-4",children:[c.jsx(rr,{className:"h-10 w-3/4"}),c.jsx(rr,{className:"h-6 w-1/2"}),c.jsx(rr,{className:"h-[200px] w-full"}),c.jsx(rr,{className:"h-[300px] w-full"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("h1",{className:"text-4xl font-extrabold mb-2",children:[e==null?void 0:e.toUpperCase()," - Canonical Learning Hub"]}),c.jsx("p",{className:"text-md text-muted-foreground mb-6",children:(n==null?void 0:n.explanation)||"AI-generated curriculum for "+e}),c.jsx("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:c.jsx(Zi,{context:`Curriculum overview for ${e}`,triggerLabel:"Feedback on this path",size:"sm",metadata:{language:e,curriculumId:n==null?void 0:n.language},ctaHint:"Drop quick feedback on the sequencing, sources, or summaries."})}),c.jsx(mo,{className:"my-6"}),n&&e&&c.jsx(bR,{curriculum:n,languageSlug:e,initialOpenTopics:(r==null?void 0:r.returnOpenTopics)??[],initialFocusedTopicId:(r==null?void 0:r.returnFocusedTopicId)??null})]})]})}function ER(){const e=eh(),{data:t=[],isLoading:r,error:n}=ur({queryKey:["languages"],queryFn:gh}),{data:s=[],isLoading:i,error:o,refetch:a}=ur({queryKey:["cachedCurricula"],queryFn:j0}),l=ry({mutationFn:h=>HC(h),onSuccess:(h,f)=>{e.invalidateQueries({queryKey:["curriculum",f]}),a()}}),u=v.useMemo(()=>{const h=new Map;return s.forEach(f=>{h.set(f.language_slug,{updated_at:f.updated_at,config_hash:f.config_hash})}),h},[s]),d=h=>l.isPending&&l.variables===h;return c.jsxs("div",{className:"container mx-auto p-4 max-w-5xl space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Curriculum Cache"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Supabase is the source of truth. Use this page to re-run the LLM and overwrite Supabase with fresh content."})]}),c.jsx(Q,{variant:"outline",onClick:()=>a(),disabled:i,children:"Reload cache"})]}),!cr&&c.jsx(rt,{children:c.jsxs(nt,{children:[c.jsx(qe,{children:"Supabase is not configured"}),c.jsx(Rt,{children:"Add VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to your environment to enable caching."})]})}),(n||o)&&c.jsx(rt,{children:c.jsxs(nt,{children:[c.jsx(qe,{children:"Unable to load data"}),c.jsx(Rt,{children:(n==null?void 0:n.message)||(o==null?void 0:o.message)||"Unknown error loading cache state."})]})}),c.jsx(mo,{}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(r||i)&&c.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading cache data..."}),!r&&t.length===0&&c.jsx("div",{className:"text-sm text-muted-foreground",children:"No languages available to refresh yet."}),t.map(h=>{const f=u.get(h.slug),m=f!=null&&f.updated_at?new Date(f.updated_at).toLocaleString():"Never";return c.jsxs(rt,{className:"flex flex-col",children:[c.jsxs(nt,{children:[c.jsxs(qe,{className:"flex items-center justify-between",children:[c.jsx("span",{children:h.label||h.slug}),c.jsx(me,{variant:f?"default":"secondary",children:f?"Cached":"Missing"})]}),c.jsx(Rt,{children:h.slug})]}),c.jsxs(jt,{className:"flex-1",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",m]}),(f==null?void 0:f.config_hash)&&c.jsxs("p",{className:"text-xs text-muted-foreground break-all mt-2",children:["Config hash: ",f.config_hash.slice(0,10),""]})]}),c.jsxs(fy,{className:"flex justify-end gap-2",children:[c.jsx(Q,{variant:"outline",size:"sm",onClick:()=>a(),disabled:i,children:"Refresh status"}),c.jsx(Q,{size:"sm",onClick:()=>l.mutate(h.slug),disabled:!cr||d(h.slug),children:d(h.slug)?"Refreshing":"Regenerate via LLM"})]})]},h.slug)})]})]})}function kR(e,t,r){if(!e)return null;const n=s=>{if(s.id===r)return{topic:s,subtopic:s};for(const i of s.subtopics??[]){if(i.id===r)return{topic:s,subtopic:i};const o=n(i);if(o)return o}return null};for(const s of e.overall_learning_path??[])for(const i of s.topics??[]){if(i.id===t){const a=n(i);if(a)return{topic:i,subtopic:a.subtopic}}const o=n(i);if(o)return o}return null}const CR={video:{badge:"bg-white/20 text-white border border-white/25",accent:"from-sky-500/20 to-sky-400/10",pill:"bg-white/85 text-slate-900 border-white/60"},documentation:{badge:"bg-white/20 text-white border border-white/25",accent:"from-green-500/20 to-green-400/10",pill:"bg-white/85 text-slate-900 border-white/60"},article:{badge:"bg-white/20 text-white border border-white/25",accent:"from-gray-500/18 to-gray-400/8",pill:"bg-white/85 text-slate-900 border-white/60"},tutorial:{badge:"bg-white/20 text-white border border-white/25",accent:"from-yellow-500/20 to-yellow-400/10",pill:"bg-white/85 text-slate-900 border-white/60"},github:{badge:"bg-white/20 text-white border border-white/25",accent:"from-slate-500/18 to-slate-400/10",pill:"bg-white/85 text-slate-900 border-white/60"},book:{badge:"bg-white/20 text-white border border-white/25",accent:"from-orange-500/18 to-orange-400/10",pill:"bg-white/85 text-slate-900 border-white/60"}},jR=e=>{const t=(e||"").toLowerCase();return CR[t]||{badge:"bg-white/20 text-white border border-white/25",accent:"from-primary/15 to-primary/5",pill:"bg-white/85 text-slate-900 border-white/60"}};function NR(){var h,f;const{slug:e,topicId:t="",subtopicId:r=""}=Uv(),s=Fn().state||null,{data:i,isLoading:o,isError:a}=ur({queryKey:["curriculum",e],queryFn:()=>xl(e),enabled:!!e}),l=!o&&!a&&i?kR(i,t,r):null,u=l==null?void 0:l.subtopic,d=l==null?void 0:l.topic;return c.jsxs("div",{className:"container mx-auto p-4 max-w-5xl space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(An,{to:d?`/language/${e}`:"/",state:d&&s?{returnOpenTopics:s.returnOpenTopics,returnFocusedTopicId:s.returnFocusedTopicId}:void 0,children:c.jsxs(Q,{variant:"ghost",size:"sm",children:[c.jsx(Hc,{className:"mr-2 h-4 w-4"}),d?"Back to curriculum":"Home"]})}),d&&c.jsx(me,{variant:"outline",className:"ml-2",children:d.title})]}),o&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(rr,{className:"h-10 w-1/2"}),c.jsx(rr,{className:"h-6 w-3/4"}),c.jsx(rr,{className:"h-[200px] w-full"})]}),!o&&(a||!u)&&c.jsxs(rt,{children:[c.jsxs(nt,{children:[c.jsx(qe,{children:"Subtopic not found"}),c.jsx(Rt,{children:"We couldn't locate this subtopic in the curriculum."})]}),c.jsx(jt,{children:c.jsx(An,{to:`/language/${e}`,state:s?{returnOpenTopics:s.returnOpenTopics,returnFocusedTopicId:s.returnFocusedTopicId}:void 0,children:c.jsx(Q,{variant:"link",children:"Back to curriculum"})})})]}),!o&&u&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h1",{className:"text-3xl font-bold",children:u.title}),c.jsx("p",{className:"text-muted-foreground",children:u.description}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[d&&c.jsxs(me,{className:"bg-white/15 text-white border border-white/25",children:["From: ",d.title]}),u.estimated_hours>0&&c.jsxs(me,{className:"bg-white/15 text-white border border-white/25",children:[u.estimated_hours," hrs"]})]})]}),(h=u.outcomes)!=null&&h.length?c.jsxs(rt,{children:[c.jsx(nt,{children:c.jsx(qe,{className:"text-base",children:"Outcomes"})}),c.jsx(jt,{className:"space-y-2",children:u.outcomes.map((m,_)=>{const y=typeof m=="string"?m:m.title||m.description||"",x=typeof m=="string"?"":m.description,g=typeof m=="string"?"":m.success_criteria;return c.jsxs("div",{className:"rounded-md border p-2 text-sm",children:[c.jsx("p",{className:"font-semibold",children:y}),x&&c.jsx("p",{className:"text-muted-foreground text-xs mt-1",children:x}),g&&c.jsxs("p",{className:"text-[11px] mt-1 text-emerald-600",children:["Success: ",g]})]},_)})})]}):null,c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs(rt,{className:"md:col-span-2 border-primary/30 bg-card/80 backdrop-blur",children:[c.jsxs(nt,{children:[c.jsxs(qe,{className:"text-base flex items-center gap-2",children:[c.jsx(Ws,{className:"h-4 w-4 text-primary"}),"Learning material"]}),c.jsx(Rt,{children:"Curated assets for this subtopic."})]}),c.jsx(jt,{children:(f=u.learning_resources)!=null&&f.length?c.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:u.learning_resources.map((m,_)=>{const y=jR(m.type||"");return c.jsxs("div",{className:`relative overflow-hidden rounded-xl border shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg ${y.accent} bg-gradient-to-br`,children:[c.jsx("div",{className:"absolute inset-x-0 top-0 h-1 bg-gradient-to-r from-transparent via-white/60 to-transparent opacity-40"}),c.jsxs("div",{className:"flex flex-col gap-2 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx(qe,{className:"text-sm leading-tight",children:m.title}),c.jsx("span",{className:`rounded-full px-2 py-1 text-[11px] font-semibold border shadow-sm ${y.pill}`,children:m.type||"Resource"})]}),c.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:m.short_summary}),c.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs font-semibold text-primary hover:underline",children:["Visit resource ",c.jsx(R0,{className:"ml-1 h-3 w-3"})]})]})]},_)})}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"No curated resources yet for this subtopic."})})]}),c.jsxs(rt,{children:[c.jsxs(nt,{children:[c.jsxs(qe,{className:"text-base flex items-center gap-2",children:[c.jsx(P0,{className:"h-4 w-4 text-indigo-500"}),"Exercises"]}),c.jsx(Rt,{children:"Practice ideas tied to this subtopic."})]}),c.jsx(jt,{className:"space-y-2",children:(u.example_exercises??[]).length>0?u.example_exercises.map((m,_)=>c.jsx("div",{className:"rounded-md border bg-muted/40 p-2 text-xs",children:m},_)):c.jsx("p",{className:"text-sm text-muted-foreground",children:"No exercises listed yet."})})]})]}),c.jsx("div",{className:"rounded-lg border bg-muted/30 p-4",children:c.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold",children:"How did this subtopic land?"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Share issues, content gaps, or wins. Feedback requires a quick Google sign-in."})]}),c.jsx(Zi,{context:`Subtopic feedback: ${e} -> ${u.title}`,triggerLabel:"Give subtopic feedback",size:"sm",metadata:{language:e,topicId:t,subtopicId:r,subtopicTitle:u.title}})]})})]})]})}const Jc=e=>!e||Number.isNaN(e)?"":`${e%1===0?e:e.toFixed(1)} hrs`,Xa=e=>[...e].sort((t,r)=>{const n=typeof t.order=="number"?t.order:Number.POSITIVE_INFINITY,s=typeof r.order=="number"?r.order:Number.POSITIVE_INFINITY;return n!==s?n-s:t.title.localeCompare(r.title)}),Jw=(e,t=0,r=[])=>{const n="  ".repeat(t),s=e.description?`  ${e.description}`:"";return r.push(`${n}- ${e.title}${s}`),Xa(e.subtopics??[]).forEach(o=>Jw(o,t+1,r)),r},PR=(e,t)=>{const r=[];return r.push(`# ${t} Curriculum Export`),r.push(`Generated: ${new Date(e.generated_at).toLocaleString()}`),r.push(""),r.push("## Subject Overview"),r.push(e.explanation||"No description available."),r.push(""),r.push("## Main Topics & Subtopics"),(e.overall_learning_path??[]).forEach(n=>{r.push("");const s=Jc(n.estimated_hours);r.push(`### ${n.level}${s?` (${s})`:""}`);const i=Xa(n.topics??[]);if(i.length===0){r.push("- No topics found for this level.");return}i.forEach(o=>Jw(o,0,r))}),r.join(`
`)};function RR(){const[e,t]=v.useState(null),[r,n]=v.useState(!1),{data:s=[],isLoading:i,error:o,refetch:a}=ur({queryKey:["languages"],queryFn:gh,staleTime:1/0,refetchOnWindowFocus:!1});v.useEffect(()=>{!e&&s.length>0&&t(s[0].slug)},[s,e]);const{data:l,isLoading:u,error:d,refetch:h}=ur({queryKey:["curriculum-export",e],queryFn:()=>xl(e||""),enabled:!!e,staleTime:1/0,refetchOnWindowFocus:!1}),f=v.useMemo(()=>{const g=s.find(p=>p.slug===e);return(g==null?void 0:g.label)||(g==null?void 0:g.slug)||e||"Subject"},[s,e]),m=v.useMemo(()=>!l||!e?"":PR(l,f),[l,f,e]),_=async()=>{if(m)try{await navigator.clipboard.writeText(m),n(!0),setTimeout(()=>n(!1),1500)}catch(g){console.error("Unable to copy export",g)}},y=()=>{if(!m||!e)return;const g=new Blob([m],{type:"text/markdown"}),p=URL.createObjectURL(g),w=document.createElement("a");w.href=p,w.download=`${e}-curriculum-export.md`,w.click(),URL.revokeObjectURL(p)},x=i||u;return c.jsxs("div",{className:"container mx-auto p-4 max-w-6xl space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Admin"}),c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Curriculum Exporter"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Export any subject with its description, main topics, and subtopics in a highly readable Markdown layout."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>a(),disabled:i,children:[c.jsx(Wp,{className:"mr-2 h-4 w-4"})," Reload subjects"]}),c.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>h(),disabled:!e||u,children:[c.jsx(Wp,{className:"mr-2 h-4 w-4"})," Refresh export"]})]})]})]}),c.jsxs(rt,{className:"border-dashed",children:[c.jsxs(nt,{className:"pb-2",children:[c.jsx(qe,{className:"text-base",children:"Available subjects"}),c.jsx(Rt,{className:"text-sm",children:"Choose a curriculum to generate its export-ready outline."})]}),c.jsxs(jt,{children:[o&&c.jsxs("p",{className:"text-sm text-red-500",children:["Unable to load subjects: ",o.message]}),s.length===0&&!i&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"No subjects available yet."}),c.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:s.map(g=>{const p=g.slug===e;return c.jsxs("button",{onClick:()=>t(g.slug),className:`flex items-center justify-between rounded-lg border p-3 text-left transition hover:shadow-sm ${p?"border-primary bg-primary/5":"border-muted bg-card"}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:g.label||g.slug}),c.jsx("p",{className:"text-xs text-muted-foreground",children:g.slug})]}),p&&c.jsx(me,{variant:"default",className:"text-[11px]",children:"Selected"})]},g.slug)})})]})]}),c.jsxs(rt,{children:[c.jsx(nt,{className:"pb-3",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[c.jsxs("div",{children:[c.jsxs(qe,{className:"text-xl flex items-center gap-2",children:[c.jsx(rj,{className:"h-5 w-5 text-primary"}),f," export"]}),c.jsx(Rt,{className:"text-sm",children:(l==null?void 0:l.explanation)||"Pick a subject to see its export-ready curriculum."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Q,{variant:"outline",size:"sm",onClick:_,disabled:!m,children:[c.jsx(XC,{className:"mr-2 h-4 w-4"}),r?"Copied":"Copy export"]}),c.jsxs(Q,{size:"sm",onClick:y,disabled:!m,children:[c.jsx(ZC,{className:"mr-2 h-4 w-4"}),"Download .md"]})]})]})}),c.jsx(mo,{}),c.jsxs(jt,{className:"space-y-4",children:[d&&c.jsxs("p",{className:"text-sm text-red-500",children:["Unable to load curriculum: ",d.message]}),x&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading export data..."}),!x&&m&&c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[1.1fr_0.9fr]",children:[c.jsx("div",{className:"rounded-lg border bg-slate-950 text-slate-100 shadow-inner",children:c.jsx("pre",{className:"whitespace-pre-wrap p-4 text-sm leading-relaxed font-mono",children:m})}),c.jsx("div",{className:"space-y-3",children:((l==null?void 0:l.overall_learning_path)??[]).map(g=>c.jsxs("div",{className:"rounded-lg border bg-muted/40 p-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(me,{variant:"secondary",className:"text-[11px]",children:g.level}),g.estimated_hours?c.jsx("span",{className:"text-xs text-muted-foreground",children:Jc(g.estimated_hours)}):null]}),c.jsx("span",{className:"text-[11px] uppercase tracking-wide text-muted-foreground",children:"Main topics"})]}),c.jsx("ul",{className:"mt-2 space-y-2",children:Xa(g.topics??[]).map(p=>c.jsxs("li",{className:"rounded border bg-card px-3 py-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-semibold",children:p.title}),p.estimated_hours?c.jsx(me,{variant:"outline",className:"text-[11px]",children:Jc(p.estimated_hours)}):null]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description}),p.subtopics&&p.subtopics.length>0&&c.jsx("ul",{className:"mt-2 space-y-1 text-xs text-muted-foreground",children:Xa(p.subtopics).map(w=>c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-primary/70"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-900 text-xs",children:w.title}),c.jsx("p",{className:"text-[11px] text-muted-foreground",children:w.description})]})]},w.id))})]},p.id))})]},g.level))})]}),!x&&!m&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a subject above to generate a clean, export-ready curriculum outline."})]})]})]})}function OR(){const{user:e,status:t,signOut:r,firstName:n}=ww(),[s,i]=v.useState(!1),o=(n||(e==null?void 0:e.email)||"?").charAt(0).toUpperCase();return c.jsx(SS,{children:c.jsxs("div",{className:"container mx-auto p-4",children:[c.jsxs("header",{className:"mb-6 relative space-y-3",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3 md:items-center md:flex-row flex-col text-center md:text-left",children:[c.jsx(An,{to:"/",className:"w-full md:w-auto",children:c.jsx("h1",{className:"text-3xl font-bold md:text-left text-center",children:"Intellibus Academy Curriculum"})}),c.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[c.jsx(Zi,{context:"Global navigation feedback",triggerLabel:"Share feedback",size:"sm",ctaHint:"Tell us what feels clunky or missing anywhere in the app."}),e?c.jsxs("div",{className:"relative",children:[c.jsxs(Q,{variant:"outline",size:"sm",className:"flex items-center gap-2 justify-center",onClick:()=>i(a=>!a),children:[c.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-primary text-white text-xs",children:o}),c.jsx("span",{className:"hidden md:inline text-sm",children:n||e.email})]}),s&&c.jsx("div",{className:"absolute right-0 mt-2 w-44 rounded-md border bg-card shadow-lg z-10",children:c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted transition",onClick:()=>{i(!1),r()},disabled:t==="loading",children:[c.jsx(Vp,{className:"h-4 w-4"}),"Sign out"]})})]}):null]})]}),c.jsxs("div",{className:"flex flex-col gap-2 md:hidden",children:[c.jsx(Zi,{context:"Global navigation feedback",triggerLabel:"Share feedback",size:"sm",ctaHint:"Tell us what feels clunky or missing anywhere in the app."}),e?c.jsxs("div",{className:"relative",children:[c.jsx(Q,{variant:"outline",size:"sm",className:"flex items-center gap-2 w-full justify-center",onClick:()=>i(a=>!a),children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-primary text-white text-xs",children:o}),c.jsx("span",{className:"text-sm",children:n||e.email})]})}),s&&c.jsx("div",{className:"absolute right-0 mt-2 w-full rounded-md border bg-card shadow-lg z-10",children:c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted transition",onClick:()=>{i(!1),r()},disabled:t==="loading",children:[c.jsx(Vp,{className:"h-4 w-4"}),"Sign out"]})})]}):null]})]}),c.jsx("main",{children:c.jsxs(gS,{children:[c.jsx(Yn,{path:"/",element:c.jsx(hP,{})}),c.jsx(Yn,{path:"/language/:slug",element:c.jsx(SR,{})})," ",c.jsx(Yn,{path:"/language/:slug/topic/:topicId/subtopic/:subtopicId",element:c.jsx(NR,{})}),c.jsx(Yn,{path:"/cache",element:c.jsx(ER,{})}),c.jsx(Yn,{path:"/admin/export",element:c.jsx(RR,{})})]})})]})})}const TR=new QS;_u.createRoot(document.getElementById("root")).render(c.jsx(ce.StrictMode,{children:c.jsx(JS,{client:TR,children:c.jsx(uP,{children:c.jsx(OR,{})})})}));
