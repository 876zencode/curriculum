var Nd=e=>{throw TypeError(e)};var Ya=(e,t,r)=>t.has(e)||Nd("Cannot "+r);var _=(e,t,r)=>(Ya(e,t,"read from private field"),r?r.call(e):t.get(e)),L=(e,t,r)=>t.has(e)?Nd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),T=(e,t,r,n)=>(Ya(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),z=(e,t,r)=>(Ya(e,t,"access private method"),r);var Qi=(e,t,r,n)=>({set _(s){T(e,t,s,r)},get _(){return _(e,t,n)}});function np(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Bv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var sp={exports:{}},Ea={},ip={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),Wv=Symbol.for("react.portal"),Hv=Symbol.for("react.fragment"),Kv=Symbol.for("react.strict_mode"),qv=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Qv=Symbol.for("react.context"),Jv=Symbol.for("react.forward_ref"),Yv=Symbol.for("react.suspense"),Xv=Symbol.for("react.memo"),Zv=Symbol.for("react.lazy"),Id=Symbol.iterator;function e0(e){return e===null||typeof e!="object"?null:(e=Id&&e[Id]||e["@@iterator"],typeof e=="function"?e:null)}var op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ap=Object.assign,lp={};function Ss(e,t,r){this.props=e,this.context=t,this.refs=lp,this.updater=r||op}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function up(){}up.prototype=Ss.prototype;function uc(e,t,r){this.props=e,this.context=t,this.refs=lp,this.updater=r||op}var cc=uc.prototype=new up;cc.constructor=uc;ap(cc,Ss.prototype);cc.isPureReactComponent=!0;var Ld=Array.isArray,cp=Object.prototype.hasOwnProperty,dc={current:null},dp={key:!0,ref:!0,__self:!0,__source:!0};function hp(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)cp.call(t,n)&&!dp.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ui,type:e,key:i,ref:o,props:s,_owner:dc.current}}function t0(e,t){return{$$typeof:Ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ui}function r0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $d=/\/+/g;function Xa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?r0(""+e.key):t.toString(36)}function Oo(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ui:case Wv:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Xa(o,0):n,Ld(s)?(r="",e!=null&&(r=e.replace($d,"$&/")+"/"),Oo(s,t,r,"",function(u){return u})):s!=null&&(hc(s)&&(s=t0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($d,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Ld(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Xa(i,a);o+=Oo(i,t,r,l,s)}else if(l=e0(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Xa(i,a++),o+=Oo(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ji(e,t,r){if(e==null)return e;var n=[],s=0;return Oo(e,n,"","",function(i){return t.call(r,i,s++)}),n}function n0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Le={current:null},Ro={transition:null},s0={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:Ro,ReactCurrentOwner:dc};function fp(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Ji,forEach:function(e,t,r){Ji(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ji(e,function(){t++}),t},toArray:function(e){return Ji(e,function(t){return t})||[]},only:function(e){if(!hc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Ss;V.Fragment=Hv;V.Profiler=qv;V.PureComponent=uc;V.StrictMode=Kv;V.Suspense=Yv;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;V.act=fp;V.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ap({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=dc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)cp.call(t,l)&&!dp.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ui,type:e.type,key:s,ref:i,props:n,_owner:o}};V.createContext=function(e){return e={$$typeof:Qv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gv,_context:e},e.Consumer=e};V.createElement=hp;V.createFactory=function(e){var t=hp.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Jv,render:e}};V.isValidElement=hc;V.lazy=function(e){return{$$typeof:Zv,_payload:{_status:-1,_result:e},_init:n0}};V.memo=function(e,t){return{$$typeof:Xv,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=Ro.transition;Ro.transition={};try{e()}finally{Ro.transition=t}};V.unstable_act=fp;V.useCallback=function(e,t){return Le.current.useCallback(e,t)};V.useContext=function(e){return Le.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Le.current.useDeferredValue(e)};V.useEffect=function(e,t){return Le.current.useEffect(e,t)};V.useId=function(){return Le.current.useId()};V.useImperativeHandle=function(e,t,r){return Le.current.useImperativeHandle(e,t,r)};V.useInsertionEffect=function(e,t){return Le.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Le.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Le.current.useMemo(e,t)};V.useReducer=function(e,t,r){return Le.current.useReducer(e,t,r)};V.useRef=function(e){return Le.current.useRef(e)};V.useState=function(e){return Le.current.useState(e)};V.useSyncExternalStore=function(e,t,r){return Le.current.useSyncExternalStore(e,t,r)};V.useTransition=function(){return Le.current.useTransition()};V.version="18.3.1";ip.exports=V;var x=ip.exports;const le=Bv(x),ka=np({__proto__:null,default:le},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=x,o0=Symbol.for("react.element"),a0=Symbol.for("react.fragment"),l0=Object.prototype.hasOwnProperty,u0=i0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c0={key:!0,ref:!0,__self:!0,__source:!0};function pp(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)l0.call(t,n)&&!c0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:o0,type:e,key:i,ref:o,props:s,_owner:u0.current}}Ea.Fragment=a0;Ea.jsx=pp;Ea.jsxs=pp;sp.exports=Ea;var S=sp.exports,$l={},gp={exports:{}},Xe={},mp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,D){var M=j.length;j.push(D);e:for(;0<M;){var K=M-1>>>1,ye=j[K];if(0<s(ye,D))j[K]=D,j[M]=ye,M=K;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var D=j[0],M=j.pop();if(M!==D){j[0]=M;e:for(var K=0,ye=j.length,qi=ye>>>1;K<qi;){var Mr=2*(K+1)-1,Ja=j[Mr],Fr=Mr+1,Gi=j[Fr];if(0>s(Ja,M))Fr<ye&&0>s(Gi,Ja)?(j[K]=Gi,j[Fr]=M,K=Fr):(j[K]=Ja,j[Mr]=M,K=Mr);else if(Fr<ye&&0>s(Gi,M))j[K]=Gi,j[Fr]=M,K=Fr;else break e}}return D}function s(j,D){var M=j.sortIndex-D.sortIndex;return M!==0?M:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,w=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(j){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=j)n(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(u)}}function b(j){if(y=!1,m(j),!w)if(r(l)!==null)w=!0,Yt(E);else{var D=r(u);D!==null&&kn(b,D.startTime-j)}}function E(j,D){w=!1,y&&(y=!1,g(R),R=-1),p=!0;var M=h;try{for(m(D),d=r(l);d!==null&&(!(d.expirationTime>D)||j&&!Q());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var ye=K(d.expirationTime<=D);D=e.unstable_now(),typeof ye=="function"?d.callback=ye:d===r(l)&&n(l),m(D)}else n(l);d=r(l)}if(d!==null)var qi=!0;else{var Mr=r(u);Mr!==null&&kn(b,Mr.startTime-D),qi=!1}return qi}finally{d=null,h=M,p=!1}}var k=!1,C=null,R=-1,U=5,P=-1;function Q(){return!(e.unstable_now()-P<U)}function B(){if(C!==null){var j=e.unstable_now();P=j;var D=!0;try{D=C(!0,j)}finally{D?We():(k=!1,C=null)}}else k=!1}var We;if(typeof f=="function")We=function(){f(B)};else if(typeof MessageChannel<"u"){var Dr=new MessageChannel,Ki=Dr.port2;Dr.port1.onmessage=B,We=function(){Ki.postMessage(null)}}else We=function(){v(B,0)};function Yt(j){C=j,k||(k=!0,We())}function kn(j,D){R=v(function(){j(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,Yt(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var M=h;h=D;try{return j()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=h;h=j;try{return D()}finally{h=M}},e.unstable_scheduleCallback=function(j,D,M){var K=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?K+M:K):M=K,j){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=M+ye,j={id:c++,callback:D,priorityLevel:j,startTime:M,expirationTime:ye,sortIndex:-1},M>K?(j.sortIndex=M,t(u,j),r(l)===null&&j===r(u)&&(y?(g(R),R=-1):y=!0,kn(b,M-K))):(j.sortIndex=ye,t(l,j),w||p||(w=!0,Yt(E))),j},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(j){var D=h;return function(){var M=h;h=D;try{return j.apply(this,arguments)}finally{h=M}}}})(yp);mp.exports=yp;var d0=mp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0=x,Ye=d0;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vp=new Set,oi={};function Sn(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(oi[e]=t,e=0;e<t.length;e++)vp.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=Object.prototype.hasOwnProperty,f0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ud={},Dd={};function p0(e){return Ul.call(Dd,e)?!0:Ul.call(Ud,e)?!1:f0.test(e)?Dd[e]=!0:(Ud[e]=!0,!1)}function g0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function m0(e,t,r,n){if(t===null||typeof t>"u"||g0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var fc=/[\-:]([a-z])/g;function pc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fc,pc);Ee[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fc,pc);Ee[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fc,pc);Ee[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function gc(e,t,r,n){var s=Ee.hasOwnProperty(t)?Ee[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(m0(t,r,s,n)&&(r=null),n||s===null?p0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jt=h0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yi=Symbol.for("react.element"),In=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),Dl=Symbol.for("react.profiler"),wp=Symbol.for("react.provider"),_p=Symbol.for("react.context"),yc=Symbol.for("react.forward_ref"),Ml=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),vc=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),bp=Symbol.for("react.offscreen"),Md=Symbol.iterator;function js(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Za;function zs(e){if(Za===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Za=t&&t[1]||""}return`
`+Za+e}var el=!1;function tl(e,t){if(!e||el)return"";el=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{el=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zs(e):""}function y0(e){switch(e.tag){case 5:return zs(e.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return e=tl(e.type,!1),e;case 11:return e=tl(e.type.render,!1),e;case 1:return e=tl(e.type,!0),e;default:return""}}function zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case In:return"Portal";case Dl:return"Profiler";case mc:return"StrictMode";case Ml:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _p:return(e.displayName||"Context")+".Consumer";case wp:return(e._context.displayName||"Context")+".Provider";case yc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vc:return t=e.displayName||null,t!==null?t:zl(e.type)||"Memo";case nr:t=e._payload,e=e._init;try{return zl(e(t))}catch{}}return null}function v0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zl(t);case 8:return t===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w0(e){var t=Sp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xi(e){e._valueTracker||(e._valueTracker=w0(e))}function xp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Sp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bl(e,t){var r=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Tr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ep(e,t){t=t.checked,t!=null&&gc(e,"checked",t,!1)}function Vl(e,t){Ep(e,t);var r=Tr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Wl(e,t.type,Tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Wl(e,t,r){(t!=="number"||Bo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bs=Array.isArray;function qn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Tr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(Bs(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Tr(r)}}function kp(e,t){var r=Tr(t.value),n=Tr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Vd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zi,Op=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zi=Zi||document.createElement("div"),Zi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ai(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_0=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(e){_0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qs[t]=qs[e]})});function Rp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qs.hasOwnProperty(e)&&qs[e]?(""+t).trim():t+"px"}function Pp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Rp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var b0=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ql(e,t){if(t){if(b0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ql=null;function wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,Gn=null,Qn=null;function Wd(e){if(e=Fi(e)){if(typeof Jl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Ta(t),Jl(e.stateNode,e.type,t))}}function Tp(e){Gn?Qn?Qn.push(e):Qn=[e]:Gn=e}function jp(){if(Gn){var e=Gn,t=Qn;if(Qn=Gn=null,Wd(e),t)for(e=0;e<t.length;e++)Wd(t[e])}}function Ap(e,t){return e(t)}function Np(){}var rl=!1;function Ip(e,t,r){if(rl)return e(t,r);rl=!0;try{return Ap(e,t,r)}finally{rl=!1,(Gn!==null||Qn!==null)&&(Np(),jp())}}function li(e,t){var r=e.stateNode;if(r===null)return null;var n=Ta(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var Yl=!1;if(Kt)try{var As={};Object.defineProperty(As,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Yl=!1}function S0(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Gs=!1,Vo=null,Wo=!1,Xl=null,x0={onError:function(e){Gs=!0,Vo=e}};function E0(e,t,r,n,s,i,o,a,l){Gs=!1,Vo=null,S0.apply(x0,arguments)}function k0(e,t,r,n,s,i,o,a,l){if(E0.apply(this,arguments),Gs){if(Gs){var u=Vo;Gs=!1,Vo=null}else throw Error(O(198));Wo||(Wo=!0,Xl=u)}}function xn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Lp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hd(e){if(xn(e)!==e)throw Error(O(188))}function C0(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Hd(s),e;if(i===n)return Hd(s),t;i=i.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function $p(e){return e=C0(e),e!==null?Up(e):null}function Up(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Up(e);if(t!==null)return t;e=e.sibling}return null}var Dp=Ye.unstable_scheduleCallback,Kd=Ye.unstable_cancelCallback,O0=Ye.unstable_shouldYield,R0=Ye.unstable_requestPaint,ue=Ye.unstable_now,P0=Ye.unstable_getCurrentPriorityLevel,_c=Ye.unstable_ImmediatePriority,Mp=Ye.unstable_UserBlockingPriority,Ho=Ye.unstable_NormalPriority,T0=Ye.unstable_LowPriority,Fp=Ye.unstable_IdlePriority,Ca=null,Pt=null;function j0(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Ca,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:I0,A0=Math.log,N0=Math.LN2;function I0(e){return e>>>=0,e===0?32:31-(A0(e)/N0|0)|0}var eo=64,to=4194304;function Vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ko(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Vs(a):(i&=o,i!==0&&(n=Vs(i)))}else o=r&~s,o!==0?n=Vs(o):i!==0&&(n=Vs(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-vt(t),s=1<<r,n|=e[r],t&=~s;return n}function L0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-vt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=L0(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zp(){var e=eo;return eo<<=1,!(eo&4194240)&&(eo=64),e}function nl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Di(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=r}function U0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-vt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function bc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-vt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var G=0;function Bp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vp,Sc,Wp,Hp,Kp,eu=!1,ro=[],_r=null,br=null,Sr=null,ui=new Map,ci=new Map,ir=[],D0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(e,t){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(t.pointerId)}}function Ns(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fi(t),t!==null&&Sc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function M0(e,t,r,n,s){switch(t){case"focusin":return _r=Ns(_r,e,t,r,n,s),!0;case"dragenter":return br=Ns(br,e,t,r,n,s),!0;case"mouseover":return Sr=Ns(Sr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ui.set(i,Ns(ui.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ci.set(i,Ns(ci.get(i)||null,e,t,r,n,s)),!0}return!1}function qp(e){var t=Qr(e.target);if(t!==null){var r=xn(t);if(r!==null){if(t=r.tag,t===13){if(t=Lp(r),t!==null){e.blockedOn=t,Kp(e.priority,function(){Wp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Po(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ql=n,r.target.dispatchEvent(n),Ql=null}else return t=Fi(r),t!==null&&Sc(t),e.blockedOn=r,!1;t.shift()}return!0}function Gd(e,t,r){Po(e)&&r.delete(t)}function F0(){eu=!1,_r!==null&&Po(_r)&&(_r=null),br!==null&&Po(br)&&(br=null),Sr!==null&&Po(Sr)&&(Sr=null),ui.forEach(Gd),ci.forEach(Gd)}function Is(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,F0)))}function di(e){function t(s){return Is(s,e)}if(0<ro.length){Is(ro[0],e);for(var r=1;r<ro.length;r++){var n=ro[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_r!==null&&Is(_r,e),br!==null&&Is(br,e),Sr!==null&&Is(Sr,e),ui.forEach(t),ci.forEach(t),r=0;r<ir.length;r++)n=ir[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ir.length&&(r=ir[0],r.blockedOn===null);)qp(r),r.blockedOn===null&&ir.shift()}var Jn=Jt.ReactCurrentBatchConfig,qo=!0;function z0(e,t,r,n){var s=G,i=Jn.transition;Jn.transition=null;try{G=1,xc(e,t,r,n)}finally{G=s,Jn.transition=i}}function B0(e,t,r,n){var s=G,i=Jn.transition;Jn.transition=null;try{G=4,xc(e,t,r,n)}finally{G=s,Jn.transition=i}}function xc(e,t,r,n){if(qo){var s=tu(e,t,r,n);if(s===null)fl(e,t,n,Go,r),qd(e,n);else if(M0(s,e,t,r,n))n.stopPropagation();else if(qd(e,n),t&4&&-1<D0.indexOf(e)){for(;s!==null;){var i=Fi(s);if(i!==null&&Vp(i),i=tu(e,t,r,n),i===null&&fl(e,t,n,Go,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else fl(e,t,n,null,r)}}var Go=null;function tu(e,t,r,n){if(Go=null,e=wc(n),e=Qr(e),e!==null)if(t=xn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Lp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Go=e,null}function Gp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P0()){case _c:return 1;case Mp:return 4;case Ho:case T0:return 16;case Fp:return 536870912;default:return 16}default:return 16}}var yr=null,Ec=null,To=null;function Qp(){if(To)return To;var e,t=Ec,r=t.length,n,s="value"in yr?yr.value:yr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return To=s.slice(e,1<n?1-n:void 0)}function jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function no(){return!0}function Qd(){return!1}function Ze(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?no:Qd,this.isPropagationStopped=Qd,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),t}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=Ze(xs),Mi=ie({},xs,{view:0,detail:0}),V0=Ze(Mi),sl,il,Ls,Oa=ie({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(sl=e.screenX-Ls.screenX,il=e.screenY-Ls.screenY):il=sl=0,Ls=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:il}}),Jd=Ze(Oa),W0=ie({},Oa,{dataTransfer:0}),H0=Ze(W0),K0=ie({},Mi,{relatedTarget:0}),ol=Ze(K0),q0=ie({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),G0=Ze(q0),Q0=ie({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J0=Ze(Q0),Y0=ie({},xs,{data:0}),Yd=Ze(Y0),X0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ew[e])?!!t[e]:!1}function Cc(){return tw}var rw=ie({},Mi,{key:function(e){if(e.key){var t=X0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cc,charCode:function(e){return e.type==="keypress"?jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nw=Ze(rw),sw=ie({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=Ze(sw),iw=ie({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cc}),ow=Ze(iw),aw=ie({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),lw=Ze(aw),uw=ie({},Oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cw=Ze(uw),dw=[9,13,27,32],Oc=Kt&&"CompositionEvent"in window,Qs=null;Kt&&"documentMode"in document&&(Qs=document.documentMode);var hw=Kt&&"TextEvent"in window&&!Qs,Jp=Kt&&(!Oc||Qs&&8<Qs&&11>=Qs),Zd=" ",eh=!1;function Yp(e,t){switch(e){case"keyup":return dw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function fw(e,t){switch(e){case"compositionend":return Xp(t);case"keypress":return t.which!==32?null:(eh=!0,Zd);case"textInput":return e=t.data,e===Zd&&eh?null:e;default:return null}}function pw(e,t){if($n)return e==="compositionend"||!Oc&&Yp(e,t)?(e=Qp(),To=Ec=yr=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jp&&t.locale!=="ko"?null:t.data;default:return null}}var gw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gw[e.type]:t==="textarea"}function Zp(e,t,r,n){Tp(n),t=Qo(t,"onChange"),0<t.length&&(r=new kc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Js=null,hi=null;function mw(e){cg(e,0)}function Ra(e){var t=Mn(e);if(xp(t))return e}function yw(e,t){if(e==="change")return t}var eg=!1;if(Kt){var al;if(Kt){var ll="oninput"in document;if(!ll){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),ll=typeof rh.oninput=="function"}al=ll}else al=!1;eg=al&&(!document.documentMode||9<document.documentMode)}function nh(){Js&&(Js.detachEvent("onpropertychange",tg),hi=Js=null)}function tg(e){if(e.propertyName==="value"&&Ra(hi)){var t=[];Zp(t,hi,e,wc(e)),Ip(mw,t)}}function vw(e,t,r){e==="focusin"?(nh(),Js=t,hi=r,Js.attachEvent("onpropertychange",tg)):e==="focusout"&&nh()}function ww(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ra(hi)}function _w(e,t){if(e==="click")return Ra(t)}function bw(e,t){if(e==="input"||e==="change")return Ra(t)}function Sw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Sw;function fi(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ul.call(t,s)||!_t(e[s],t[s]))return!1}return!0}function sh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,t){var r=sh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sh(r)}}function rg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ng(){for(var e=window,t=Bo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bo(e.document)}return t}function Rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xw(e){var t=ng(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rg(r.ownerDocument.documentElement,r)){if(n!==null&&Rc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ih(r,i);var o=ih(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ew=Kt&&"documentMode"in document&&11>=document.documentMode,Un=null,ru=null,Ys=null,nu=!1;function oh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||Un==null||Un!==Bo(n)||(n=Un,"selectionStart"in n&&Rc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ys&&fi(Ys,n)||(Ys=n,n=Qo(ru,"onSelect"),0<n.length&&(t=new kc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Un)))}function so(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Dn={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionend:so("Transition","TransitionEnd")},ul={},sg={};Kt&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Pa(e){if(ul[e])return ul[e];if(!Dn[e])return e;var t=Dn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sg)return ul[e]=t[r];return e}var ig=Pa("animationend"),og=Pa("animationiteration"),ag=Pa("animationstart"),lg=Pa("transitionend"),ug=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){ug.set(e,t),Sn(t,[e])}for(var cl=0;cl<ah.length;cl++){var dl=ah[cl],kw=dl.toLowerCase(),Cw=dl[0].toUpperCase()+dl.slice(1);Ar(kw,"on"+Cw)}Ar(ig,"onAnimationEnd");Ar(og,"onAnimationIteration");Ar(ag,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(lg,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function lh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,k0(n,t,void 0,e),e.currentTarget=null}function cg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;lh(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;lh(s,a,u),i=l}}}if(Wo)throw e=Xl,Wo=!1,Xl=null,e}function Z(e,t){var r=t[lu];r===void 0&&(r=t[lu]=new Set);var n=e+"__bubble";r.has(n)||(dg(t,e,2,!1),r.add(n))}function hl(e,t,r){var n=0;t&&(n|=4),dg(r,e,n,t)}var io="_reactListening"+Math.random().toString(36).slice(2);function pi(e){if(!e[io]){e[io]=!0,vp.forEach(function(r){r!=="selectionchange"&&(Ow.has(r)||hl(r,!1,e),hl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[io]||(t[io]=!0,hl("selectionchange",!1,t))}}function dg(e,t,r,n){switch(Gp(t)){case 1:var s=z0;break;case 4:s=B0;break;default:s=xc}r=s.bind(null,t,r,e),s=void 0,!Yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function fl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Qr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Ip(function(){var u=i,c=wc(r),d=[];e:{var h=ug.get(e);if(h!==void 0){var p=kc,w=e;switch(e){case"keypress":if(jo(r)===0)break e;case"keydown":case"keyup":p=nw;break;case"focusin":w="focus",p=ol;break;case"focusout":w="blur",p=ol;break;case"beforeblur":case"afterblur":p=ol;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ow;break;case ig:case og:case ag:p=G0;break;case lg:p=lw;break;case"scroll":p=V0;break;case"wheel":p=cw;break;case"copy":case"cut":case"paste":p=J0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xd}var y=(t&4)!==0,v=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var f=u,m;f!==null;){m=f;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,g!==null&&(b=li(f,g),b!=null&&y.push(gi(f,b,m)))),v)break;f=f.return}0<y.length&&(h=new p(h,w,null,r,c),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Ql&&(w=r.relatedTarget||r.fromElement)&&(Qr(w)||w[qt]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=u,w=w?Qr(w):null,w!==null&&(v=xn(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(y=Jd,b="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Xd,b="onPointerLeave",g="onPointerEnter",f="pointer"),v=p==null?h:Mn(p),m=w==null?h:Mn(w),h=new y(b,f+"leave",p,r,c),h.target=v,h.relatedTarget=m,b=null,Qr(c)===u&&(y=new y(g,f+"enter",w,r,c),y.target=m,y.relatedTarget=v,b=y),v=b,p&&w)t:{for(y=p,g=w,f=0,m=y;m;m=Cn(m))f++;for(m=0,b=g;b;b=Cn(b))m++;for(;0<f-m;)y=Cn(y),f--;for(;0<m-f;)g=Cn(g),m--;for(;f--;){if(y===g||g!==null&&y===g.alternate)break t;y=Cn(y),g=Cn(g)}y=null}else y=null;p!==null&&uh(d,h,p,y,!1),w!==null&&v!==null&&uh(d,v,w,y,!0)}}e:{if(h=u?Mn(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=yw;else if(th(h))if(eg)E=bw;else{E=ww;var k=vw}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=_w);if(E&&(E=E(e,u))){Zp(d,E,r,c);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Wl(h,"number",h.value)}switch(k=u?Mn(u):window,e){case"focusin":(th(k)||k.contentEditable==="true")&&(Un=k,ru=u,Ys=null);break;case"focusout":Ys=ru=Un=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,oh(d,r,c);break;case"selectionchange":if(Ew)break;case"keydown":case"keyup":oh(d,r,c)}var C;if(Oc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else $n?Yp(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Jp&&r.locale!=="ko"&&($n||R!=="onCompositionStart"?R==="onCompositionEnd"&&$n&&(C=Qp()):(yr=c,Ec="value"in yr?yr.value:yr.textContent,$n=!0)),k=Qo(u,R),0<k.length&&(R=new Yd(R,e,null,r,c),d.push({event:R,listeners:k}),C?R.data=C:(C=Xp(r),C!==null&&(R.data=C)))),(C=hw?fw(e,r):pw(e,r))&&(u=Qo(u,"onBeforeInput"),0<u.length&&(c=new Yd("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=C))}cg(d,t)})}function gi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=li(e,r),i!=null&&n.unshift(gi(e,i,s)),i=li(e,t),i!=null&&n.push(gi(e,i,s))),e=e.return}return n}function Cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uh(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=li(r,i),l!=null&&o.unshift(gi(r,l,a))):s||(l=li(r,i),l!=null&&o.push(gi(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Rw=/\r\n?/g,Pw=/\u0000|\uFFFD/g;function ch(e){return(typeof e=="string"?e:""+e).replace(Rw,`
`).replace(Pw,"")}function oo(e,t,r){if(t=ch(t),ch(e)!==t&&r)throw Error(O(425))}function Jo(){}var su=null,iu=null;function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,Tw=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,jw=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(e){return dh.resolve(null).then(e).catch(Aw)}:au;function Aw(e){setTimeout(function(){throw e})}function pl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),di(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);di(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Es=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Es,mi="__reactProps$"+Es,qt="__reactContainer$"+Es,lu="__reactEvents$"+Es,Nw="__reactListeners$"+Es,Iw="__reactHandles$"+Es;function Qr(e){var t=e[Rt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qt]||r[Rt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hh(e);e!==null;){if(r=e[Rt])return r;e=hh(e)}return t}e=r,r=e.parentNode}return null}function Fi(e){return e=e[Rt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Ta(e){return e[mi]||null}var uu=[],Fn=-1;function Nr(e){return{current:e}}function ee(e){0>Fn||(e.current=uu[Fn],uu[Fn]=null,Fn--)}function Y(e,t){Fn++,uu[Fn]=e.current,e.current=t}var jr={},Re=Nr(jr),ze=Nr(!1),gn=jr;function gs(e,t){var r=e.type.contextTypes;if(!r)return jr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Be(e){return e=e.childContextTypes,e!=null}function Yo(){ee(ze),ee(Re)}function fh(e,t,r){if(Re.current!==jr)throw Error(O(168));Y(Re,t),Y(ze,r)}function hg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,v0(e)||"Unknown",s));return ie({},r,n)}function Xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,gn=Re.current,Y(Re,e),Y(ze,ze.current),!0}function ph(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=hg(e,t,gn),n.__reactInternalMemoizedMergedChildContext=e,ee(ze),ee(Re),Y(Re,e)):ee(ze),Y(ze,r)}var Ut=null,ja=!1,gl=!1;function fg(e){Ut===null?Ut=[e]:Ut.push(e)}function Lw(e){ja=!0,fg(e)}function Ir(){if(!gl&&Ut!==null){gl=!0;var e=0,t=G;try{var r=Ut;for(G=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ut=null,ja=!1}catch(s){throw Ut!==null&&(Ut=Ut.slice(e+1)),Dp(_c,Ir),s}finally{G=t,gl=!1}}return null}var zn=[],Bn=0,Zo=null,ea=0,nt=[],st=0,mn=null,Bt=1,Vt="";function Vr(e,t){zn[Bn++]=ea,zn[Bn++]=Zo,Zo=e,ea=t}function pg(e,t,r){nt[st++]=Bt,nt[st++]=Vt,nt[st++]=mn,mn=e;var n=Bt;e=Vt;var s=32-vt(n)-1;n&=~(1<<s),r+=1;var i=32-vt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Bt=1<<32-vt(t)+s|r<<s|n,Vt=i+e}else Bt=1<<i|r<<s|n,Vt=e}function Pc(e){e.return!==null&&(Vr(e,1),pg(e,1,0))}function Tc(e){for(;e===Zo;)Zo=zn[--Bn],zn[Bn]=null,ea=zn[--Bn],zn[Bn]=null;for(;e===mn;)mn=nt[--st],nt[st]=null,Vt=nt[--st],nt[st]=null,Bt=nt[--st],nt[st]=null}var Je=null,Qe=null,te=!1,yt=null;function gg(e,t){var r=it(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Qe=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mn!==null?{id:Bt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=it(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Je=e,Qe=null,!0):!1;default:return!1}}function cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function du(e){if(te){var t=Qe;if(t){var r=t;if(!gh(e,t)){if(cu(e))throw Error(O(418));t=xr(r.nextSibling);var n=Je;t&&gh(e,t)?gg(n,r):(e.flags=e.flags&-4097|2,te=!1,Je=e)}}else{if(cu(e))throw Error(O(418));e.flags=e.flags&-4097|2,te=!1,Je=e}}}function mh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function ao(e){if(e!==Je)return!1;if(!te)return mh(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ou(e.type,e.memoizedProps)),t&&(t=Qe)){if(cu(e))throw mg(),Error(O(418));for(;t;)gg(e,t),t=xr(t.nextSibling)}if(mh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qe=xr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Je?xr(e.stateNode.nextSibling):null;return!0}function mg(){for(var e=Qe;e;)e=xr(e.nextSibling)}function ms(){Qe=Je=null,te=!1}function jc(e){yt===null?yt=[e]:yt.push(e)}var $w=Jt.ReactCurrentBatchConfig;function $s(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function lo(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yh(e){var t=e._init;return t(e._payload)}function yg(e){function t(g,f){if(e){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Or(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,f,m,b){return f===null||f.tag!==6?(f=Sl(m,g.mode,b),f.return=g,f):(f=s(f,m),f.return=g,f)}function l(g,f,m,b){var E=m.type;return E===Ln?c(g,f,m.props.children,b,m.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===nr&&yh(E)===f.type)?(b=s(f,m.props),b.ref=$s(g,f,m),b.return=g,b):(b=Do(m.type,m.key,m.props,null,g.mode,b),b.ref=$s(g,f,m),b.return=g,b)}function u(g,f,m,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=xl(m,g.mode,b),f.return=g,f):(f=s(f,m.children||[]),f.return=g,f)}function c(g,f,m,b,E){return f===null||f.tag!==7?(f=dn(m,g.mode,b,E),f.return=g,f):(f=s(f,m),f.return=g,f)}function d(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Sl(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Yi:return m=Do(f.type,f.key,f.props,null,g.mode,m),m.ref=$s(g,null,f),m.return=g,m;case In:return f=xl(f,g.mode,m),f.return=g,f;case nr:var b=f._init;return d(g,b(f._payload),m)}if(Bs(f)||js(f))return f=dn(f,g.mode,m,null),f.return=g,f;lo(g,f)}return null}function h(g,f,m,b){var E=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:a(g,f,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yi:return m.key===E?l(g,f,m,b):null;case In:return m.key===E?u(g,f,m,b):null;case nr:return E=m._init,h(g,f,E(m._payload),b)}if(Bs(m)||js(m))return E!==null?null:c(g,f,m,b,null);lo(g,m)}return null}function p(g,f,m,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(m)||null,a(f,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yi:return g=g.get(b.key===null?m:b.key)||null,l(f,g,b,E);case In:return g=g.get(b.key===null?m:b.key)||null,u(f,g,b,E);case nr:var k=b._init;return p(g,f,m,k(b._payload),E)}if(Bs(b)||js(b))return g=g.get(m)||null,c(f,g,b,E,null);lo(f,b)}return null}function w(g,f,m,b){for(var E=null,k=null,C=f,R=f=0,U=null;C!==null&&R<m.length;R++){C.index>R?(U=C,C=null):U=C.sibling;var P=h(g,C,m[R],b);if(P===null){C===null&&(C=U);break}e&&C&&P.alternate===null&&t(g,C),f=i(P,f,R),k===null?E=P:k.sibling=P,k=P,C=U}if(R===m.length)return r(g,C),te&&Vr(g,R),E;if(C===null){for(;R<m.length;R++)C=d(g,m[R],b),C!==null&&(f=i(C,f,R),k===null?E=C:k.sibling=C,k=C);return te&&Vr(g,R),E}for(C=n(g,C);R<m.length;R++)U=p(C,g,R,m[R],b),U!==null&&(e&&U.alternate!==null&&C.delete(U.key===null?R:U.key),f=i(U,f,R),k===null?E=U:k.sibling=U,k=U);return e&&C.forEach(function(Q){return t(g,Q)}),te&&Vr(g,R),E}function y(g,f,m,b){var E=js(m);if(typeof E!="function")throw Error(O(150));if(m=E.call(m),m==null)throw Error(O(151));for(var k=E=null,C=f,R=f=0,U=null,P=m.next();C!==null&&!P.done;R++,P=m.next()){C.index>R?(U=C,C=null):U=C.sibling;var Q=h(g,C,P.value,b);if(Q===null){C===null&&(C=U);break}e&&C&&Q.alternate===null&&t(g,C),f=i(Q,f,R),k===null?E=Q:k.sibling=Q,k=Q,C=U}if(P.done)return r(g,C),te&&Vr(g,R),E;if(C===null){for(;!P.done;R++,P=m.next())P=d(g,P.value,b),P!==null&&(f=i(P,f,R),k===null?E=P:k.sibling=P,k=P);return te&&Vr(g,R),E}for(C=n(g,C);!P.done;R++,P=m.next())P=p(C,g,R,P.value,b),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?R:P.key),f=i(P,f,R),k===null?E=P:k.sibling=P,k=P);return e&&C.forEach(function(B){return t(g,B)}),te&&Vr(g,R),E}function v(g,f,m,b){if(typeof m=="object"&&m!==null&&m.type===Ln&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Yi:e:{for(var E=m.key,k=f;k!==null;){if(k.key===E){if(E=m.type,E===Ln){if(k.tag===7){r(g,k.sibling),f=s(k,m.props.children),f.return=g,g=f;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===nr&&yh(E)===k.type){r(g,k.sibling),f=s(k,m.props),f.ref=$s(g,k,m),f.return=g,g=f;break e}r(g,k);break}else t(g,k);k=k.sibling}m.type===Ln?(f=dn(m.props.children,g.mode,b,m.key),f.return=g,g=f):(b=Do(m.type,m.key,m.props,null,g.mode,b),b.ref=$s(g,f,m),b.return=g,g=b)}return o(g);case In:e:{for(k=m.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(g,f.sibling),f=s(f,m.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=xl(m,g.mode,b),f.return=g,g=f}return o(g);case nr:return k=m._init,v(g,f,k(m._payload),b)}if(Bs(m))return w(g,f,m,b);if(js(m))return y(g,f,m,b);lo(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,m),f.return=g,g=f):(r(g,f),f=Sl(m,g.mode,b),f.return=g,g=f),o(g)):r(g,f)}return v}var ys=yg(!0),vg=yg(!1),ta=Nr(null),ra=null,Vn=null,Ac=null;function Nc(){Ac=Vn=ra=null}function Ic(e){var t=ta.current;ee(ta),e._currentValue=t}function hu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Yn(e,t){ra=e,Ac=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(Ac!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(ra===null)throw Error(O(308));Vn=e,ra.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var Jr=null;function Lc(e){Jr===null?Jr=[e]:Jr.push(e)}function wg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Lc(t)):(r.next=s.next,s.next=r),t.interleaved=r,Gt(e,n)}function Gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var sr=!1;function $c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Er(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,H&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Gt(e,r)}return s=n.interleaved,s===null?(t.next=t,Lc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Gt(e,r)}function Ao(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bc(e,r)}}function vh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function na(e,t,r,n){var s=e.updateQueue;sr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(h=t,p=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){d=w.call(p,d,h);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(p,d,h):w,h==null)break e;d=ie({},d,h);break e;case 2:sr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vn|=o,e.lanes=o,e.memoizedState=d}}function wh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var zi={},Tt=Nr(zi),yi=Nr(zi),vi=Nr(zi);function Yr(e){if(e===zi)throw Error(O(174));return e}function Uc(e,t){switch(Y(vi,t),Y(yi,e),Y(Tt,zi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kl(t,e)}ee(Tt),Y(Tt,t)}function vs(){ee(Tt),ee(yi),ee(vi)}function bg(e){Yr(vi.current);var t=Yr(Tt.current),r=Kl(t,e.type);t!==r&&(Y(yi,e),Y(Tt,r))}function Dc(e){yi.current===e&&(ee(Tt),ee(yi))}var ne=Nr(0);function sa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=[];function Mc(){for(var e=0;e<ml.length;e++)ml[e]._workInProgressVersionPrimary=null;ml.length=0}var No=Jt.ReactCurrentDispatcher,yl=Jt.ReactCurrentBatchConfig,yn=0,se=null,pe=null,we=null,ia=!1,Xs=!1,wi=0,Uw=0;function ke(){throw Error(O(321))}function Fc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_t(e[r],t[r]))return!1;return!0}function zc(e,t,r,n,s,i){if(yn=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,No.current=e===null||e.memoizedState===null?zw:Bw,e=r(n,s),Xs){i=0;do{if(Xs=!1,wi=0,25<=i)throw Error(O(301));i+=1,we=pe=null,t.updateQueue=null,No.current=Vw,e=r(n,s)}while(Xs)}if(No.current=oa,t=pe!==null&&pe.next!==null,yn=0,we=pe=se=null,ia=!1,t)throw Error(O(300));return e}function Bc(){var e=wi!==0;return wi=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?se.memoizedState=we=e:we=we.next=e,we}function lt(){if(pe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=we===null?se.memoizedState:we.next;if(t!==null)we=t,pe=e;else{if(e===null)throw Error(O(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},we===null?se.memoizedState=we=e:we=we.next=e}return we}function _i(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=lt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((yn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,se.lanes|=c,vn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,_t(n,t.memoizedState)||(Fe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,vn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wl(e){var t=lt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_t(i,t.memoizedState)||(Fe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Sg(){}function xg(e,t){var r=se,n=lt(),s=t(),i=!_t(n.memoizedState,s);if(i&&(n.memoizedState=s,Fe=!0),n=n.queue,Vc(Cg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||we!==null&&we.memoizedState.tag&1){if(r.flags|=2048,bi(9,kg.bind(null,r,n,s,t),void 0,null),_e===null)throw Error(O(349));yn&30||Eg(r,t,s)}return s}function Eg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function kg(e,t,r,n){t.value=r,t.getSnapshot=n,Og(t)&&Rg(e)}function Cg(e,t,r){return r(function(){Og(t)&&Rg(e)})}function Og(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_t(e,r)}catch{return!0}}function Rg(e){var t=Gt(e,1);t!==null&&wt(t,e,1,-1)}function _h(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:e},t.queue=e,e=e.dispatch=Fw.bind(null,se,e),[t.memoizedState,e]}function bi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Pg(){return lt().memoizedState}function Io(e,t,r,n){var s=Et();se.flags|=e,s.memoizedState=bi(1|t,r,void 0,n===void 0?null:n)}function Aa(e,t,r,n){var s=lt();n=n===void 0?null:n;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,n!==null&&Fc(n,o.deps)){s.memoizedState=bi(t,r,i,n);return}}se.flags|=e,s.memoizedState=bi(1|t,r,i,n)}function bh(e,t){return Io(8390656,8,e,t)}function Vc(e,t){return Aa(2048,8,e,t)}function Tg(e,t){return Aa(4,2,e,t)}function jg(e,t){return Aa(4,4,e,t)}function Ag(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ng(e,t,r){return r=r!=null?r.concat([e]):null,Aa(4,4,Ag.bind(null,t,e),r)}function Wc(){}function Ig(e,t){var r=lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Lg(e,t){var r=lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $g(e,t,r){return yn&21?(_t(r,t)||(r=zp(),se.lanes|=r,vn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=r)}function Dw(e,t){var r=G;G=r!==0&&4>r?r:4,e(!0);var n=yl.transition;yl.transition={};try{e(!1),t()}finally{G=r,yl.transition=n}}function Ug(){return lt().memoizedState}function Mw(e,t,r){var n=Cr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Dg(e))Mg(t,r);else if(r=wg(e,t,r,n),r!==null){var s=Ie();wt(r,e,n,s),Fg(r,t,n)}}function Fw(e,t,r){var n=Cr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dg(e))Mg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,_t(a,o)){var l=t.interleaved;l===null?(s.next=s,Lc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=wg(e,t,s,n),r!==null&&(s=Ie(),wt(r,e,n,s),Fg(r,t,n))}}function Dg(e){var t=e.alternate;return e===se||t!==null&&t===se}function Mg(e,t){Xs=ia=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bc(e,r)}}var oa={readContext:at,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},zw={readContext:at,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:bh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Io(4194308,4,Ag.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var r=Et();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Et();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Mw.bind(null,se,e),[n.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:_h,useDebugValue:Wc,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=_h(!1),t=e[0];return e=Dw.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=se,s=Et();if(te){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),_e===null)throw Error(O(349));yn&30||Eg(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,bh(Cg.bind(null,n,i,e),[e]),n.flags|=2048,bi(9,kg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Et(),t=_e.identifierPrefix;if(te){var r=Vt,n=Bt;r=(n&~(1<<32-vt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Uw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bw={readContext:at,useCallback:Ig,useContext:at,useEffect:Vc,useImperativeHandle:Ng,useInsertionEffect:Tg,useLayoutEffect:jg,useMemo:Lg,useReducer:vl,useRef:Pg,useState:function(){return vl(_i)},useDebugValue:Wc,useDeferredValue:function(e){var t=lt();return $g(t,pe.memoizedState,e)},useTransition:function(){var e=vl(_i)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Sg,useSyncExternalStore:xg,useId:Ug,unstable_isNewReconciler:!1},Vw={readContext:at,useCallback:Ig,useContext:at,useEffect:Vc,useImperativeHandle:Ng,useInsertionEffect:Tg,useLayoutEffect:jg,useMemo:Lg,useReducer:wl,useRef:Pg,useState:function(){return wl(_i)},useDebugValue:Wc,useDeferredValue:function(e){var t=lt();return pe===null?t.memoizedState=e:$g(t,pe.memoizedState,e)},useTransition:function(){var e=wl(_i)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Sg,useSyncExternalStore:xg,useId:Ug,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function fu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Na={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ie(),s=Cr(e),i=Wt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Er(e,i,s),t!==null&&(wt(t,e,s,n),Ao(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ie(),s=Cr(e),i=Wt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Er(e,i,s),t!==null&&(wt(t,e,s,n),Ao(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ie(),n=Cr(e),s=Wt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Er(e,s,n),t!==null&&(wt(t,e,n,r),Ao(t,e,n))}};function Sh(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!fi(r,n)||!fi(s,i):!0}function zg(e,t,r){var n=!1,s=jr,i=t.contextType;return typeof i=="object"&&i!==null?i=at(i):(s=Be(t)?gn:Re.current,n=t.contextTypes,i=(n=n!=null)?gs(e,s):jr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Na,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function xh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Na.enqueueReplaceState(t,t.state,null)}function pu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},$c(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=at(i):(i=Be(t)?gn:Re.current,s.context=gs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Na.enqueueReplaceState(s,s.state,null),na(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ws(e,t){try{var r="",n=t;do r+=y0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function _l(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ww=typeof WeakMap=="function"?WeakMap:Map;function Bg(e,t,r){r=Wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){la||(la=!0,ku=n),gu(e,t)},r}function Vg(e,t,r){r=Wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){gu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){gu(e,t),typeof n!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Eh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ww;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=s_.bind(null,e,t,r),t.then(e,e))}function kh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ch(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wt(-1,1),t.tag=2,Er(r,t,1))),r.lanes|=1),e)}var Hw=Jt.ReactCurrentOwner,Fe=!1;function je(e,t,r,n){t.child=e===null?vg(t,null,r,n):ys(t,e.child,r,n)}function Oh(e,t,r,n,s){r=r.render;var i=t.ref;return Yn(t,s),n=zc(e,t,r,n,i,s),r=Bc(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(te&&r&&Pc(t),t.flags|=1,je(e,t,n,s),t.child)}function Rh(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Xc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Wg(e,t,i,n,s)):(e=Do(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:fi,r(o,n)&&e.ref===t.ref)return Qt(e,t,s)}return t.flags|=1,e=Or(i,n),e.ref=t.ref,e.return=t,t.child=e}function Wg(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(fi(i,n)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Fe=!0);else return t.lanes=e.lanes,Qt(e,t,s)}return mu(e,t,r,n,s)}function Hg(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Hn,Ke),Ke|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Hn,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Y(Hn,Ke),Ke|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Y(Hn,Ke),Ke|=n;return je(e,t,s,r),t.child}function Kg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function mu(e,t,r,n,s){var i=Be(r)?gn:Re.current;return i=gs(t,i),Yn(t,s),r=zc(e,t,r,n,i,s),n=Bc(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(te&&n&&Pc(t),t.flags|=1,je(e,t,r,s),t.child)}function Ph(e,t,r,n,s){if(Be(r)){var i=!0;Xo(t)}else i=!1;if(Yn(t,s),t.stateNode===null)Lo(e,t),zg(t,r,n),pu(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Be(r)?gn:Re.current,u=gs(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&xh(t,o,n,u),sr=!1;var h=t.memoizedState;o.state=h,na(t,n,o,s),l=t.memoizedState,a!==n||h!==l||ze.current||sr?(typeof c=="function"&&(fu(t,r,c,n),l=t.memoizedState),(a=sr||Sh(t,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,_g(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dt(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=at(l):(l=Be(r)?gn:Re.current,l=gs(t,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&xh(t,o,n,l),sr=!1,h=t.memoizedState,o.state=h,na(t,n,o,s);var w=t.memoizedState;a!==d||h!==w||ze.current||sr?(typeof p=="function"&&(fu(t,r,p,n),w=t.memoizedState),(u=sr||Sh(t,r,u,n,h,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return yu(e,t,r,n,i,s)}function yu(e,t,r,n,s,i){Kg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&ph(t,r,!1),Qt(e,t,i);n=t.stateNode,Hw.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ys(t,e.child,null,i),t.child=ys(t,null,a,i)):je(e,t,a,i),t.memoizedState=n.state,s&&ph(t,r,!0),t.child}function qg(e){var t=e.stateNode;t.pendingContext?fh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fh(e,t.context,!1),Uc(e,t.containerInfo)}function Th(e,t,r,n,s){return ms(),jc(s),t.flags|=256,je(e,t,r,n),t.child}var vu={dehydrated:null,treeContext:null,retryLane:0};function wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gg(e,t,r){var n=t.pendingProps,s=ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(ne,s&1),e===null)return du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$a(o,n,0,null),e=dn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wu(r),t.memoizedState=vu,e):Hc(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Kw(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Or(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Or(a,i):(i=dn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?wu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=vu,n}return i=e.child,e=i.sibling,n=Or(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Hc(e,t){return t=$a({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uo(e,t,r,n){return n!==null&&jc(n),ys(t,e.child,null,r),e=Hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kw(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=_l(Error(O(422))),uo(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=$a({mode:"visible",children:n.children},s,0,null),i=dn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ys(t,e.child,null,o),t.child.memoizedState=wu(o),t.memoizedState=vu,i);if(!(t.mode&1))return uo(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(O(419)),n=_l(i,n,void 0),uo(e,t,o,n)}if(a=(o&e.childLanes)!==0,Fe||a){if(n=_e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gt(e,s),wt(n,e,s,-1))}return Yc(),n=_l(Error(O(421))),uo(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=i_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qe=xr(s.nextSibling),Je=t,te=!0,yt=null,e!==null&&(nt[st++]=Bt,nt[st++]=Vt,nt[st++]=mn,Bt=e.id,Vt=e.overflow,mn=t),t=Hc(t,n.children),t.flags|=4096,t)}function jh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hu(e.return,t,r)}function bl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Qg(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(je(e,t,n.children,r),n=ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jh(e,r,t);else if(e.tag===19)jh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Y(ne,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&sa(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),bl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sa(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}bl(t,!0,r,null,i);break;case"together":bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=Or(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Or(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qw(e,t,r){switch(t.tag){case 3:qg(t),ms();break;case 5:bg(t);break;case 1:Be(t.type)&&Xo(t);break;case 4:Uc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Y(ta,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Y(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?Gg(e,t,r):(Y(ne,ne.current&1),e=Qt(e,t,r),e!==null?e.sibling:null);Y(ne,ne.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(ne,ne.current),n)break;return null;case 22:case 23:return t.lanes=0,Hg(e,t,r)}return Qt(e,t,r)}var Jg,_u,Yg,Xg;Jg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_u=function(){};Yg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Yr(Tt.current);var i=null;switch(r){case"input":s=Bl(e,s),n=Bl(e,n),i=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),i=[];break;case"textarea":s=Hl(e,s),n=Hl(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jo)}ql(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Xg=function(e,t,r,n){r!==n&&(t.flags|=4)};function Us(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gw(e,t,r){var n=t.pendingProps;switch(Tc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Be(t.type)&&Yo(),Ce(t),null;case 3:return n=t.stateNode,vs(),ee(ze),ee(Re),Mc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ao(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(Ru(yt),yt=null))),_u(e,t),Ce(t),null;case 5:Dc(t);var s=Yr(vi.current);if(r=t.type,e!==null&&t.stateNode!=null)Yg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return Ce(t),null}if(e=Yr(Tt.current),ao(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Rt]=t,n[mi]=i,e=(t.mode&1)!==0,r){case"dialog":Z("cancel",n),Z("close",n);break;case"iframe":case"object":case"embed":Z("load",n);break;case"video":case"audio":for(s=0;s<Ws.length;s++)Z(Ws[s],n);break;case"source":Z("error",n);break;case"img":case"image":case"link":Z("error",n),Z("load",n);break;case"details":Z("toggle",n);break;case"input":Fd(n,i),Z("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Z("invalid",n);break;case"textarea":Bd(n,i),Z("invalid",n)}ql(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&oo(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&oo(n.textContent,a,e),s=["children",""+a]):oi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",n)}switch(r){case"input":Xi(n),zd(n,i,!0);break;case"textarea":Xi(n),Vd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Jo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Rt]=t,e[mi]=n,Jg(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gl(r,n),r){case"dialog":Z("cancel",e),Z("close",e),s=n;break;case"iframe":case"object":case"embed":Z("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ws.length;s++)Z(Ws[s],e);s=n;break;case"source":Z("error",e),s=n;break;case"img":case"image":case"link":Z("error",e),Z("load",e),s=n;break;case"details":Z("toggle",e),s=n;break;case"input":Fd(e,n),s=Bl(e,n),Z("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),Z("invalid",e);break;case"textarea":Bd(e,n),s=Hl(e,n),Z("invalid",e);break;default:s=n}ql(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Pp(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Op(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ai(e,l):typeof l=="number"&&ai(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Z("scroll",e):l!=null&&gc(e,i,l,o))}switch(r){case"input":Xi(e),zd(e,n,!1);break;case"textarea":Xi(e),Vd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Tr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?qn(e,!!n.multiple,i,!1):n.defaultValue!=null&&qn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Jo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)Xg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=Yr(vi.current),Yr(Tt.current),ao(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rt]=t,(i=n.nodeValue!==r)&&(e=Je,e!==null))switch(e.tag){case 3:oo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oo(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rt]=t,t.stateNode=n}return Ce(t),null;case 13:if(ee(ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Qe!==null&&t.mode&1&&!(t.flags&128))mg(),ms(),t.flags|=98560,i=!1;else if(i=ao(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Rt]=t}else ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),i=!1}else yt!==null&&(Ru(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?me===0&&(me=3):Yc())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return vs(),_u(e,t),e===null&&pi(t.stateNode.containerInfo),Ce(t),null;case 10:return Ic(t.type._context),Ce(t),null;case 17:return Be(t.type)&&Yo(),Ce(t),null;case 19:if(ee(ne),i=t.memoizedState,i===null)return Ce(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Us(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sa(e),o!==null){for(t.flags|=128,Us(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Y(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>_s&&(t.flags|=128,n=!0,Us(i,!1),t.lanes=4194304)}else{if(!n)if(e=sa(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Us(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return Ce(t),null}else 2*ue()-i.renderingStartTime>_s&&r!==1073741824&&(t.flags|=128,n=!0,Us(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,r=ne.current,Y(ne,n?r&1|2:r&1),t):(Ce(t),null);case 22:case 23:return Jc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ke&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Qw(e,t){switch(Tc(t),t.tag){case 1:return Be(t.type)&&Yo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vs(),ee(ze),ee(Re),Mc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dc(t),null;case 13:if(ee(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ne),null;case 4:return vs(),null;case 10:return Ic(t.type._context),null;case 22:case 23:return Jc(),null;case 24:return null;default:return null}}var co=!1,Oe=!1,Jw=typeof WeakSet=="function"?WeakSet:Set,A=null;function Wn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ae(e,t,n)}else r.current=null}function bu(e,t,r){try{r()}catch(n){ae(e,t,n)}}var Ah=!1;function Yw(e,t){if(su=qo,e=ng(),Rc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(a=o),h===i&&++c===n&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(iu={focusedElem:e,selectionRange:r},qo=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,v=w.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:dt(t.type,y),v);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(b){ae(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return w=Ah,Ah=!1,w}function Zs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bu(t,r,i)}s=s.next}while(s!==n)}}function Ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Su(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zg(e){var t=e.alternate;t!==null&&(e.alternate=null,Zg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[mi],delete t[lu],delete t[Nw],delete t[Iw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function em(e){return e.tag===5||e.tag===3||e.tag===4}function Nh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jo));else if(n!==4&&(e=e.child,e!==null))for(xu(e,t,r),e=e.sibling;e!==null;)xu(e,t,r),e=e.sibling}function Eu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Eu(e,t,r),e=e.sibling;e!==null;)Eu(e,t,r),e=e.sibling}var Se=null,gt=!1;function Xt(e,t,r){for(r=r.child;r!==null;)tm(e,t,r),r=r.sibling}function tm(e,t,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Ca,r)}catch{}switch(r.tag){case 5:Oe||Wn(r,t);case 6:var n=Se,s=gt;Se=null,Xt(e,t,r),Se=n,gt=s,Se!==null&&(gt?(e=Se,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Se.removeChild(r.stateNode));break;case 18:Se!==null&&(gt?(e=Se,r=r.stateNode,e.nodeType===8?pl(e.parentNode,r):e.nodeType===1&&pl(e,r),di(e)):pl(Se,r.stateNode));break;case 4:n=Se,s=gt,Se=r.stateNode.containerInfo,gt=!0,Xt(e,t,r),Se=n,gt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bu(r,t,o),s=s.next}while(s!==n)}Xt(e,t,r);break;case 1:if(!Oe&&(Wn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ae(r,t,a)}Xt(e,t,r);break;case 21:Xt(e,t,r);break;case 22:r.mode&1?(Oe=(n=Oe)||r.memoizedState!==null,Xt(e,t,r),Oe=n):Xt(e,t,r);break;default:Xt(e,t,r)}}function Ih(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Jw),t.forEach(function(n){var s=o_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ut(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Se=a.stateNode,gt=!1;break e;case 3:Se=a.stateNode.containerInfo,gt=!0;break e;case 4:Se=a.stateNode.containerInfo,gt=!0;break e}a=a.return}if(Se===null)throw Error(O(160));tm(i,o,s),Se=null,gt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rm(t,e),t=t.sibling}function rm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),xt(e),n&4){try{Zs(3,e,e.return),Ia(3,e)}catch(y){ae(e,e.return,y)}try{Zs(5,e,e.return)}catch(y){ae(e,e.return,y)}}break;case 1:ut(t,e),xt(e),n&512&&r!==null&&Wn(r,r.return);break;case 5:if(ut(t,e),xt(e),n&512&&r!==null&&Wn(r,r.return),e.flags&32){var s=e.stateNode;try{ai(s,"")}catch(y){ae(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ep(s,i),Gl(a,o);var u=Gl(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Pp(s,d):c==="dangerouslySetInnerHTML"?Op(s,d):c==="children"?ai(s,d):gc(s,c,d,u)}switch(a){case"input":Vl(s,i);break;case"textarea":kp(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?qn(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?qn(s,!!i.multiple,i.defaultValue,!0):qn(s,!!i.multiple,i.multiple?[]:"",!1))}s[mi]=i}catch(y){ae(e,e.return,y)}}break;case 6:if(ut(t,e),xt(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ae(e,e.return,y)}}break;case 3:if(ut(t,e),xt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{di(t.containerInfo)}catch(y){ae(e,e.return,y)}break;case 4:ut(t,e),xt(e);break;case 13:ut(t,e),xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gc=ue())),n&4&&Ih(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||c,ut(t,e),Oe=u):ut(t,e),xt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(A=e,c=e.child;c!==null;){for(d=A=c;A!==null;){switch(h=A,p=h.child,h.tag){case 0:case 11:case 14:case 15:Zs(4,h,h.return);break;case 1:Wn(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){ae(n,r,y)}}break;case 5:Wn(h,h.return);break;case 22:if(h.memoizedState!==null){$h(d);continue}}p!==null?(p.return=h,A=p):$h(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rp("display",o))}catch(y){ae(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ae(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ut(t,e),xt(e),n&4&&Ih(e);break;case 21:break;default:ut(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(em(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ai(s,""),n.flags&=-33);var i=Nh(e);Eu(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Nh(e);xu(e,a,o);break;default:throw Error(O(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xw(e,t,r){A=e,nm(e)}function nm(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||co;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Oe;a=co;var u=Oe;if(co=o,(Oe=l)&&!u)for(A=s;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?Uh(s):l!==null?(l.return=o,A=l):Uh(s);for(;i!==null;)A=i,nm(i),i=i.sibling;A=s,co=a,Oe=u}Lh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Lh(e)}}function Lh(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Ia(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Oe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:dt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wh(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wh(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&di(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Oe||t.flags&512&&Su(t)}catch(h){ae(t,t.return,h)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function $h(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function Uh(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ia(4,t)}catch(l){ae(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ae(t,s,l)}}var i=t.return;try{Su(t)}catch(l){ae(t,i,l)}break;case 5:var o=t.return;try{Su(t)}catch(l){ae(t,o,l)}}}catch(l){ae(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var Zw=Math.ceil,aa=Jt.ReactCurrentDispatcher,Kc=Jt.ReactCurrentOwner,ot=Jt.ReactCurrentBatchConfig,H=0,_e=null,de=null,xe=0,Ke=0,Hn=Nr(0),me=0,Si=null,vn=0,La=0,qc=0,ei=null,Me=null,Gc=0,_s=1/0,Lt=null,la=!1,ku=null,kr=null,ho=!1,vr=null,ua=0,ti=0,Cu=null,$o=-1,Uo=0;function Ie(){return H&6?ue():$o!==-1?$o:$o=ue()}function Cr(e){return e.mode&1?H&2&&xe!==0?xe&-xe:$w.transition!==null?(Uo===0&&(Uo=zp()),Uo):(e=G,e!==0||(e=window.event,e=e===void 0?16:Gp(e.type)),e):1}function wt(e,t,r,n){if(50<ti)throw ti=0,Cu=null,Error(O(185));Di(e,r,n),(!(H&2)||e!==_e)&&(e===_e&&(!(H&2)&&(La|=r),me===4&&or(e,xe)),Ve(e,n),r===1&&H===0&&!(t.mode&1)&&(_s=ue()+500,ja&&Ir()))}function Ve(e,t){var r=e.callbackNode;$0(e,t);var n=Ko(e,e===_e?xe:0);if(n===0)r!==null&&Kd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Kd(r),t===1)e.tag===0?Lw(Dh.bind(null,e)):fg(Dh.bind(null,e)),jw(function(){!(H&6)&&Ir()}),r=null;else{switch(Bp(n)){case 1:r=_c;break;case 4:r=Mp;break;case 16:r=Ho;break;case 536870912:r=Fp;break;default:r=Ho}r=dm(r,sm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sm(e,t){if($o=-1,Uo=0,H&6)throw Error(O(327));var r=e.callbackNode;if(Xn()&&e.callbackNode!==r)return null;var n=Ko(e,e===_e?xe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ca(e,n);else{t=n;var s=H;H|=2;var i=om();(_e!==e||xe!==t)&&(Lt=null,_s=ue()+500,cn(e,t));do try{r_();break}catch(a){im(e,a)}while(!0);Nc(),aa.current=i,H=s,de!==null?t=0:(_e=null,xe=0,t=me)}if(t!==0){if(t===2&&(s=Zl(e),s!==0&&(n=s,t=Ou(e,s))),t===1)throw r=Si,cn(e,0),or(e,n),Ve(e,ue()),r;if(t===6)or(e,n);else{if(s=e.current.alternate,!(n&30)&&!e_(s)&&(t=ca(e,n),t===2&&(i=Zl(e),i!==0&&(n=i,t=Ou(e,i))),t===1))throw r=Si,cn(e,0),or(e,n),Ve(e,ue()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:Wr(e,Me,Lt);break;case 3:if(or(e,n),(n&130023424)===n&&(t=Gc+500-ue(),10<t)){if(Ko(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=au(Wr.bind(null,e,Me,Lt),t);break}Wr(e,Me,Lt);break;case 4:if(or(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-vt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Zw(n/1960))-n,10<n){e.timeoutHandle=au(Wr.bind(null,e,Me,Lt),n);break}Wr(e,Me,Lt);break;case 5:Wr(e,Me,Lt);break;default:throw Error(O(329))}}}return Ve(e,ue()),e.callbackNode===r?sm.bind(null,e):null}function Ou(e,t){var r=ei;return e.current.memoizedState.isDehydrated&&(cn(e,t).flags|=256),e=ca(e,t),e!==2&&(t=Me,Me=r,t!==null&&Ru(t)),e}function Ru(e){Me===null?Me=e:Me.push.apply(Me,e)}function e_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~qc,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-vt(t),n=1<<r;e[r]=-1,t&=~n}}function Dh(e){if(H&6)throw Error(O(327));Xn();var t=Ko(e,0);if(!(t&1))return Ve(e,ue()),null;var r=ca(e,t);if(e.tag!==0&&r===2){var n=Zl(e);n!==0&&(t=n,r=Ou(e,n))}if(r===1)throw r=Si,cn(e,0),or(e,t),Ve(e,ue()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wr(e,Me,Lt),Ve(e,ue()),null}function Qc(e,t){var r=H;H|=1;try{return e(t)}finally{H=r,H===0&&(_s=ue()+500,ja&&Ir())}}function wn(e){vr!==null&&vr.tag===0&&!(H&6)&&Xn();var t=H;H|=1;var r=ot.transition,n=G;try{if(ot.transition=null,G=1,e)return e()}finally{G=n,ot.transition=r,H=t,!(H&6)&&Ir()}}function Jc(){Ke=Hn.current,ee(Hn)}function cn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Tw(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(Tc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yo();break;case 3:vs(),ee(ze),ee(Re),Mc();break;case 5:Dc(n);break;case 4:vs();break;case 13:ee(ne);break;case 19:ee(ne);break;case 10:Ic(n.type._context);break;case 22:case 23:Jc()}r=r.return}if(_e=e,de=e=Or(e.current,null),xe=Ke=t,me=0,Si=null,qc=La=vn=0,Me=ei=null,Jr!==null){for(t=0;t<Jr.length;t++)if(r=Jr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Jr=null}return e}function im(e,t){do{var r=de;try{if(Nc(),No.current=oa,ia){for(var n=se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ia=!1}if(yn=0,we=pe=se=null,Xs=!1,wi=0,Kc.current=null,r===null||r.return===null){me=1,Si=t,de=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=xe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=kh(o);if(p!==null){p.flags&=-257,Ch(p,o,a,i,t),p.mode&1&&Eh(i,u,t),t=p,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){Eh(i,u,t),Yc();break e}l=Error(O(426))}}else if(te&&a.mode&1){var v=kh(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Ch(v,o,a,i,t),jc(ws(l,a));break e}}i=l=ws(l,a),me!==4&&(me=2),ei===null?ei=[i]:ei.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Bg(i,l,t);vh(i,g);break e;case 1:a=l;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(kr===null||!kr.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Vg(i,a,t);vh(i,b);break e}}i=i.return}while(i!==null)}lm(r)}catch(E){t=E,de===r&&r!==null&&(de=r=r.return);continue}break}while(!0)}function om(){var e=aa.current;return aa.current=oa,e===null?oa:e}function Yc(){(me===0||me===3||me===2)&&(me=4),_e===null||!(vn&268435455)&&!(La&268435455)||or(_e,xe)}function ca(e,t){var r=H;H|=2;var n=om();(_e!==e||xe!==t)&&(Lt=null,cn(e,t));do try{t_();break}catch(s){im(e,s)}while(!0);if(Nc(),H=r,aa.current=n,de!==null)throw Error(O(261));return _e=null,xe=0,me}function t_(){for(;de!==null;)am(de)}function r_(){for(;de!==null&&!O0();)am(de)}function am(e){var t=cm(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?lm(e):de=t,Kc.current=null}function lm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Qw(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(r=Gw(r,t,Ke),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function Wr(e,t,r){var n=G,s=ot.transition;try{ot.transition=null,G=1,n_(e,t,r,n)}finally{ot.transition=s,G=n}return null}function n_(e,t,r,n){do Xn();while(vr!==null);if(H&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(U0(e,i),e===_e&&(de=_e=null,xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ho||(ho=!0,dm(Ho,function(){return Xn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var o=G;G=1;var a=H;H|=4,Kc.current=null,Yw(e,r),rm(r,e),xw(iu),qo=!!su,iu=su=null,e.current=r,Xw(r),R0(),H=a,G=o,ot.transition=i}else e.current=r;if(ho&&(ho=!1,vr=e,ua=s),i=e.pendingLanes,i===0&&(kr=null),j0(r.stateNode),Ve(e,ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(la)throw la=!1,e=ku,ku=null,e;return ua&1&&e.tag!==0&&Xn(),i=e.pendingLanes,i&1?e===Cu?ti++:(ti=0,Cu=e):ti=0,Ir(),null}function Xn(){if(vr!==null){var e=Bp(ua),t=ot.transition,r=G;try{if(ot.transition=null,G=16>e?16:e,vr===null)var n=!1;else{if(e=vr,vr=null,ua=0,H&6)throw Error(O(331));var s=H;for(H|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Zs(8,c,i)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var h=c.sibling,p=c.return;if(Zg(c),c===u){A=null;break}if(h!==null){h.return=p,A=h;break}A=p}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,A=g;break e}A=i.return}}var f=e.current;for(A=f;A!==null;){o=A;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,A=m;else e:for(o=f;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ia(9,a)}}catch(E){ae(a,a.return,E)}if(a===o){A=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,A=b;break e}A=a.return}}if(H=s,Ir(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Ca,e)}catch{}n=!0}return n}finally{G=r,ot.transition=t}}return!1}function Mh(e,t,r){t=ws(r,t),t=Bg(e,t,1),e=Er(e,t,1),t=Ie(),e!==null&&(Di(e,1,t),Ve(e,t))}function ae(e,t,r){if(e.tag===3)Mh(e,e,r);else for(;t!==null;){if(t.tag===3){Mh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kr===null||!kr.has(n))){e=ws(r,e),e=Vg(t,e,1),t=Er(t,e,1),e=Ie(),t!==null&&(Di(t,1,e),Ve(t,e));break}}t=t.return}}function s_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(xe&r)===r&&(me===4||me===3&&(xe&130023424)===xe&&500>ue()-Gc?cn(e,0):qc|=r),Ve(e,t)}function um(e,t){t===0&&(e.mode&1?(t=to,to<<=1,!(to&130023424)&&(to=4194304)):t=1);var r=Ie();e=Gt(e,t),e!==null&&(Di(e,t,r),Ve(e,r))}function i_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),um(e,r)}function o_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),um(e,r)}var cm;cm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Fe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Fe=!1,qw(e,t,r);Fe=!!(e.flags&131072)}else Fe=!1,te&&t.flags&1048576&&pg(t,ea,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Lo(e,t),e=t.pendingProps;var s=gs(t,Re.current);Yn(t,r),s=zc(null,t,n,e,s,r);var i=Bc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(n)?(i=!0,Xo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$c(t),s.updater=Na,t.stateNode=s,s._reactInternals=t,pu(t,n,e,r),t=yu(null,t,n,!0,i,r)):(t.tag=0,te&&i&&Pc(t),je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Lo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=l_(n),e=dt(n,e),s){case 0:t=mu(null,t,n,e,r);break e;case 1:t=Ph(null,t,n,e,r);break e;case 11:t=Oh(null,t,n,e,r);break e;case 14:t=Rh(null,t,n,dt(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),mu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),Ph(e,t,n,s,r);case 3:e:{if(qg(t),e===null)throw Error(O(387));n=t.pendingProps,i=t.memoizedState,s=i.element,_g(e,t),na(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ws(Error(O(423)),t),t=Th(e,t,n,r,s);break e}else if(n!==s){s=ws(Error(O(424)),t),t=Th(e,t,n,r,s);break e}else for(Qe=xr(t.stateNode.containerInfo.firstChild),Je=t,te=!0,yt=null,r=vg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ms(),n===s){t=Qt(e,t,r);break e}je(e,t,n,r)}t=t.child}return t;case 5:return bg(t),e===null&&du(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ou(n,s)?o=null:i!==null&&ou(n,i)&&(t.flags|=32),Kg(e,t),je(e,t,o,r),t.child;case 6:return e===null&&du(t),null;case 13:return Gg(e,t,r);case 4:return Uc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ys(t,null,n,r):je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),Oh(e,t,n,s,r);case 7:return je(e,t,t.pendingProps,r),t.child;case 8:return je(e,t,t.pendingProps.children,r),t.child;case 12:return je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Y(ta,n._currentValue),n._currentValue=o,i!==null)if(_t(i.value,o)){if(i.children===s.children&&!ze.current){t=Qt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Wt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),hu(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),hu(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Yn(t,r),s=at(s),n=n(s),t.flags|=1,je(e,t,n,r),t.child;case 14:return n=t.type,s=dt(n,t.pendingProps),s=dt(n.type,s),Rh(e,t,n,s,r);case 15:return Wg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),Lo(e,t),t.tag=1,Be(n)?(e=!0,Xo(t)):e=!1,Yn(t,r),zg(t,n,s),pu(t,n,s,r),yu(null,t,n,!0,e,r);case 19:return Qg(e,t,r);case 22:return Hg(e,t,r)}throw Error(O(156,t.tag))};function dm(e,t){return Dp(e,t)}function a_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,r,n){return new a_(e,t,r,n)}function Xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function l_(e){if(typeof e=="function")return Xc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yc)return 11;if(e===vc)return 14}return 2}function Or(e,t){var r=e.alternate;return r===null?(r=it(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Do(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Xc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ln:return dn(r.children,s,i,t);case mc:o=8,s|=8;break;case Dl:return e=it(12,r,t,s|2),e.elementType=Dl,e.lanes=i,e;case Ml:return e=it(13,r,t,s),e.elementType=Ml,e.lanes=i,e;case Fl:return e=it(19,r,t,s),e.elementType=Fl,e.lanes=i,e;case bp:return $a(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wp:o=10;break e;case _p:o=9;break e;case yc:o=11;break e;case vc:o=14;break e;case nr:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=it(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function dn(e,t,r,n){return e=it(7,e,n,t),e.lanes=r,e}function $a(e,t,r,n){return e=it(22,e,n,t),e.elementType=bp,e.lanes=r,e.stateNode={isHidden:!1},e}function Sl(e,t,r){return e=it(6,e,null,t),e.lanes=r,e}function xl(e,t,r){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function u_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nl(0),this.expirationTimes=nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zc(e,t,r,n,s,i,o,a,l){return e=new u_(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=it(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$c(i),e}function c_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hm(e){if(!e)return jr;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(Be(r))return hg(e,r,t)}return t}function fm(e,t,r,n,s,i,o,a,l){return e=Zc(r,n,!0,e,s,i,o,a,l),e.context=hm(null),r=e.current,n=Ie(),s=Cr(r),i=Wt(n,s),i.callback=t??null,Er(r,i,s),e.current.lanes=s,Di(e,s,n),Ve(e,n),e}function Ua(e,t,r,n){var s=t.current,i=Ie(),o=Cr(s);return r=hm(r),t.context===null?t.context=r:t.pendingContext=r,t=Wt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Er(s,t,o),e!==null&&(wt(e,s,o,i),Ao(e,s,o)),o}function da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ed(e,t){Fh(e,t),(e=e.alternate)&&Fh(e,t)}function d_(){return null}var pm=typeof reportError=="function"?reportError:function(e){console.error(e)};function td(e){this._internalRoot=e}Da.prototype.render=td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Ua(e,t,null,null)};Da.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){Ua(null,e,null,null)}),t[qt]=null}};function Da(e){this._internalRoot=e}Da.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ir.length&&t!==0&&t<ir[r].priority;r++);ir.splice(r,0,e),r===0&&qp(e)}};function rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zh(){}function h_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=da(o);i.call(u)}}var o=fm(t,n,e,0,null,!1,!1,"",zh);return e._reactRootContainer=o,e[qt]=o.current,pi(e.nodeType===8?e.parentNode:e),wn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=da(l);a.call(u)}}var l=Zc(e,0,!1,null,null,!1,!1,"",zh);return e._reactRootContainer=l,e[qt]=l.current,pi(e.nodeType===8?e.parentNode:e),wn(function(){Ua(t,l,r,n)}),l}function Fa(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=da(o);a.call(l)}}Ua(t,o,e,s)}else o=h_(r,t,e,s,n);return da(o)}Vp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vs(t.pendingLanes);r!==0&&(bc(t,r|1),Ve(t,ue()),!(H&6)&&(_s=ue()+500,Ir()))}break;case 13:wn(function(){var n=Gt(e,1);if(n!==null){var s=Ie();wt(n,e,1,s)}}),ed(e,1)}};Sc=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var r=Ie();wt(t,e,134217728,r)}ed(e,134217728)}};Wp=function(e){if(e.tag===13){var t=Cr(e),r=Gt(e,t);if(r!==null){var n=Ie();wt(r,e,t,n)}ed(e,t)}};Hp=function(){return G};Kp=function(e,t){var r=G;try{return G=e,t()}finally{G=r}};Jl=function(e,t,r){switch(t){case"input":if(Vl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ta(n);if(!s)throw Error(O(90));xp(n),Vl(n,s)}}}break;case"textarea":kp(e,r);break;case"select":t=r.value,t!=null&&qn(e,!!r.multiple,t,!1)}};Ap=Qc;Np=wn;var f_={usingClientEntryPoint:!1,Events:[Fi,Mn,Ta,Tp,jp,Qc]},Ds={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p_={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$p(e),e===null?null:e.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||d_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{Ca=fo.inject(p_),Pt=fo}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f_;Xe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rd(t))throw Error(O(200));return c_(e,t,null,r)};Xe.createRoot=function(e,t){if(!rd(e))throw Error(O(299));var r=!1,n="",s=pm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Zc(e,1,!1,null,null,r,!1,n,s),e[qt]=t.current,pi(e.nodeType===8?e.parentNode:e),new td(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=$p(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return wn(e)};Xe.hydrate=function(e,t,r){if(!Ma(t))throw Error(O(200));return Fa(null,e,t,!0,r)};Xe.hydrateRoot=function(e,t,r){if(!rd(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=pm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fm(t,null,e,1,r??null,s,!1,i,o),e[qt]=t.current,pi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Da(t)};Xe.render=function(e,t,r){if(!Ma(t))throw Error(O(200));return Fa(null,e,t,!1,r)};Xe.unmountComponentAtNode=function(e){if(!Ma(e))throw Error(O(40));return e._reactRootContainer?(wn(function(){Fa(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};Xe.unstable_batchedUpdates=Qc;Xe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ma(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Fa(e,t,r,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function gm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gm)}catch(e){console.error(e)}}gm(),gp.exports=Xe;var g_=gp.exports,Bh=g_;$l.createRoot=Bh.createRoot,$l.hydrateRoot=Bh.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}var wr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wr||(wr={}));const Vh="popstate";function m_(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Pu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ha(s)}return v_(t,r,null,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function y_(){return Math.random().toString(36).substr(2,8)}function Wh(e,t){return{usr:e.state,key:e.key,idx:t}}function Pu(e,t,r,n){return r===void 0&&(r=null),xi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ks(t):t,{state:r,key:t&&t.key||n||y_()})}function ha(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ks(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v_(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=wr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(xi({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=wr.Pop;let v=c(),g=v==null?null:v-u;u=v,l&&l({action:a,location:y.location,delta:g})}function h(v,g){a=wr.Push;let f=Pu(y.location,v,g);u=c()+1;let m=Wh(f,u),b=y.createHref(f);try{o.pushState(m,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}i&&l&&l({action:a,location:y.location,delta:1})}function p(v,g){a=wr.Replace;let f=Pu(y.location,v,g);u=c();let m=Wh(f,u),b=y.createHref(f);o.replaceState(m,"",b),i&&l&&l({action:a,location:y.location,delta:0})}function w(v){let g=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof v=="string"?v:ha(v);return f=f.replace(/ $/,"%20"),he(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let y={get action(){return a},get location(){return e(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Vh,d),l=v,()=>{s.removeEventListener(Vh,d),l=null}},createHref(v){return t(s,v)},createURL:w,encodeLocation(v){let g=w(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var Hh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hh||(Hh={}));function w_(e,t,r){return r===void 0&&(r="/"),__(e,t,r)}function __(e,t,r,n){let s=typeof t=="string"?ks(t):t,i=sd(s.pathname||"/",r);if(i==null)return null;let o=mm(e);b_(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=N_(i);a=T_(o[l],u)}return a}function mm(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(he(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Rr([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(he(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mm(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:R_(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ym(i.path))s(i,o,l)}),t}function ym(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=ym(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function b_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:P_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const S_=/^:[\w-]+$/,x_=3,E_=2,k_=1,C_=10,O_=-2,Kh=e=>e==="*";function R_(e,t){let r=e.split("/"),n=r.length;return r.some(Kh)&&(n+=O_),t&&(n+=E_),r.filter(s=>!Kh(s)).reduce((s,i)=>s+(S_.test(i)?x_:i===""?k_:C_),n)}function P_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function T_(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=j_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Rr([i,d.pathname]),pathnameBase:D_(Rr([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Rr([i,d.pathnameBase]))}return o}function j_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=A_(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[d];return p&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function A_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),nd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function N_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const I_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L_=e=>I_.test(e);function $_(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ks(e):e,i;if(r)if(L_(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),nd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=qh(r.substring(1),"/"):i=qh(r,t)}else i=t;return{pathname:i,search:M_(n),hash:F_(s)}}function qh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function El(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vm(e,t){let r=U_(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wm(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ks(e):(s=xi({},e),he(!s.pathname||!s.pathname.includes("?"),El("?","pathname","search",s)),he(!s.pathname||!s.pathname.includes("#"),El("#","pathname","hash",s)),he(!s.search||!s.search.includes("#"),El("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=$_(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Rr=e=>e.join("/").replace(/\/\/+/g,"/"),D_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,F_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function z_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _m=["post","put","patch","delete"];new Set(_m);const B_=["get",..._m];new Set(B_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(this,arguments)}const id=x.createContext(null),V_=x.createContext(null),En=x.createContext(null),za=x.createContext(null),Lr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),bm=x.createContext(null);function W_(e,t){let{relative:r}=t===void 0?{}:t;Bi()||he(!1);let{basename:n,navigator:s}=x.useContext(En),{hash:i,pathname:o,search:a}=xm(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Rr([n,o])),s.createHref({pathname:l,search:a,hash:i})}function Bi(){return x.useContext(za)!=null}function Ba(){return Bi()||he(!1),x.useContext(za).location}function Sm(e){x.useContext(En).static||x.useLayoutEffect(e)}function H_(){let{isDataRoute:e}=x.useContext(Lr);return e?ib():K_()}function K_(){Bi()||he(!1);let e=x.useContext(id),{basename:t,future:r,navigator:n}=x.useContext(En),{matches:s}=x.useContext(Lr),{pathname:i}=Ba(),o=JSON.stringify(vm(s,r.v7_relativeSplatPath)),a=x.useRef(!1);return Sm(()=>{a.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=wm(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Rr([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,i,e])}function q_(){let{matches:e}=x.useContext(Lr),t=e[e.length-1];return t?t.params:{}}function xm(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(En),{matches:s}=x.useContext(Lr),{pathname:i}=Ba(),o=JSON.stringify(vm(s,n.v7_relativeSplatPath));return x.useMemo(()=>wm(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function G_(e,t){return Q_(e,t)}function Q_(e,t,r,n){Bi()||he(!1);let{navigator:s}=x.useContext(En),{matches:i}=x.useContext(Lr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ba(),c;if(t){var d;let v=typeof t=="string"?ks(t):t;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||he(!1),c=v}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=w_(e,{pathname:p}),y=eb(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Rr([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Rr([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?x.createElement(za.Provider,{value:{location:Ei({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:wr.Pop}},y):y}function J_(){let e=sb(),t=z_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const Y_=x.createElement(J_,null);class X_ extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Lr.Provider,{value:this.props.routeContext},x.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z_(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(id);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Lr.Provider,{value:t},n)}function eb(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||he(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=r,w=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let p,w=!1,y=null,v=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Y_,l&&(u<0&&h===0?(ob("route-fallback"),w=!0,v=null):u===h&&(w=!0,v=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),f=()=>{let m;return p?m=y:w?m=v:d.route.Component?m=x.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=c,x.createElement(Z_,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(X_,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var Em=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Em||{}),km=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(km||{});function tb(e){let t=x.useContext(id);return t||he(!1),t}function rb(e){let t=x.useContext(V_);return t||he(!1),t}function nb(e){let t=x.useContext(Lr);return t||he(!1),t}function Cm(e){let t=nb(),r=t.matches[t.matches.length-1];return r.route.id||he(!1),r.route.id}function sb(){var e;let t=x.useContext(bm),r=rb(),n=Cm();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ib(){let{router:e}=tb(Em.UseNavigateStable),t=Cm(km.UseNavigateStable),r=x.useRef(!1);return Sm(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ei({fromRouteId:t},i)))},[e,t])}const Gh={};function ob(e,t,r){Gh[e]||(Gh[e]=!0)}function ab(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mo(e){he(!1)}function lb(e){let{basename:t="/",children:r=null,location:n,navigationType:s=wr.Pop,navigator:i,static:o=!1,future:a}=e;Bi()&&he(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:Ei({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=ks(n));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:w="default"}=n,y=x.useMemo(()=>{let v=sd(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:w},navigationType:s}},[l,c,d,h,p,w,s]);return y==null?null:x.createElement(En.Provider,{value:u},x.createElement(za.Provider,{children:r,value:y}))}function ub(e){let{children:t,location:r}=e;return G_(Tu(t),r)}new Promise(()=>{});function Tu(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Tu(n.props.children,i));return}n.type!==Mo&&he(!1),!n.props.index||!n.props.children||he(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Tu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(this,arguments)}function cb(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function db(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hb(e,t){return e.button===0&&(!t||t==="_self")&&!db(e)}const fb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pb="6";try{window.__reactRouterVersion=pb}catch{}const gb="startTransition",Qh=ka[gb];function mb(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=m_({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=x.useCallback(d=>{u&&Qh?Qh(()=>l(d)):l(d)},[l,u]);return x.useLayoutEffect(()=>o.listen(c),[o,c]),x.useEffect(()=>ab(n),[n]),x.createElement(lb,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fa=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=cb(t,fb),{basename:p}=x.useContext(En),w,y=!1;if(typeof u=="string"&&vb.test(u)&&(w=u,yb))try{let m=new URL(window.location.href),b=u.startsWith("//")?new URL(m.protocol+u):new URL(u),E=sd(b.pathname,p);b.origin===m.origin&&E!=null?u=E+b.search+b.hash:y=!0}catch{}let v=W_(u,{relative:s}),g=wb(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function f(m){n&&n(m),m.defaultPrevented||g(m)}return x.createElement("a",ju({},h,{href:w||v,onClick:y||i?n:f,ref:r,target:l}))});var Jh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jh||(Jh={}));var Yh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yh||(Yh={}));function wb(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=H_(),u=Ba(),c=xm(e,{relative:o});return x.useCallback(d=>{if(hb(d,r)){d.preventDefault();let h=n!==void 0?n:ha(u)===ha(c);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,n,s,r,e,i,o,a])}var Cs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_b={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},lr,lc,Kf,bb=(Kf=class{constructor(){L(this,lr,_b);L(this,lc,!1)}setTimeoutProvider(e){T(this,lr,e)}setTimeout(e,t){return _(this,lr).setTimeout(e,t)}clearTimeout(e){_(this,lr).clearTimeout(e)}setInterval(e,t){return _(this,lr).setInterval(e,t)}clearInterval(e){_(this,lr).clearInterval(e)}},lr=new WeakMap,lc=new WeakMap,Kf),Xr=new bb;function Sb(e){setTimeout(e,0)}var _n=typeof window>"u"||"Deno"in globalThis;function Ae(){}function xb(e,t){return typeof e=="function"?e(t):e}function Au(e){return typeof e=="number"&&e>=0&&e!==1/0}function Om(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pr(e,t){return typeof e=="function"?e(t):e}function rt(e,t){return typeof e=="function"?e(t):e}function Xh(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==od(o,t.options))return!1}else if(!ki(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Zh(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(bn(t.options.mutationKey)!==bn(i))return!1}else if(!ki(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function od(e,t){return((t==null?void 0:t.queryKeyHashFn)||bn)(e)}function bn(e){return JSON.stringify(e,(t,r)=>Nu(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ki(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ki(e[r],t[r])):!1}var Eb=Object.prototype.hasOwnProperty;function Rm(e,t){if(e===t)return e;const r=ef(e)&&ef(t);if(!r&&!(Nu(e)&&Nu(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,a=r?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=r?u:i[u],d=e[c],h=t[c];if(d===h){a[c]=d,(r?u<s:Eb.call(e,c))&&l++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){a[c]=h;continue}const p=Rm(d,h);a[c]=p,p===d&&l++}return s===o&&l===s?e:a}function pa(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ef(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nu(e){if(!tf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!tf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tf(e){return Object.prototype.toString.call(e)==="[object Object]"}function kb(e){return new Promise(t=>{Xr.setTimeout(t,e)})}function Iu(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Rm(e,t):t}function Cb(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Ob(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ad=Symbol();function Pm(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ad?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Tm(e,t){return typeof e=="function"?e(...t):!!e}var en,ur,rs,qf,Rb=(qf=class extends Cs{constructor(){super();L(this,en);L(this,ur);L(this,rs);T(this,rs,t=>{if(!_n&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,ur)||this.setEventListener(_(this,rs))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,ur))==null||t.call(this),T(this,ur,void 0))}setEventListener(t){var r;T(this,rs,t),(r=_(this,ur))==null||r.call(this),T(this,ur,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){_(this,en)!==t&&(T(this,en,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof _(this,en)=="boolean"?_(this,en):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},en=new WeakMap,ur=new WeakMap,rs=new WeakMap,qf),ld=new Rb;function Lu(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var Pb=Sb;function Tb(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=Pb;const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var ge=Tb(),ns,cr,ss,Gf,jb=(Gf=class extends Cs{constructor(){super();L(this,ns,!0);L(this,cr);L(this,ss);T(this,ss,t=>{if(!_n&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_(this,cr)||this.setEventListener(_(this,ss))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,cr))==null||t.call(this),T(this,cr,void 0))}setEventListener(t){var r;T(this,ss,t),(r=_(this,cr))==null||r.call(this),T(this,cr,t(this.setOnline.bind(this)))}setOnline(t){_(this,ns)!==t&&(T(this,ns,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return _(this,ns)}},ns=new WeakMap,cr=new WeakMap,ss=new WeakMap,Gf),ga=new jb;function Ab(e){return Math.min(1e3*2**e,3e4)}function jm(e){return(e??"online")==="online"?ga.isOnline():!0}var $u=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Am(e){let t=!1,r=0,n;const s=Lu(),i=()=>s.status!=="pending",o=y=>{var v;if(!i()){const g=new $u(y);h(g),(v=e.onCancel)==null||v.call(e,g)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>ld.isFocused()&&(e.networkMode==="always"||ga.isOnline())&&e.canRun(),c=()=>jm(e.networkMode)&&e.canRun(),d=y=>{i()||(n==null||n(),s.resolve(y))},h=y=>{i()||(n==null||n(),s.reject(y))},p=()=>new Promise(y=>{var v;n=g=>{(i()||u())&&y(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;n=void 0,i()||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(i())return;let y;const v=r===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(d).catch(g=>{var k;if(i())return;const f=e.retry??(_n?0:3),m=e.retryDelay??Ab,b=typeof m=="function"?m(r,g):m,E=f===!0||typeof f=="number"&&r<f||typeof f=="function"&&f(r,g);if(t||!E){h(g);return}r++,(k=e.onFail)==null||k.call(e,r,g),kb(b).then(()=>u()?void 0:p()).then(()=>{t?h(g):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?w():p().then(w),s)}}var tn,Qf,Nm=(Qf=class{constructor(){L(this,tn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Au(this.gcTime)&&T(this,tn,Xr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_n?1/0:5*60*1e3))}clearGcTimeout(){_(this,tn)&&(Xr.clearTimeout(_(this,tn)),T(this,tn,void 0))}},tn=new WeakMap,Qf),rn,is,tt,nn,ve,Ai,sn,ft,It,Jf,Nb=(Jf=class extends Nm{constructor(t){super();L(this,ft);L(this,rn);L(this,is);L(this,tt);L(this,nn);L(this,ve);L(this,Ai);L(this,sn);T(this,sn,!1),T(this,Ai,t.defaultOptions),this.setOptions(t.options),this.observers=[],T(this,nn,t.client),T(this,tt,_(this,nn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,T(this,rn,nf(this.options)),this.state=t.state??_(this,rn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,ve))==null?void 0:t.promise}setOptions(t){if(this.options={..._(this,Ai),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=nf(this.options);r.data!==void 0&&(this.setState(rf(r.data,r.dataUpdatedAt)),T(this,rn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,tt).remove(this)}setData(t,r){const n=Iu(this.state.data,t,this.options);return z(this,ft,It).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){z(this,ft,It).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=_(this,ve))==null?void 0:n.promise;return(s=_(this,ve))==null||s.cancel(t),r?r.then(Ae).catch(Ae):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,rn))}isActive(){return this.observers.some(t=>rt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ad||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Pr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Om(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,ve))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,ve))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,tt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(_(this,ve)&&(_(this,sn)?_(this,ve).cancel({revert:!0}):_(this,ve).cancelRetry()),this.scheduleGc()),_(this,tt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||z(this,ft,It).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,c,d,h,p,w,y,v,g,f,m;if(this.state.fetchStatus!=="idle"&&((l=_(this,ve))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,ve))return _(this,ve).continueRetry(),_(this,ve).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(E=>E.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(T(this,sn,!0),n.signal)})},i=()=>{const b=Pm(this.options,r),k=(()=>{const C={client:_(this,nn),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return T(this,sn,!1),this.options.persister?this.options.persister(b,k,this):b(k)},a=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_(this,nn),state:this.state,fetchFn:i};return s(b),b})();(u=this.options.behavior)==null||u.onFetch(a,this),T(this,is,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&z(this,ft,It).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),T(this,ve,Am({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:b=>{b instanceof $u&&b.revert&&this.setState({..._(this,is),fetchStatus:"idle"}),n.abort()},onFail:(b,E)=>{z(this,ft,It).call(this,{type:"failed",failureCount:b,error:E})},onPause:()=>{z(this,ft,It).call(this,{type:"pause"})},onContinue:()=>{z(this,ft,It).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const b=await _(this,ve).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(h=_(this,tt).config).onSuccess)==null||p.call(h,b,this),(y=(w=_(this,tt).config).onSettled)==null||y.call(w,b,this.state.error,this),b}catch(b){if(b instanceof $u){if(b.silent)return _(this,ve).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw z(this,ft,It).call(this,{type:"error",error:b}),(g=(v=_(this,tt).config).onError)==null||g.call(v,b,this),(m=(f=_(this,tt).config).onSettled)==null||m.call(f,this.state.data,b,this),b}finally{this.scheduleGc()}}},rn=new WeakMap,is=new WeakMap,tt=new WeakMap,nn=new WeakMap,ve=new WeakMap,Ai=new WeakMap,sn=new WeakMap,ft=new WeakSet,It=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Im(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...rf(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return T(this,is,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ge.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_(this,tt).notify({query:this,type:"updated",action:t})})},Jf);function Im(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jm(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rf(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function nf(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ue,W,Ni,Pe,on,os,Dt,dr,Ii,as,ls,an,ln,hr,us,q,Hs,Uu,Du,Mu,Fu,zu,Bu,Vu,Lm,Yf,Ib=(Yf=class extends Cs{constructor(t,r){super();L(this,q);L(this,Ue);L(this,W);L(this,Ni);L(this,Pe);L(this,on);L(this,os);L(this,Dt);L(this,dr);L(this,Ii);L(this,as);L(this,ls);L(this,an);L(this,ln);L(this,hr);L(this,us,new Set);this.options=r,T(this,Ue,t),T(this,dr,null),T(this,Dt,Lu()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,W).addObserver(this),sf(_(this,W),this.options)?z(this,q,Hs).call(this):this.updateResult(),z(this,q,Fu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wu(_(this,W),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wu(_(this,W),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,z(this,q,zu).call(this),z(this,q,Bu).call(this),_(this,W).removeObserver(this)}setOptions(t){const r=this.options,n=_(this,W);if(this.options=_(this,Ue).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rt(this.options.enabled,_(this,W))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");z(this,q,Vu).call(this),_(this,W).setOptions(this.options),r._defaulted&&!pa(this.options,r)&&_(this,Ue).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,W),observer:this});const s=this.hasListeners();s&&of(_(this,W),n,this.options,r)&&z(this,q,Hs).call(this),this.updateResult(),s&&(_(this,W)!==n||rt(this.options.enabled,_(this,W))!==rt(r.enabled,_(this,W))||Pr(this.options.staleTime,_(this,W))!==Pr(r.staleTime,_(this,W)))&&z(this,q,Uu).call(this);const i=z(this,q,Du).call(this);s&&(_(this,W)!==n||rt(this.options.enabled,_(this,W))!==rt(r.enabled,_(this,W))||i!==_(this,hr))&&z(this,q,Mu).call(this,i)}getOptimisticResult(t){const r=_(this,Ue).getQueryCache().build(_(this,Ue),t),n=this.createResult(r,t);return $b(this,n)&&(T(this,Pe,n),T(this,os,this.options),T(this,on,_(this,W).state)),n}getCurrentResult(){return _(this,Pe)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,Dt).status==="pending"&&_(this,Dt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){_(this,us).add(t)}getCurrentQuery(){return _(this,W)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=_(this,Ue).defaultQueryOptions(t),n=_(this,Ue).getQueryCache().build(_(this,Ue),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return z(this,q,Hs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,Pe)))}createResult(t,r){var U;const n=_(this,W),s=this.options,i=_(this,Pe),o=_(this,on),a=_(this,os),u=t!==n?t.state:_(this,Ni),{state:c}=t;let d={...c},h=!1,p;if(r._optimisticResults){const P=this.hasListeners(),Q=!P&&sf(t,r),B=P&&of(t,n,r,s);(Q||B)&&(d={...d,...Im(c.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:v}=d;p=d.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let P;i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(P=i.data,g=!0):P=typeof r.placeholderData=="function"?r.placeholderData((U=_(this,ls))==null?void 0:U.state.data,_(this,ls)):r.placeholderData,P!==void 0&&(v="success",p=Iu(i==null?void 0:i.data,P,r),h=!0)}if(r.select&&p!==void 0&&!g)if(i&&p===(o==null?void 0:o.data)&&r.select===_(this,Ii))p=_(this,as);else try{T(this,Ii,r.select),p=r.select(p),p=Iu(i==null?void 0:i.data,p,r),T(this,as,p),T(this,dr,null)}catch(P){T(this,dr,P)}_(this,dr)&&(w=_(this,dr),p=_(this,as),y=Date.now(),v="error");const f=d.fetchStatus==="fetching",m=v==="pending",b=v==="error",E=m&&f,k=p!==void 0,R={status:v,fetchStatus:d.fetchStatus,isPending:m,isSuccess:v==="success",isError:b,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:f,isRefetching:f&&!m,isLoadingError:b&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&k,isStale:ud(t,r),refetch:this.refetch,promise:_(this,Dt),isEnabled:rt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=We=>{R.status==="error"?We.reject(R.error):R.data!==void 0&&We.resolve(R.data)},Q=()=>{const We=T(this,Dt,R.promise=Lu());P(We)},B=_(this,Dt);switch(B.status){case"pending":t.queryHash===n.queryHash&&P(B);break;case"fulfilled":(R.status==="error"||R.data!==B.value)&&Q();break;case"rejected":(R.status!=="error"||R.error!==B.reason)&&Q();break}}return R}updateResult(){const t=_(this,Pe),r=this.createResult(_(this,W),this.options);if(T(this,on,_(this,W).state),T(this,os,this.options),_(this,on).data!==void 0&&T(this,ls,_(this,W)),pa(r,t))return;T(this,Pe,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!_(this,us).size)return!0;const o=new Set(i??_(this,us));return this.options.throwOnError&&o.add("error"),Object.keys(_(this,Pe)).some(a=>{const l=a;return _(this,Pe)[l]!==t[l]&&o.has(l)})};z(this,q,Lm).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&z(this,q,Fu).call(this)}},Ue=new WeakMap,W=new WeakMap,Ni=new WeakMap,Pe=new WeakMap,on=new WeakMap,os=new WeakMap,Dt=new WeakMap,dr=new WeakMap,Ii=new WeakMap,as=new WeakMap,ls=new WeakMap,an=new WeakMap,ln=new WeakMap,hr=new WeakMap,us=new WeakMap,q=new WeakSet,Hs=function(t){z(this,q,Vu).call(this);let r=_(this,W).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ae)),r},Uu=function(){z(this,q,zu).call(this);const t=Pr(this.options.staleTime,_(this,W));if(_n||_(this,Pe).isStale||!Au(t))return;const n=Om(_(this,Pe).dataUpdatedAt,t)+1;T(this,an,Xr.setTimeout(()=>{_(this,Pe).isStale||this.updateResult()},n))},Du=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,W)):this.options.refetchInterval)??!1},Mu=function(t){z(this,q,Bu).call(this),T(this,hr,t),!(_n||rt(this.options.enabled,_(this,W))===!1||!Au(_(this,hr))||_(this,hr)===0)&&T(this,ln,Xr.setInterval(()=>{(this.options.refetchIntervalInBackground||ld.isFocused())&&z(this,q,Hs).call(this)},_(this,hr)))},Fu=function(){z(this,q,Uu).call(this),z(this,q,Mu).call(this,z(this,q,Du).call(this))},zu=function(){_(this,an)&&(Xr.clearTimeout(_(this,an)),T(this,an,void 0))},Bu=function(){_(this,ln)&&(Xr.clearInterval(_(this,ln)),T(this,ln,void 0))},Vu=function(){const t=_(this,Ue).getQueryCache().build(_(this,Ue),this.options);if(t===_(this,W))return;const r=_(this,W);T(this,W,t),T(this,Ni,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Lm=function(t){ge.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(_(this,Pe))}),_(this,Ue).getQueryCache().notify({query:_(this,W),type:"observerResultsUpdated"})})},Yf);function Lb(e,t){return rt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sf(e,t){return Lb(e,t)||e.state.data!==void 0&&Wu(e,t,t.refetchOnMount)}function Wu(e,t,r){if(rt(t.enabled,e)!==!1&&Pr(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ud(e,t)}return!1}function of(e,t,r,n){return(e!==t||rt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ud(e,r)}function ud(e,t){return rt(t.enabled,e)!==!1&&e.isStaleByTime(Pr(t.staleTime,e))}function $b(e,t){return!pa(e.getCurrentResult(),t)}function af(e){return{onFetch:(t,r)=>{var c,d,h,p,w;const n=t.options,s=(h=(d=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const v=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},g=Pm(t.options,t.fetchOptions),f=async(m,b,E)=>{if(y)return Promise.reject();if(b==null&&m.pages.length)return Promise.resolve(m);const C=(()=>{const Q={client:t.client,queryKey:t.queryKey,pageParam:b,direction:E?"backward":"forward",meta:t.options.meta};return v(Q),Q})(),R=await g(C),{maxPages:U}=t.options,P=E?Ob:Cb;return{pages:P(m.pages,R,U),pageParams:P(m.pageParams,b,U)}};if(s&&i.length){const m=s==="backward",b=m?Ub:lf,E={pages:i,pageParams:o},k=b(n,E);a=await f(E,k,m)}else{const m=e??i.length;do{const b=l===0?o[0]??n.initialPageParam:lf(n,a);if(l>0&&b==null)break;a=await f(a,b),l++}while(l<m)}return a};t.options.persister?t.fetchFn=()=>{var y,v;return(v=(y=t.options).persister)==null?void 0:v.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function lf(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Ub(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Li,kt,Te,un,Ct,rr,Xf,Db=(Xf=class extends Nm{constructor(t){super();L(this,Ct);L(this,Li);L(this,kt);L(this,Te);L(this,un);T(this,Li,t.client),this.mutationId=t.mutationId,T(this,Te,t.mutationCache),T(this,kt,[]),this.state=t.state||$m(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,kt).includes(t)||(_(this,kt).push(t),this.clearGcTimeout(),_(this,Te).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){T(this,kt,_(this,kt).filter(r=>r!==t)),this.scheduleGc(),_(this,Te).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,kt).length||(this.state.status==="pending"?this.scheduleGc():_(this,Te).remove(this))}continue(){var t;return((t=_(this,un))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,c,d,h,p,w,y,v,g,f,m,b,E,k,C,R,U;const r=()=>{z(this,Ct,rr).call(this,{type:"continue"})},n={client:_(this,Li),meta:this.options.meta,mutationKey:this.options.mutationKey};T(this,un,Am({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,Q)=>{z(this,Ct,rr).call(this,{type:"failed",failureCount:P,error:Q})},onPause:()=>{z(this,Ct,rr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Te).canRun(this)}));const s=this.state.status==="pending",i=!_(this,un).canStart();try{if(s)r();else{z(this,Ct,rr).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=_(this,Te).config).onMutate)==null?void 0:a.call(o,t,this,n));const Q=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));Q!==this.state.context&&z(this,Ct,rr).call(this,{type:"pending",context:Q,variables:t,isPaused:i})}const P=await _(this,un).start();return await((d=(c=_(this,Te).config).onSuccess)==null?void 0:d.call(c,P,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,P,t,this.state.context,n)),await((y=(w=_(this,Te).config).onSettled)==null?void 0:y.call(w,P,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,P,null,t,this.state.context,n)),z(this,Ct,rr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((m=(f=_(this,Te).config).onError)==null?void 0:m.call(f,P,t,this.state.context,this,n)),await((E=(b=this.options).onError)==null?void 0:E.call(b,P,t,this.state.context,n)),await((C=(k=_(this,Te).config).onSettled)==null?void 0:C.call(k,void 0,P,this.state.variables,this.state.context,this,n)),await((U=(R=this.options).onSettled)==null?void 0:U.call(R,void 0,P,t,this.state.context,n)),P}finally{z(this,Ct,rr).call(this,{type:"error",error:P})}}finally{_(this,Te).runNext(this)}}},Li=new WeakMap,kt=new WeakMap,Te=new WeakMap,un=new WeakMap,Ct=new WeakSet,rr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ge.batch(()=>{_(this,kt).forEach(n=>{n.onMutationUpdate(t)}),_(this,Te).notify({mutation:this,type:"updated",action:t})})},Xf);function $m(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mt,pt,$i,Zf,Mb=(Zf=class extends Cs{constructor(t={}){super();L(this,Mt);L(this,pt);L(this,$i);this.config=t,T(this,Mt,new Set),T(this,pt,new Map),T(this,$i,0)}build(t,r,n){const s=new Db({client:t,mutationCache:this,mutationId:++Qi(this,$i)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){_(this,Mt).add(t);const r=po(t);if(typeof r=="string"){const n=_(this,pt).get(r);n?n.push(t):_(this,pt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,Mt).delete(t)){const r=po(t);if(typeof r=="string"){const n=_(this,pt).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&_(this,pt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=po(t);if(typeof r=="string"){const n=_(this,pt).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=po(t);if(typeof r=="string"){const s=(n=_(this,pt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ge.batch(()=>{_(this,Mt).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,Mt).clear(),_(this,pt).clear()})}getAll(){return Array.from(_(this,Mt))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Zh(r,n))}findAll(t={}){return this.getAll().filter(r=>Zh(t,r))}notify(t){ge.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ge.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ae))))}},Mt=new WeakMap,pt=new WeakMap,$i=new WeakMap,Zf);function po(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ft,fr,De,zt,Ht,Fo,Hu,ep,Fb=(ep=class extends Cs{constructor(r,n){super();L(this,Ht);L(this,Ft);L(this,fr);L(this,De);L(this,zt);T(this,Ft,r),this.setOptions(n),this.bindMethods(),z(this,Ht,Fo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=_(this,Ft).defaultMutationOptions(r),pa(this.options,n)||_(this,Ft).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,De),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&bn(n.mutationKey)!==bn(this.options.mutationKey)?this.reset():((s=_(this,De))==null?void 0:s.state.status)==="pending"&&_(this,De).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_(this,De))==null||r.removeObserver(this)}onMutationUpdate(r){z(this,Ht,Fo).call(this),z(this,Ht,Hu).call(this,r)}getCurrentResult(){return _(this,fr)}reset(){var r;(r=_(this,De))==null||r.removeObserver(this),T(this,De,void 0),z(this,Ht,Fo).call(this),z(this,Ht,Hu).call(this)}mutate(r,n){var s;return T(this,zt,n),(s=_(this,De))==null||s.removeObserver(this),T(this,De,_(this,Ft).getMutationCache().build(_(this,Ft),this.options)),_(this,De).addObserver(this),_(this,De).execute(r)}},Ft=new WeakMap,fr=new WeakMap,De=new WeakMap,zt=new WeakMap,Ht=new WeakSet,Fo=function(){var n;const r=((n=_(this,De))==null?void 0:n.state)??$m();T(this,fr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Hu=function(r){ge.batch(()=>{var n,s,i,o,a,l,u,c;if(_(this,zt)&&this.hasListeners()){const d=_(this,fr).variables,h=_(this,fr).context,p={client:_(this,Ft),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=_(this,zt)).onSuccess)==null||s.call(n,r.data,d,h,p),(o=(i=_(this,zt)).onSettled)==null||o.call(i,r.data,null,d,h,p)):(r==null?void 0:r.type)==="error"&&((l=(a=_(this,zt)).onError)==null||l.call(a,r.error,d,h,p),(c=(u=_(this,zt)).onSettled)==null||c.call(u,void 0,r.error,d,h,p))}this.listeners.forEach(d=>{d(_(this,fr))})})},ep),Ot,tp,zb=(tp=class extends Cs{constructor(t={}){super();L(this,Ot);this.config=t,T(this,Ot,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??od(s,r);let o=this.get(i);return o||(o=new Nb({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){_(this,Ot).has(t.queryHash)||(_(this,Ot).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=_(this,Ot).get(t.queryHash);r&&(t.destroy(),r===t&&_(this,Ot).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ge.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,Ot).get(t)}getAll(){return[..._(this,Ot).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Xh(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Xh(t,n)):r}notify(t){ge.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ge.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ge.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ot=new WeakMap,tp),oe,pr,gr,cs,ds,mr,hs,fs,rp,Bb=(rp=class{constructor(e={}){L(this,oe);L(this,pr);L(this,gr);L(this,cs);L(this,ds);L(this,mr);L(this,hs);L(this,fs);T(this,oe,e.queryCache||new zb),T(this,pr,e.mutationCache||new Mb),T(this,gr,e.defaultOptions||{}),T(this,cs,new Map),T(this,ds,new Map),T(this,mr,0)}mount(){Qi(this,mr)._++,_(this,mr)===1&&(T(this,hs,ld.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,oe).onFocus())})),T(this,fs,ga.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,oe).onOnline())})))}unmount(){var e,t;Qi(this,mr)._--,_(this,mr)===0&&((e=_(this,hs))==null||e.call(this),T(this,hs,void 0),(t=_(this,fs))==null||t.call(this),T(this,fs,void 0))}isFetching(e){return _(this,oe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,pr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,oe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=_(this,oe).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Pr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return _(this,oe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=_(this,oe).get(n.queryHash),i=s==null?void 0:s.state.data,o=xb(t,i);if(o!==void 0)return _(this,oe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ge.batch(()=>_(this,oe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,oe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=_(this,oe);ge.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=_(this,oe);return ge.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ge.batch(()=>_(this,oe).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ae).catch(Ae)}invalidateQueries(e,t={}){return ge.batch(()=>(_(this,oe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ge.batch(()=>_(this,oe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ae)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ae)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=_(this,oe).build(this,t);return r.isStaleByTime(Pr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ae).catch(Ae)}fetchInfiniteQuery(e){return e.behavior=af(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ae).catch(Ae)}ensureInfiniteQueryData(e){return e.behavior=af(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ga.isOnline()?_(this,pr).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,oe)}getMutationCache(){return _(this,pr)}getDefaultOptions(){return _(this,gr)}setDefaultOptions(e){T(this,gr,e)}setQueryDefaults(e,t){_(this,cs).set(bn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,cs).values()],r={};return t.forEach(n=>{ki(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){_(this,ds).set(bn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,ds).values()],r={};return t.forEach(n=>{ki(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,gr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=od(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ad&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,gr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,oe).clear(),_(this,pr).clear()}},oe=new WeakMap,pr=new WeakMap,gr=new WeakMap,cs=new WeakMap,ds=new WeakMap,mr=new WeakMap,hs=new WeakMap,fs=new WeakMap,rp),Um=x.createContext(void 0),cd=e=>{const t=x.useContext(Um);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vb=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),S.jsx(Um.Provider,{value:e,children:t})),Dm=x.createContext(!1),Wb=()=>x.useContext(Dm);Dm.Provider;function Hb(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Kb=x.createContext(Hb()),qb=()=>x.useContext(Kb),Gb=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Qb=e=>{x.useEffect(()=>{e.clearReset()},[e])},Jb=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Tm(r,[e.error,n])),Yb=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Xb=(e,t)=>e.isLoading&&e.isFetching&&!t,Zb=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,uf=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function eS(e,t,r){var d,h,p,w,y;const n=Wb(),s=qb(),i=cd(),o=i.defaultQueryOptions(e);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",Yb(o),Gb(o,s),Qb(s);const a=!i.getQueryCache().get(o.queryHash),[l]=x.useState(()=>new t(i,o)),u=l.getOptimisticResult(o),c=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const g=c?l.subscribe(ge.batchCalls(v)):Ae;return l.updateResult(),g},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setOptions(o)},[o,l]),Zb(o,u))throw uf(o,l,s);if(Jb({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,o,u),o.experimental_prefetchInRender&&!_n&&Xb(u,n)){const v=a?uf(o,l,s):(y=i.getQueryCache().get(o.queryHash))==null?void 0:y.promise;v==null||v.catch(Ae).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function ma(e,t){return eS(e,Ib)}function Ku(e,t){const r=cd(),[n]=x.useState(()=>new Fb(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const s=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(ge.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,a)=>{n.mutate(o,a).catch(Ae)},[n]);if(s.error&&Tm(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function cf(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vi(...e){return t=>{let r=!1;const n=e.map(s=>{const i=cf(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():cf(e[s],null)}}}}function Ci(...e){return x.useCallback(Vi(...e),e)}var tS=Symbol.for("react.lazy"),ya=ka[" use ".trim().toString()];function rS(e){return typeof e=="object"&&e!==null&&"then"in e}function Mm(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===tS&&"_payload"in e&&rS(e._payload)}function Fm(e){const t=sS(e),r=x.forwardRef((n,s)=>{let{children:i,...o}=n;Mm(i)&&typeof ya=="function"&&(i=ya(i._payload));const a=x.Children.toArray(i),l=a.find(oS);if(l){const u=l.props.children,c=a.map(d=>d===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:d);return S.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,c):null})}return S.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var nS=Fm("Slot");function sS(e){const t=x.forwardRef((r,n)=>{let{children:s,...i}=r;if(Mm(s)&&typeof ya=="function"&&(s=ya(s._payload)),x.isValidElement(s)){const o=lS(s),a=aS(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Vi(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iS=Symbol("radix.slottable");function oS(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iS}function aS(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function lS(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function zm(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=zm(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Bm(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=zm(e))&&(n&&(n+=" "),n+=t);return n}const df=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hf=Bm,Vm=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return hf(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const c=r==null?void 0:r[u],d=i==null?void 0:i[u];if(c===null)return null;const h=df(c)||df(d);return s[u][h]}),a=r&&Object.entries(r).reduce((u,c)=>{let[d,h]=c;return h===void 0||(u[d]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,c)=>{let{class:d,className:h,...p}=c;return Object.entries(p).every(w=>{let[y,v]=w;return Array.isArray(v)?v.includes({...i,...a}[y]):{...i,...a}[y]===v})?[...u,d,h]:u},[]);return hf(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},dd="-",uS=e=>{const t=dS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(dd);return a[0]===""&&a.length!==1&&a.shift(),Wm(a,t)||cS(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},Wm=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Wm(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(dd);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ff=/^\[(.+)\]$/,cS=e=>{if(ff.test(e)){const t=ff.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},dS=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return fS(Object.entries(e.classGroups),r).forEach(([i,o])=>{qu(o,n,i,t)}),n},qu=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:pf(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(hS(s)){qu(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{qu(o,pf(t,i),r,n)})})},pf=(e,t)=>{let r=e;return t.split(dd).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hS=e=>e.isThemeGetter,fS=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,pS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Hm="!",gS=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,c=0,d;for(let v=0;v<a.length;v++){let g=a[v];if(u===0){if(g===s&&(n||a.slice(v,v+i)===t)){l.push(a.slice(c,v)),c=v+i;continue}if(g==="/"){d=v;continue}}g==="["?u++:g==="]"&&u--}const h=l.length===0?a:a.substring(c),p=h.startsWith(Hm),w=p?h.substring(1):h,y=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:o}):o},mS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},yS=e=>({cache:pS(e.cacheSize),parseClassName:gS(e),...uS(e)}),vS=/\s+/,wS=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(vS);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let w=!!p,y=n(w?h.substring(0,p):h);if(!y){if(!w){a=u+(a.length>0?" "+a:a);continue}if(y=n(h),!y){a=u+(a.length>0?" "+a:a);continue}w=!1}const v=mS(c).join(":"),g=d?v+Hm:v,f=g+y;if(i.includes(f))continue;i.push(f);const m=s(y,w);for(let b=0;b<m.length;++b){const E=m[b];i.push(g+E)}a=u+(a.length>0?" "+a:a)}return a};function _S(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Km(t))&&(n&&(n+=" "),n+=r);return n}const Km=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Km(e[n]))&&(r&&(r+=" "),r+=t);return r};function bS(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((c,d)=>d(c),e());return r=yS(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const c=wS(l,r);return s(l,c),c}return function(){return i(_S.apply(null,arguments))}}const X=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},qm=/^\[(?:([a-z-]+):)?(.+)\]$/i,SS=/^\d+\/\d+$/,xS=new Set(["px","full","screen"]),ES=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nt=e=>Zn(e)||xS.has(e)||SS.test(e),Zt=e=>Os(e,"length",$S),Zn=e=>!!e&&!Number.isNaN(Number(e)),kl=e=>Os(e,"number",Zn),Ms=e=>!!e&&Number.isInteger(Number(e)),PS=e=>e.endsWith("%")&&Zn(e.slice(0,-1)),F=e=>qm.test(e),er=e=>ES.test(e),TS=new Set(["length","size","percentage"]),jS=e=>Os(e,TS,Gm),AS=e=>Os(e,"position",Gm),NS=new Set(["image","url"]),IS=e=>Os(e,NS,DS),LS=e=>Os(e,"",US),Fs=()=>!0,Os=(e,t,r)=>{const n=qm.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$S=e=>kS.test(e)&&!CS.test(e),Gm=()=>!1,US=e=>OS.test(e),DS=e=>RS.test(e),MS=()=>{const e=X("colors"),t=X("spacing"),r=X("blur"),n=X("brightness"),s=X("borderColor"),i=X("borderRadius"),o=X("borderSpacing"),a=X("borderWidth"),l=X("contrast"),u=X("grayscale"),c=X("hueRotate"),d=X("invert"),h=X("gap"),p=X("gradientColorStops"),w=X("gradientColorStopPositions"),y=X("inset"),v=X("margin"),g=X("opacity"),f=X("padding"),m=X("saturate"),b=X("scale"),E=X("sepia"),k=X("skew"),C=X("space"),R=X("translate"),U=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",F,t],B=()=>[F,t],We=()=>["",Nt,Zt],Dr=()=>["auto",Zn,F],Ki=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Yt=()=>["solid","dashed","dotted","double","none"],kn=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",F],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Zn,F];return{cacheSize:500,separator:":",theme:{colors:[Fs],spacing:[Nt,Zt],blur:["none","",er,F],brightness:K(),borderColor:[e],borderRadius:["none","","full",er,F],borderSpacing:B(),borderWidth:We(),contrast:K(),grayscale:D(),hueRotate:K(),invert:D(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[PS,Zt],inset:Q(),margin:Q(),opacity:K(),padding:B(),saturate:K(),scale:K(),sepia:D(),skew:K(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",F]}],container:["container"],columns:[{columns:[er]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ki(),F]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ms,F]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",F]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Ms,F]}],"grid-cols":[{"grid-cols":[Fs]}],"col-start-end":[{col:["auto",{span:["full",Ms,F]},F]}],"col-start":[{"col-start":Dr()}],"col-end":[{"col-end":Dr()}],"grid-rows":[{"grid-rows":[Fs]}],"row-start-end":[{row:["auto",{span:[Ms,F]},F]}],"row-start":[{"row-start":Dr()}],"row-end":[{"row-end":Dr()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",F]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",F]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",F,t]}],"min-w":[{"min-w":[F,t,"min","max","fit"]}],"max-w":[{"max-w":[F,t,"none","full","min","max","fit","prose",{screen:[er]},er]}],h:[{h:[F,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[F,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[F,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[F,t,"auto","min","max","fit"]}],"font-size":[{text:["base",er,Zt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kl]}],"font-family":[{font:[Fs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",F]}],"line-clamp":[{"line-clamp":["none",Zn,kl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nt,F]}],"list-image":[{"list-image":["none",F]}],"list-style-type":[{list:["none","disc","decimal",F]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Yt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nt,Zt]}],"underline-offset":[{"underline-offset":["auto",Nt,F]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",F]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",F]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ki(),AS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Yt(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Yt()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Yt()]}],"outline-offset":[{"outline-offset":[Nt,F]}],"outline-w":[{outline:[Nt,Zt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:We()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Nt,Zt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",er,LS]}],"shadow-color":[{shadow:[Fs]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...kn(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":kn()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",er,F]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[m]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",F]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",F]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",F]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ms,F]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",F]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",F]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",F]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nt,Zt,kl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FS=bS(MS);function et(...e){return FS(Bm(e))}const zS=Vm("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),jt=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?nS:"button";return S.jsx(o,{className:et(zS({variant:t,size:r,className:e})),ref:i,...s})});jt.displayName="Button";const hn=x.forwardRef(({className:e,...t},r)=>S.jsx("div",{ref:r,className:et("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));hn.displayName="Card";const fn=x.forwardRef(({className:e,...t},r)=>S.jsx("div",{ref:r,className:et("flex flex-col space-y-1.5 p-6",e),...t}));fn.displayName="CardHeader";const pn=x.forwardRef(({className:e,...t},r)=>S.jsx("h3",{ref:r,className:et("text-2xl font-semibold leading-none tracking-tight",e),...t}));pn.displayName="CardTitle";const es=x.forwardRef(({className:e,...t},r)=>S.jsx("p",{ref:r,className:et("text-sm text-muted-foreground",e),...t}));es.displayName="CardDescription";const Wi=x.forwardRef(({className:e,...t},r)=>S.jsx("div",{ref:r,className:et("p-6 pt-0",e),...t}));Wi.displayName="CardContent";const Qm=x.forwardRef(({className:e,...t},r)=>S.jsx("div",{ref:r,className:et("flex items-center p-6 pt-0",e),...t}));Qm.displayName="CardFooter";var BS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VS=BS.reduce((e,t)=>{const r=Fm(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),WS="Separator",gf="horizontal",HS=["horizontal","vertical"],Jm=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=gf,...s}=e,i=KS(n)?n:gf,a=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return S.jsx(VS.div,{"data-orientation":i,...a,...s,ref:t})});Jm.displayName=WS;function KS(e){return HS.includes(e)}var Ym=Jm;const Va=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>S.jsx(Ym,{ref:s,decorative:r,orientation:t,className:et("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Va.displayName=Ym.displayName;const qS=`You are an expert in curriculum design and software engineering. Your task is to generate a comprehensive and structured curriculum for the given programming language or technology, based on the provided JSON data.

The output should be a single JSON object that strictly adheres to the following JSON structure. All fields must be present, even if empty (e.g., empty array [] or null).

\`\`\`json
{
  "language": "string",
  "generated_at": "string (ISO 8601 format, e.g., '2023-10-27T10:00:00')",
  "overall_learning_path": [
    {
      "level": "string (e.g., 'Beginner', 'Intermediate', 'Advanced', 'Expert')",
      "estimated_hours": "number (total estimated hours for this level)",
      "topics": [
        {
          "id": "string (unique identifier for the topic)",
          "title": "string",
          "description": "string",
          "order": "number (recommended learning order within its level)",
          "estimated_hours": "number",
          "prerequisites": ["string (list of topic IDs that are prerequisites)"],
          "outcomes": ["string (measurable skills gained)"],
          "example_exercises": ["string"],
          "helpful_references": [
            {
              "source_id": "string (refers to CanonicalSourceDTO.id)",
              "url": "string (direct URL to the relevant section if possible)",
              "snippet": "string (short text excerpt from the source)",
              "short_evidence": "string (AI-generated short evidence line)"
            }
          ],
          "explainability": ["string (which input sources influenced this topic)"],
          "subtopics": []
        }
      ]
    }
  ],
  "canonical_sources": [
    {
      "id": "string (unique identifier for the source, e.g., a slug derived from the URL or a UUID)",
      "title": "string",
      "url": "string",
      "steward": "string (e.g., 'Oracle', 'MDN', 'Spring')",
      "type": "string (e.g., 'Official Docs', 'Tutorial', 'API Reference')",
      "confidence": "number (LLM's confidence in this source's authority)",
      "short_summary": "string (AI-generated brief description)"
    }
  ],
  "core_sources": ["string"],
  "supplemental_sources": ["string"],
  "practice_projects": [
    {
      "title": "string",
      "description": "string",
      "difficulty": "string (e.g., 'Beginner', 'Intermediate')",
      "estimated_hours": "number",
      "outcomes": ["string (skills gained from completing this project)"]
    }
  ],
  "explanation": "string (how the LLM consolidated sources and decided ordering)",
  "model_version": "string (LLM model version used)"
}
\`\`\`

Here is the JSON data:
{curriculumData}`,GS=`You are an expert in curriculum design and software engineering. Your task is to generate a curated list of 5-10 high-quality, authoritative learning resources for the given subtopic.

These resources should include a mix of: official documentation, verified tutorials, YouTube videos from authoritative instructors, GitHub repos, books, and high-quality technical articles.

The selection and confidence scoring of these resources should be heavily influenced by the provided trust profile, which weighs factors like authority, recency, clarity, and depth.

The output should be a single JSON array that strictly adheres to the following structure, where each item is a LearningResourceDTO:

\`\`\`json
[
  {
    "title": "string (Title of the learning resource)",
    "url": "string (URL of the learning resource)",
    "type": "string (Type of resource: 'Documentation', 'Video', 'Article', 'GitHub', 'Book', 'Tutorial')",
    "authority_score": "number (A score from 0.0 to 1.0 indicating its authority based on the trust profile)",
    "short_summary": "string (AI-generated brief description of the resource)"
  }
]
\`\`\`

Here is the context:
Language: {language}
Subtopic: {subtopicTitle}
Trust Profile Weights: {trustProfileData}`;let go=null;const zo=new Map,Cl=new Map,Xm=new Map,Zm="curriculumCache";async function ey(){return go||(go=(async()=>{throw new Error("VITE_CURRICULUM_DATA_URL is not configured.")})(),go)}function At(e){return e.toLowerCase().replace(/developer path/g,"").replace(/engineer path/g,"").replace(/developer/g,"").replace(/engineer/g,"").replace(/frontend/g,"").replace(/backend/g,"").replace(/fullstack/g,"").replace(/basics/g,"").replace(/learning path/g,"").replace(/[^a-z0-9+]+/g,"-").replace(/^-+|-+$/g,"")}async function QS(){const e=await ey(),t=new Map;return e.forEach(r=>{const n=typeof r.name=="string"?r.name:"",s=At(n);!s||t.has(s)||t.set(s,n||s)}),Array.from(t.entries()).map(([r,n])=>({slug:r,label:n}))}async function Wa(e){const t=At(e);return(await ey()).find(s=>At(String(s.name??""))===t)??null}async function hd(e){const t=await Wa(e);return t?ty(t):null}async function ri(e){var o,a,l;const n=await fetch("/api/llm-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"user",content:e}]})});if(!n.ok){const u=await n.text();throw new Error(`LLM proxy call failed: ${n.status} ${n.statusText} - ${u}`)}const s=await n.json(),i=((l=(a=(o=s==null?void 0:s.choices)==null?void 0:o[0])==null?void 0:a.message)==null?void 0:l.content)??"";return ZS(i)}async function JS(e){var d;const t=At(e),r=await Wa(t);if(!r)throw new Error(`No curriculum config found for language "${e}".`);const n=((d=r.topics)==null?void 0:d.topics)??r.topics??r,s=JSON.stringify(n,null,2),i=await fd(s);Xm.set(t,i);const o=`${t}:${i}:base`,a=zo.get(o)??iy(o);if(a)return zo.set(o,a),a;const l=qS.replace("{curriculumData}",s),u=await ri(l),c=ex(u,t);return sy(o,c,zo),c}async function YS(e,t,r){const n=GS.replace("{language}",e).replace("{subtopicTitle}",t).replace("{trustProfileData}",JSON.stringify(r??{})),s=await ri(n);return(Array.isArray(s)?s:Array.isArray(s==null?void 0:s.items)?s.items:[]).map(ny)}async function XS(e,t,r){var h;const n=At(e),s=r?null:await Wa(n),i=r??((h=s==null?void 0:s.trustProfiles)==null?void 0:h.trustProfiles)??(s==null?void 0:s.trustProfiles)??{},o=Xm.get(n)??(s?await ty(s):await fd(JSON.stringify(t))),a=`${n}:${o}:enriched`,l=Cl.get(a)??iy(a);if(l)return Cl.set(a,l),l;const u=async p=>{const w=[];for(const v of p.subtopics??[])w.push(await u(v));const y=await YS(n,p.title,i);return{...p,subtopics:w,learning_resources:y}},c=[];for(const p of t.overall_learning_path??[]){const w=[];for(const y of p.topics??[])w.push(await u(y));c.push({...p,topics:w})}const d={...t,overall_learning_path:c};return sy(a,d,Cl),d}async function fd(e){if(typeof crypto<"u"&&crypto.subtle){const r=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}let t=0;for(let r=0;r<e.length;r+=1)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t.toString(16)}async function ty(e){var r;const t=((r=e.topics)==null?void 0:r.topics)??e.topics??e;return fd(JSON.stringify(t))}function ZS(e){const t=e.trim();if(!t)return{};try{return JSON.parse(t)}catch{}const r=t.replace(/^```json/i,"").replace(/^```/,"").replace(/```$/,"").trim();try{return JSON.parse(r)}catch{}const n=r.indexOf("{"),s=r.lastIndexOf("}"),i=r.indexOf("["),o=r.lastIndexOf("]");if(n!==-1&&s>n){const a=r.slice(n,s+1);try{return JSON.parse(a)}catch{}}if(i!==-1&&o>i){const a=r.slice(i,o+1);try{return JSON.parse(a)}catch{}}return{}}function ex(e,t){const r=Array.isArray((e==null?void 0:e.canonical_sources)??(e==null?void 0:e.canonicalSources))?(e.canonical_sources??e.canonicalSources).map(rx):[],n=(e==null?void 0:e.overall_learning_path)??(e==null?void 0:e.overallLearningPath)??[],s=Array.isArray(n)?n.map(tx):[],i=(e==null?void 0:e.practice_projects)??(e==null?void 0:e.practiceProjects)??[],o=Array.isArray(i)?i.map(sx):[];return{language:typeof(e==null?void 0:e.language)=="string"?e.language:t,generated_at:typeof(e==null?void 0:e.generated_at)=="string"?e.generated_at:typeof(e==null?void 0:e.generatedAt)=="string"?e.generatedAt:new Date().toISOString(),canonical_sources:r,overall_learning_path:s,core_sources:Array.isArray((e==null?void 0:e.core_sources)??(e==null?void 0:e.coreSources))?e.core_sources??e.coreSources:[],supplemental_sources:Array.isArray((e==null?void 0:e.supplemental_sources)??(e==null?void 0:e.supplementalSources))?e.supplemental_sources??e.supplementalSources:[],practice_projects:o,explanation:typeof(e==null?void 0:e.explanation)=="string"?e.explanation:"",model_version:typeof(e==null?void 0:e.model_version)=="string"?e.model_version:typeof(e==null?void 0:e.modelVersion)=="string"?e.modelVersion:""}}function tx(e){const t=(e==null?void 0:e.topics)??[],r=Array.isArray(t)?t.map(ry):[];return{level:typeof(e==null?void 0:e.level)=="string"?e.level:"",estimated_hours:Number((e==null?void 0:e.estimated_hours)??(e==null?void 0:e.estimatedHours)??0),topics:r}}function ry(e){var a;const t=(e==null?void 0:e.subtopics)??[],r=Array.isArray(t)?t.map(ry):[],n=(e==null?void 0:e.helpful_references)??(e==null?void 0:e.helpfulReferences)??[],s=Array.isArray(n)?n.map(nx):[],i=(e==null?void 0:e.learning_resources)??(e==null?void 0:e.learningResources)??[],o=Array.isArray(i)?i.map(ny):[];return{id:typeof(e==null?void 0:e.id)=="string"?e.id:((a=crypto.randomUUID)==null?void 0:a.call(crypto))??String(Math.random()),title:typeof(e==null?void 0:e.title)=="string"?e.title:"",description:typeof(e==null?void 0:e.description)=="string"?e.description:"",order:Number((e==null?void 0:e.order)??0),estimated_hours:Number((e==null?void 0:e.estimated_hours)??(e==null?void 0:e.estimatedHours)??0),prerequisites:Array.isArray(e==null?void 0:e.prerequisites)?e.prerequisites:[],outcomes:Array.isArray(e==null?void 0:e.outcomes)?e.outcomes:[],example_exercises:Array.isArray((e==null?void 0:e.example_exercises)??(e==null?void 0:e.exampleExercises))?e.example_exercises??e.exampleExercises:[],helpful_references:s,explainability:Array.isArray(e==null?void 0:e.explainability)?e.explainability:[],subtopics:r,learning_resources:o}}function rx(e){return{id:typeof(e==null?void 0:e.id)=="string"?e.id:"",title:typeof(e==null?void 0:e.title)=="string"?e.title:"",url:typeof(e==null?void 0:e.url)=="string"?e.url:"",steward:typeof(e==null?void 0:e.steward)=="string"?e.steward:"",type:typeof(e==null?void 0:e.type)=="string"?e.type:"",confidence:Number((e==null?void 0:e.confidence)??0),short_summary:typeof(e==null?void 0:e.short_summary)=="string"?e.short_summary:typeof(e==null?void 0:e.shortSummary)=="string"?e.shortSummary:""}}function nx(e){return{sourceId:typeof(e==null?void 0:e.sourceId)=="string"?e.sourceId:typeof(e==null?void 0:e.source_id)=="string"?e.source_id:"",url:typeof(e==null?void 0:e.url)=="string"?e.url:"",snippet:typeof(e==null?void 0:e.snippet)=="string"?e.snippet:void 0,short_evidence:typeof(e==null?void 0:e.short_evidence)=="string"?e.short_evidence:typeof(e==null?void 0:e.shortEvidence)=="string"?e.shortEvidence:void 0}}function ny(e){return{title:typeof(e==null?void 0:e.title)=="string"?e.title:"",url:typeof(e==null?void 0:e.url)=="string"?e.url:"",type:typeof(e==null?void 0:e.type)=="string"?e.type:"",authority_score:Number((e==null?void 0:e.authority_score)??(e==null?void 0:e.authorityScore)??0),short_summary:typeof(e==null?void 0:e.short_summary)=="string"?e.short_summary:typeof(e==null?void 0:e.shortSummary)=="string"?e.shortSummary:""}}function sx(e){return{title:typeof(e==null?void 0:e.title)=="string"?e.title:"",description:typeof(e==null?void 0:e.description)=="string"?e.description:"",difficulty:typeof(e==null?void 0:e.difficulty)=="string"?e.difficulty:"",estimated_hours:Number((e==null?void 0:e.estimated_hours)??(e==null?void 0:e.estimatedHours)??0),outcomes:Array.isArray(e==null?void 0:e.outcomes)?e.outcomes:[]}}function sy(e,t,r=zo){r.set(e,t);try{typeof localStorage<"u"&&localStorage.setItem(`${Zm}:${e}`,JSON.stringify(t))}catch{}}function iy(e){try{if(typeof localStorage>"u")return null;const t=localStorage.getItem(`${Zm}:${e}`);return t?JSON.parse(t):null}catch{return null}}var Gu=function(e,t){return Gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Gu(e,t)};function oy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var va=function(){return va=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},va.apply(this,arguments)};function Rs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ay(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function ly(e,t){return function(r,n){t(r,n,e)}}function uy(e,t,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d,h=!1,p=r.length-1;p>=0;p--){var w={};for(var y in n)w[y]=y==="access"?{}:n[y];for(var y in n.access)w.access[y]=n.access[y];w.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var v=(0,r[p])(a==="accessor"?{get:c.get,set:c.set}:c[l],w);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=o(v.get))&&(c.get=d),(d=o(v.set))&&(c.set=d),(d=o(v.init))&&s.unshift(d)}else(d=o(v))&&(a==="field"?s.unshift(d):c[l]=d)}u&&Object.defineProperty(u,n.name,c),h=!0}function cy(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function dy(e){return typeof e=="symbol"?e:"".concat(e)}function hy(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function fy(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function N(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function py(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ha=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function gy(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ha(t,e,r)}function wa(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pd(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function my(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pd(arguments[t]));return e}function yy(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function vy(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function bs(e){return this instanceof bs?(this.v=e,this):new bs(e)}function wy(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(w){return Promise.resolve(w).then(p,d)}}function a(p,w){n[p]&&(s[p]=function(y){return new Promise(function(v,g){i.push([p,y,v,g])>1||l(p,y)})},w&&(s[p]=w(s[p])))}function l(p,w){try{u(n[p](w))}catch(y){h(i[0][3],y)}}function u(p){p.value instanceof bs?Promise.resolve(p.value.v).then(c,d):h(i[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function h(p,w){p(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function _y(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:bs(e[s](o)),done:!1}:i?i(o):o}:i}}function by(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof wa=="function"?wa(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function Sy(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var ix=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Qu=function(e){return Qu=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Qu(e)};function xy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Qu(e),n=0;n<r.length;n++)r[n]!=="default"&&Ha(t,e,r[n]);return ix(t,e),t}function Ey(e){return e&&e.__esModule?e:{default:e}}function ky(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Cy(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Oy(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Ry(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var ox=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Py(e){function t(i){e.error=e.hasError?new ox(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Ty(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const ax={__extends:oy,__assign:va,__rest:Rs,__decorate:ay,__param:ly,__esDecorate:uy,__runInitializers:cy,__propKey:dy,__setFunctionName:hy,__metadata:fy,__awaiter:N,__generator:py,__createBinding:Ha,__exportStar:gy,__values:wa,__read:pd,__spread:my,__spreadArrays:yy,__spreadArray:vy,__await:bs,__asyncGenerator:wy,__asyncDelegator:_y,__asyncValues:by,__makeTemplateObject:Sy,__importStar:xy,__importDefault:Ey,__classPrivateFieldGet:ky,__classPrivateFieldSet:Cy,__classPrivateFieldIn:Oy,__addDisposableResource:Ry,__disposeResources:Py,__rewriteRelativeImportExtension:Ty},lx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ry,get __assign(){return va},__asyncDelegator:_y,__asyncGenerator:wy,__asyncValues:by,__await:bs,__awaiter:N,__classPrivateFieldGet:ky,__classPrivateFieldIn:Oy,__classPrivateFieldSet:Cy,__createBinding:Ha,__decorate:ay,__disposeResources:Py,__esDecorate:uy,__exportStar:gy,__extends:oy,__generator:py,__importDefault:Ey,__importStar:xy,__makeTemplateObject:Sy,__metadata:fy,__param:ly,__propKey:dy,__read:pd,__rest:Rs,__rewriteRelativeImportExtension:Ty,__runInitializers:cy,__setFunctionName:hy,__spread:my,__spreadArray:vy,__spreadArrays:yy,__values:wa,default:ax},Symbol.toStringTag,{value:"Module"})),ux=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class gd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class cx extends gd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mf extends gd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yf extends gd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ju;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ju||(Ju={}));class dx{constructor(t,{headers:r={},customFetch:n,region:s=Ju.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=ux(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return N(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:p}=n;p||(p=this.region);const w=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,w.searchParams.set("forceFunctionRegion",p));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let v=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(v=o.signal,c.addEventListener("abort",()=>o.abort())):v=o.signal);const g=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:y,signal:v}).catch(E=>{throw new cx(E)}),f=g.headers.get("x-relay-error");if(f&&f==="true")throw new mf(g);if(!g.ok)throw new yf(g);let m=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return m==="application/json"?b=yield g.json():m==="application/octet-stream"||m==="application/pdf"?b=yield g.blob():m==="text/event-stream"?b=g:m==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof yf||a instanceof mf?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Ne={};const Ps=Vv(lx);var mo={},yo={},vo={},wo={},_o={},bo={},vf;function jy(){if(vf)return bo;vf=1,Object.defineProperty(bo,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return bo.default=e,bo}var wf;function Ay(){if(wf)return _o;wf=1,Object.defineProperty(_o,"__esModule",{value:!0});const t=Ps.__importDefault(jy());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let p=null,w=null,y=null,v=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const E=await l.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?w=E:w=JSON.parse(E))}const m=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),b=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");m&&b&&b.length>1&&(y=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(p={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,v=406,g="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const m=await l.text();try{p=JSON.parse(m),Array.isArray(p)&&l.status===404&&(w=[],p=null,v=200,g="OK")}catch{l.status===404&&m===""?(v=204,g="No Content"):p={message:m}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:w,count:y,status:v,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,d,h,p,w;let y="";const v=l==null?void 0:l.cause;if(v){const g=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",f=(c=v==null?void 0:v.code)!==null&&c!==void 0?c:"";y=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${g}`,f&&(y+=` (${f})`),v!=null&&v.stack&&(y+=`
${v.stack}`)}else y=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(w=l==null?void 0:l.name)!==null&&w!==void 0?w:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return _o.default=r,_o}var _f;function Ny(){if(_f)return wo;_f=1,Object.defineProperty(wo,"__esModule",{value:!0});const t=Ps.__importDefault(Ay());class r extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return wo.default=r,wo}var bf;function md(){if(bf)return vo;bf=1,Object.defineProperty(vo,"__esModule",{value:!0});const t=Ps.__importDefault(Ny()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return vo.default=n,vo}var Sf;function Iy(){if(Sf)return yo;Sf=1,Object.defineProperty(yo,"__esModule",{value:!0});const t=Ps.__importDefault(md());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return yo.default=r,yo}var xf;function hx(){if(xf)return mo;xf=1,Object.defineProperty(mo,"__esModule",{value:!0});const e=Ps,t=e.__importDefault(Iy()),r=e.__importDefault(md());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${i}`);let p;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(d="POST",p=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new r.default({method:d,url:h,headers:w,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return mo.default=n,mo}Object.defineProperty(Ne,"__esModule",{value:!0});var Ly=Ne.PostgrestError=Hy=Ne.PostgrestBuilder=Vy=Ne.PostgrestTransformBuilder=zy=Ne.PostgrestFilterBuilder=My=Ne.PostgrestQueryBuilder=Uy=Ne.PostgrestClient=void 0;const Ts=Ps,$y=Ts.__importDefault(hx());var Uy=Ne.PostgrestClient=$y.default;const Dy=Ts.__importDefault(Iy());var My=Ne.PostgrestQueryBuilder=Dy.default;const Fy=Ts.__importDefault(md());var zy=Ne.PostgrestFilterBuilder=Fy.default;const By=Ts.__importDefault(Ny());var Vy=Ne.PostgrestTransformBuilder=By.default;const Wy=Ts.__importDefault(Ay());var Hy=Ne.PostgrestBuilder=Wy.default;const Ky=Ts.__importDefault(jy());Ly=Ne.PostgrestError=Ky.default;var qy=Ne.default={PostgrestClient:$y.default,PostgrestQueryBuilder:Dy.default,PostgrestFilterBuilder:Fy.default,PostgrestTransformBuilder:By.default,PostgrestBuilder:Wy.default,PostgrestError:Ky.default};const fx=np({__proto__:null,get PostgrestBuilder(){return Hy},get PostgrestClient(){return Uy},get PostgrestError(){return Ly},get PostgrestFilterBuilder(){return zy},get PostgrestQueryBuilder(){return My},get PostgrestTransformBuilder(){return Vy},default:qy},[Ne]),{PostgrestClient:px,PostgrestQueryBuilder:t1,PostgrestFilterBuilder:r1,PostgrestTransformBuilder:n1,PostgrestBuilder:s1,PostgrestError:i1}=qy||fx;class gx{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mx="2.84.0",yx=`realtime-js/${mx}`,Gy="1.0.0",vx="2.0.0",Ef=Gy,Yu=1e4,wx=1e3,_x=100;var Kr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kr||(Kr={}));var fe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fe||(fe={}));var mt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(mt||(mt={}));var Xu;(function(e){e.websocket="websocket"})(Xu||(Xu={}));var qr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qr||(qr={}));class bx{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,i;const o=t.topic,a=(r=t.ref)!==null&&r!==void 0?r:"",l=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,c=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(h),w=0;p.setUint8(w++,this.KINDS.userBroadcastPush),p.setUint8(w++,l.length),p.setUint8(w++,a.length),p.setUint8(w++,o.length),p.setUint8(w++,u.length),p.setUint8(w++,this.BINARY_ENCODING),Array.from(l,v=>p.setUint8(w++,v.charCodeAt(0))),Array.from(a,v=>p.setUint8(w++,v.charCodeAt(0))),Array.from(o,v=>p.setUint8(w++,v.charCodeAt(0))),Array.from(u,v=>p.setUint8(w++,v.charCodeAt(0)));var y=new Uint8Array(h.byteLength+c.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(c),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,i;const o=t.topic,a=(r=t.ref)!==null&&r!==void 0?r:"",l=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,c=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,w=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(w),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,l.length),y.setUint8(v++,a.length),y.setUint8(v++,o.length),y.setUint8(v++,u.length),y.setUint8(v++,this.JSON_ENCODING),Array.from(l,f=>y.setUint8(v++,f.charCodeAt(0))),Array.from(a,f=>y.setUint8(v++,f.charCodeAt(0))),Array.from(o,f=>y.setUint8(v++,f.charCodeAt(0))),Array.from(u,f=>y.setUint8(v++,f.charCodeAt(0)));var g=new Uint8Array(w.byteLength+h.byteLength);return g.set(new Uint8Array(w),0),g.set(new Uint8Array(h),w.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,w={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(w.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Qy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const kf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Sx(o,e,t,s),i),{}):{}},Sx=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Jy(i,o):Zu(o)},Jy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Cx(t,r)}switch(e){case J.bool:return xx(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Ex(t);case J.json:case J.jsonb:return kx(t);case J.timestamp:return Ox(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return Zu(t);default:return Zu(t)}},Zu=e=>e,xx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ex=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Cx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Jy(t,a))}return e},Ox=e=>typeof e=="string"?e.replace(" ","T"):e,Yy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ol{constructor(t,r,n={},s=Yu){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cf||(Cf={}));class ni{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ni.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ni.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ni.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(v=>v.presence_ref),p=d.map(v=>v.presence_ref),w=c.filter(v=>p.indexOf(v.presence_ref)<0),y=d.filter(v=>h.indexOf(v.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Of;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Of||(Of={}));var si;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(si||(si={}));var $t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($t||($t={}));class yd{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ol(this,mt.join,this.params,this.timeout),this.rejoinTimer=new Qy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ni(this),this.broadcastEndpointURL=Yy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[si.PRESENCE]&&this.bindings[si.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t($t.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t($t.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){t==null||t($t.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,g=[];for(let f=0;f<v;f++){const m=y[f],{filter:{event:b,schema:E,table:k,filter:C}}=m,R=p&&p[f];if(R&&R.event===b&&R.schema===E&&R.table===k&&R.filter===C)g.push(Object.assign(Object.assign({},m),{id:R.id}));else{this.unsubscribe(),this.state=fe.errored,t==null||t($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t($t.SUBSCRIBED);return}}).receive("error",p=>{this.state=fe.errored,t==null||t($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===fe.joined&&t===si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ol(this,mt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ol(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_x){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=mt;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,y,v;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,y,v,g,f,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,E=(w=p.filter)===null||w===void 0?void 0:w.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const b=(f=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:y,table:v,commit_timestamp:g,type:f,errors:m}=w;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:g,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(w))}p.callback(h,n)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yd.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mt.close,{},t)}_onError(t){this._on(mt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=kf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=kf(t.columns,t.old_record)),r}}const Rl=()=>{},So={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rx=[1e3,2e3,5e3,1e4],Px=1e4,Tx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jx{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yu,this.transport=null,this.heartbeatIntervalMs=So.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rl,this.ref=0,this.reconnectTimer=null,this.vsn=Ef,this.logger=Rl,this.conn=null,this.sendBuffer=[],this.serializer=new bx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Xu.websocket}`,this.httpEndpoint=Yy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kr.connecting:return qr.Connecting;case Kr.open:return qr.Open;case Kr.closing:return qr.Closing;default:return qr.Closed}}isConnected(){return this.connectionState()===qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new yd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},So.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kr.open||this.conn.readyState===Kr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(mt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Tx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:yx};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(mt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Qy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},So.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,c,d,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Yu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:So.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Rl,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Ef,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>Rx[w-1]||Px,this.vsn){case Gy:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(w,y)=>y(JSON.stringify(w)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(w,y)=>y(JSON.parse(w));break;case vx:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function re(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ax extends vd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ec extends vd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const wd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Nx=()=>Response,tc=e=>{if(Array.isArray(e))return e.map(r=>tc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=tc(n)}),t},Ix=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Pl=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Lx=(e,t,r)=>N(void 0,void 0,void 0,function*(){const n=yield Nx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Ax(Pl(s),i,o))}).catch(s=>{t(new ec(Pl(s),s))}):t(new ec(Pl(e),e))}),$x=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Ix(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Hi(e,t,r,n,s,i){return N(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,$x(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Lx(l,a,n))})})}function Oi(e,t,r,n){return N(this,void 0,void 0,function*(){return Hi(e,"GET",t,r,n)})}function ht(e,t,r,n,s){return N(this,void 0,void 0,function*(){return Hi(e,"POST",t,n,s,r)})}function rc(e,t,r,n,s){return N(this,void 0,void 0,function*(){return Hi(e,"PUT",t,n,s,r)})}function Ux(e,t,r,n){return N(this,void 0,void 0,function*(){return Hi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function _d(e,t,r,n,s){return N(this,void 0,void 0,function*(){return Hi(e,"DELETE",t,n,s,r)})}class Dx{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return N(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(re(t))return{data:null,error:t};throw t}})}}var Xy;class Mx{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Xy]="BlobDownloadBuilder",this.promise=null}asStream(){return new Dx(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return N(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(re(t))return{data:null,error:t};throw t}})}}Xy=Symbol.toStringTag;const Fx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zx{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=wd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return N(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Rf),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield(t=="PUT"?rc:ht)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}upload(t,r,n){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return N(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Rf.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield rc(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return N(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ht(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new vd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}update(t,r,n){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return N(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}copy(t,r,n){return N(this,void 0,void 0,function*(){try{return{data:{path:(yield ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return N(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return N(this,void 0,void 0,function*(){try{const s=yield ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Oi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Mx(l,this.shouldThrowOnError)}info(t){return N(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Oi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}exists(t){return N(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ux(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n)&&n instanceof ec){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return N(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}list(t,r,n){return N(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Fx),r),{prefix:t||""});return{data:yield ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}listV2(t,r){return N(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ht(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Zy="2.84.0",ev={"X-Client-Info":`storage-js/${Zy}`};class Bx{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ev),r),this.fetch=wd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return N(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Oi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}getBucket(t){return N(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}createBucket(t){return N(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ht(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return N(this,void 0,void 0,function*(){try{return{data:yield rc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}emptyBucket(t){return N(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}deleteBucket(t){return N(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Vx{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ev),r),this.fetch=wd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return N(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}listBuckets(t){return N(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Oi(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}deleteBucket(t){return N(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}}const bd={"X-Client-Info":`storage-js/${Zy}`,"Content-Type":"application/json"};class tv extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qe(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Tl extends tv{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wx extends tv{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Pf;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Pf||(Pf={}));const Sd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kx=(e,t,r)=>N(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Tl(Tf(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Tl(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Tl(a,s,o))}}else t(new Wx(Tf(e),e))}),qx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Hx(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Gx(e,t,r,n,s,i){return N(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,qx(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Kx(l,a,n))})})}function Ge(e,t,r,n,s){return N(this,void 0,void 0,function*(){return Gx(e,"POST",t,n,s,r)})}class Qx{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=Sd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return N(this,void 0,void 0,function*(){try{return{data:(yield Ge(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}getIndex(t,r){return N(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}listIndexes(t){return N(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return N(this,void 0,void 0,function*(){try{return{data:(yield Ge(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}}class Jx{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=Sd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return N(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ge(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}getVectors(t){return N(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listVectors(t){return N(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ge(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}queryVectors(t){return N(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteVectors(t){return N(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ge(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}}class Yx{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=Sd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return N(this,void 0,void 0,function*(){try{return{data:(yield Ge(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}getBucket(t){return N(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listBuckets(){return N(this,arguments,void 0,function*(t={}){try{return{data:yield Ge(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return N(this,void 0,void 0,function*(){try{return{data:(yield Ge(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}}class Xx extends Yx{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Zx(this.url,this.headers,t,this.fetch)}}class Zx extends Qx{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return N(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return N(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return N(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return N(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new eE(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class eE extends Jx{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return N(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return N(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return N(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return N(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return N(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class tE extends Bx{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new zx(this.url,this.headers,t,this.fetch)}get vectors(){return new Xx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vx(this.url+"/iceberg",this.headers,this.fetch)}}const rE="2.84.0";let Ks="";typeof Deno<"u"?Ks="deno":typeof document<"u"?Ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ks="react-native":Ks="node";const nE={"X-Client-Info":`supabase-js-${Ks}/${rE}`},sE={headers:nE},iE={schema:"public"},oE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aE={},lE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uE=()=>Headers,cE=(e,t,r)=>{const n=lE(r),s=uE();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function dE(e){return e.endsWith("/")?e:e+"/"}function hE(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function fE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const rv="2.84.0",An=30*1e3,nc=3,jl=nc*An,pE="http://localhost:9999",gE="supabase.auth.token",mE={"X-Client-Info":`gotrue-js/${rv}`},sc="X-Supabase-Api-Version",nv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vE=10*60*1e3;class Ri extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wE extends Ri{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _E(e){return I(e)&&e.name==="AuthApiError"}class Gr extends Ri{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class $r extends Ri{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class He extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bE(e){return I(e)&&e.name==="AuthSessionMissingError"}class On extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xo extends $r{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Eo extends $r{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SE(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class jf extends $r{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ic extends $r{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Al(e){return I(e)&&e.name==="AuthRetryableFetchError"}class Af extends $r{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class oc extends $r{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nf=` 	
\r=`.split(""),xE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nf.length;t+=1)e[Nf[t].charCodeAt(0)]=-2;for(let t=0;t<_a.length;t+=1)e[_a[t].charCodeAt(0)]=t;return e})();function If(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_a[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_a[n]),t.queuedBits-=6}}function sv(e,t,r){const n=xE[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lf(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{CE(o,n,r)};for(let o=0;o<e.length;o+=1)sv(e.charCodeAt(o),s,i);return t.join("")}function EE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kE(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}EE(n,t)}}function CE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ts(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)sv(e.charCodeAt(s),r,n);return new Uint8Array(t)}function OE(e){const t=[];return kE(e,r=>t.push(r)),new Uint8Array(t)}function Zr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>If(s,r,n)),If(null,r,n),t.join("")}function RE(e){return Math.round(Date.now()/1e3)+e}function PE(){return Symbol("auth-callback")}const be=()=>typeof window<"u"&&typeof document<"u",zr={tested:!1,writable:!1},iv=()=>{if(!be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zr.tested)return zr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zr.tested=!0,zr.writable=!0}catch{zr.tested=!0,zr.writable=!1}return zr.writable};function TE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const ov=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Nn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Br=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},tr=async(e,t)=>{await e.removeItem(t)};class Ka{constructor(){this.promise=new Ka.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ka.promiseConstructor=Promise;function Nl(e){const t=e.split(".");if(t.length!==3)throw new oc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yE.test(t[n]))throw new oc("JWT not in base64url format");return{header:JSON.parse(Lf(t[0])),payload:JSON.parse(Lf(t[1])),signature:ts(t[2]),raw:{header:t[0],payload:t[1]}}}async function AE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function NE(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function IE(e){return("0"+e.toString(16)).substr(-2)}function LE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,IE).join("")}async function $E(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function UE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $E(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(e,t,r=!1){const n=LE();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Nn(e,`${t}-code-verifier`,s);const i=await UE(n);return[i,n===i?"plain":"s256"]}const DE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ME(e){const t=e.headers.get(sc);if(!t||!t.match(DE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pn(e){if(!BE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Il(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VE(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function $f(e){return JSON.parse(JSON.stringify(e))}const Hr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WE=[502,503,504];async function Uf(e){var t;if(!jE(e))throw new ic(Hr(e),0);if(WE.includes(e.status))throw new ic(Hr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Gr(Hr(i),i)}let n;const s=ME(e);if(s&&s.getTime()>=nv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Af(Hr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new He}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Af(Hr(r),e.status,r.weak_password.reasons);throw new wE(Hr(r),e.status||500,n)}const HE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[sc]||(i[sc]=nv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await KE(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function KE(e,t,r,n,s,i){const o=HE(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new ic(Hr(l),0)}if(a.ok||await Uf(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Uf(l)}}function ct(e){var t;let r=null;QE(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=RE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Df(e){const t=ct(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qE(e){return{data:e,error:null}}function GE(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Rs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Mf(e){return e}function QE(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ll=["global","local","others"];class JE{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ov(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ll[0]){if(Ll.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ll.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ar})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Rs(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:GE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ar})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Mf});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Pn(t);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ar})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pn(t);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ar})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pn(t);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ar})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pn(t.userId);try{const{data:r,error:n}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pn(t.userId),Pn(t.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Mf});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Ff(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Tn={debug:!!(globalThis&&iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class av extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YE extends av{}async function XE(e,t,r){Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Tn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ZE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ek(e){return parseInt(e,16)}function tk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function rk(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=lv(e.address),w=c?`${c}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${w} wants you to sign in with your Ethereum account:
${p}

${y}`;let g=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);f+=`
- ${m}`}g+=f}return`${v}
${g}`}class ce extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ba extends ce{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function nk({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ce({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ce({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ce({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ce({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ce({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ce({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ce({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(uv(o)){if(i.rp.id!==o)return new ce({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ce({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function sk({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ce({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(uv(n)){if(r.rpId!==n)return new ce({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ik{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ok=new ik;function ak(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Rs(e,["challenge","user","excludeCredentials"]),i=ts(t).buffer,o=Object.assign(Object.assign({},r),{id:ts(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ts(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function lk(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Rs(e,["challenge","allowCredentials"]),s=ts(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ts(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function uk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Zr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Zr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ck(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Zr(new Uint8Array(s.authenticatorData)),clientDataJSON:Zr(new Uint8Array(s.clientDataJSON)),signature:Zr(new Uint8Array(s.signature)),userHandle:s.userHandle?Zr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zf(){var e,t;return!!(be()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function dk(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ba("Browser returned unexpected credential type",t)}:{data:null,error:new ba("Empty credential response",t)}}catch(t){return{data:null,error:nk({error:t,options:e})}}}async function hk(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ba("Browser returned unexpected credential type",t)}:{data:null,error:new ba("Empty credential response",t)}}catch(t){return{data:null,error:sk({error:t,options:e})}}}const fk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sa(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=Sa(a,o):n[i]=Sa(o)}else n[i]=o}return n}function gk(e,t){return Sa(fk,e,t||{})}function mk(e,t){return Sa(pk,e,t||{})}class yk{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??ok.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=gk(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await dk({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=mk(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await hk(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Gr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ri("rpId is required for WebAuthn authentication")};try{if(!zf())return{data:null,error:new Gr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Gr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ri("rpId is required for WebAuthn registration")};try{if(!zf())return{data:null,error:new Gr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Gr("Unexpected error in register",o)}}}}ZE();const vk={url:pE,storageKey:gE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Bf(e,t,r){return await r()}const jn={};class Pi{get jwks(){var t,r;return(r=(t=jn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=jn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},vk),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Pi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Pi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&be()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new JE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ov(i.fetch),this.lock=i.lock||Bf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:be()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=XE:this.lock=Bf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(be()&&(r=TE(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),be()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),SE(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new Gr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ct}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Rn(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:ct})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ct})}else throw new xo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Df})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Df})}else throw new xo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new On;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,u,c,d,h;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:y,wallet:v,statement:g,options:f}=t;let m;if(be())if(typeof v=="object")m=v;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")m=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=v}const b=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),E=await m.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=lv(E[0]);let C=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const U=await m.request({method:"eth_chainId"});C=ek(U)}const R={domain:b.host,address:k,statement:g,uri:b.href,version:"1",chainId:C,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=f==null?void 0:f.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=rk(R),w=await m.request({method:"personal_sign",params:[tk(p),k]})}try{const{data:y,error:v}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ct});if(v)throw v;if(!y||!y.session||!y.user){const g=new On;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(I(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,s,i,o,a,l,u,c,d,h,p;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:v,wallet:g,statement:f,options:m}=t;let b;if(be())if(typeof g=="object")b=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const E=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),f?{statement:f}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:v,error:g}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Zr(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ct});if(g)throw g;if(!v||!v.session||!v.user){const f=new On;return this._returnResult({data:{user:null,session:null},error:f})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(I(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Br(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ct});if(await tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new On;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ct}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new On;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Rn(this.storage,this.storageKey));const{error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new xo("You must provide either an email or phone number.")}catch(a){if(I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ct});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Rn(this.storage,this.storageKey));const u=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:qE});return!((i=u.data)===null||i===void 0)&&i.url&&be()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(I(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new He;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(I(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new xo("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Br(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Il()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=VE(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ar}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new He}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ar})})}catch(r){if(I(r))return bE(r)&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new He;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Rn(this.storage,this.storageKey));const{data:u,error:c}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ar});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(I(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new He;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Nl(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new He;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!be())throw new Eo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Eo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Eo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jf("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Eo("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const p=h-c;p*1e3<=An&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const w=h-d;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,c);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Br(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(_E(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=PE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Rn(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return be()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(I(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,d=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ct}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new On}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await NE(async s=>(s>0&&await AE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ct})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Al(i)&&Date.now()+o-n<An})}catch(n){if(this._debug(r,"error",n),I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),be()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Br(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Nn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Il()}else if(s&&!s.user&&!s.user){const o=await Br(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await tr(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,s)):s.user=Il()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${jl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Al(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new He;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ka;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new He;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={data:null,error:i};return Al(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=$f(s);await Nn(this.storage,this.storageKey,i)}else{const s=$f(r);await Nn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await tr(this.storage,this.storageKey),await tr(this.storage,this.storageKey+"-code-verifier"),await tr(this.storage,this.storageKey+"-user"),this.userStorage&&await tr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&be()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),An);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/An);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${An}ms, refresh threshold is ${nc} ticks`),s<=nc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof av)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!be()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Rn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?uk(t.webauthn.credential_response):ck(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ak(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:lk(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Nl(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new He})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new He});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&be()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new He});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&be()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new He})})}catch(t){if(I(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new He})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+vE>s)return n;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return this._returnResult({data:null,error:w});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Nl(n);r!=null&&r.allowExpired||FE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=zE(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,OE(`${a}.${l}`)))throw new oc("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}}Pi.nextInstanceID={};const wk=Pi;class _k extends wk{constructor(t){super(t)}}class bk{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=fE(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:iE,realtime:aE,auth:Object.assign(Object.assign({},oE),{storageKey:l}),global:sE},c=hE(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=cE(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new px(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new tE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new dx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _k({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new jx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sk=(e,t,r)=>new bk(e,t,r);function xk(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}xk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cv=void 0,Ek=void 0,Ti=!!cv,bt=Ti?Sk(cv,Ek,{auth:{persistSession:!1}}):null;function xd(e,t){var n;const r=t.map(s=>`- ${s.title} (${s.type}): ${s.url}`);return[`Topic: ${e.title}`,`Description: ${e.description}`,(n=e.outcomes)!=null&&n.length?`Outcomes: ${e.outcomes.join("; ")}`:null,r.length?`Existing resources:
${r.join(`
`)}`:null].filter(Boolean).join(`
`)}function kk(e,t){return`You are an expert technical educator. Write a concise learning article for the topic below.

Return a JSON object with:
{
  "title": "string",
  "sections": [{ "heading": "string", "paragraphs": ["string"] }],
  "estimated_reading_minutes": number
}

Keep it beginner/intermediate friendly, actionable, and tied to the topic context.

${xd(e,t)}`}function Ck(e,t){return`You are an engaging instructor. Write a script for an audio lesson for the topic below.

Return a JSON object with:
{
  "title": "string",
  "script": "full narration text suitable to be read aloud",
  "estimated_duration_minutes": number
}

Use friendly, clear language and add light signposting between sections.

${xd(e,t)}`}function Ok(e,t){return`You are creating a short formative quiz for the topic below.

Return a JSON object with:
{
  "title": "string",
  "questions": [
    {
      "question": "string",
      "choices": ["string"],
      "correct_answer": "string",
      "explanation": "string"
    }
  ],
  "estimated_duration_minutes": number
}

Keep questions lightweight and focused on key concepts.

${xd(e,t)}`}function Rk(e,t){const n=(Array.isArray(e==null?void 0:e.sections)?e.sections:[]).map(s=>({heading:typeof(s==null?void 0:s.heading)=="string"?s.heading:"",paragraphs:Array.isArray(s==null?void 0:s.paragraphs)?s.paragraphs.map(i=>String(i)):[]}));return{title:typeof(e==null?void 0:e.title)=="string"?e.title:t,sections:n,estimated_reading_minutes:Number((e==null?void 0:e.estimated_reading_minutes)??(e==null?void 0:e.estimatedReadingMinutes)??5)}}function Pk(e,t){return{title:typeof(e==null?void 0:e.title)=="string"?e.title:t,script:typeof(e==null?void 0:e.script)=="string"?e.script:"",estimated_duration_minutes:Number((e==null?void 0:e.estimated_duration_minutes)??(e==null?void 0:e.estimatedDurationMinutes)??5)}}function Tk(e,t){const n=(Array.isArray(e==null?void 0:e.questions)?e.questions:[]).map(s=>({question:typeof(s==null?void 0:s.question)=="string"?s.question:"",choices:Array.isArray(s==null?void 0:s.choices)?s.choices.map(i=>String(i)):[],correct_answer:typeof(s==null?void 0:s.correct_answer)=="string"?s.correct_answer:typeof(s==null?void 0:s.correctAnswer)=="string"?s.correctAnswer:"",explanation:typeof(s==null?void 0:s.explanation)=="string"?s.explanation:typeof(s==null?void 0:s.explanationText)=="string"?s.explanationText:void 0}));return{title:typeof(e==null?void 0:e.title)=="string"?e.title:`${t} Quiz`,questions:n,estimated_duration_minutes:Number((e==null?void 0:e.estimated_duration_minutes)??(e==null?void 0:e.estimatedDurationMinutes)??5)}}async function jk(e,t){const r=e.learning_resources??[];let n="";if(t==="summary_article"){n=kk(e,r);const s=await ri(n);return Rk(s,e.title)}if(t==="audio_lesson"){n=Ck(e,r);const s=await ri(n);return Pk(s,e.title)}if(t==="quiz"){n=Ok(e,r);const s=await ri(n);return Tk(s,e.title)}throw new Error(`Unsupported asset type: ${t}`)}const Kn=new Map;async function Ak(e,t){if(!bt)return null;const{data:r,error:n}=await bt.from("curricula").select("curriculum, config_hash").eq("language_slug",e).maybeSingle();return n?(console.warn("Failed to read curriculum cache from Supabase",n),null):!(r!=null&&r.curriculum)||t&&r.config_hash&&r.config_hash!==t?null:r.curriculum}async function Nk(e,t,r,n){if(!bt)return null;let s=bt.from("generated_assets").select("*").eq("language_slug",e).eq("topic_id",t).eq("asset_type",r);s=n?s.eq("config_hash",n):s.is("config_hash",null);const{data:i,error:o}=await s.maybeSingle();return o?(console.warn("Failed to read generated asset cache from Supabase",o),null):i??null}async function Ik(e,t,r){if(!bt)return;const{error:n}=await bt.from("curricula").upsert({language_slug:e,curriculum:t,config_hash:r??null,updated_at:new Date().toISOString()}).select().single();n&&console.warn("Failed to persist curriculum cache to Supabase",n)}async function Lk(e,t,r,n,s,i){if(!bt)return null;const{data:o,error:a}=await bt.from("generated_assets").upsert({language_slug:e,topic_id:t,asset_type:r,content:n,audio_url:s??null,config_hash:i??null,updated_at:new Date().toISOString()}).select().single();return a?(console.warn("Failed to persist generated asset cache to Supabase",a),null):o??null}async function dv(e,t){var o;const r=await Wa(e),n=((o=r==null?void 0:r.trustProfiles)==null?void 0:o.trustProfiles)??(r==null?void 0:r.trustProfiles)??void 0,s=await JS(e),i=await XS(e,s,n);return Ti&&await Ik(e,i,t),i}async function hv(){const[e,t]=await Promise.all([QS(),pv().catch(()=>[])]),r=new Map(e.map(i=>[i.slug,i.label])),n=new Set,s=[];return t.forEach(i=>{const o=At(i.language_slug);n.has(o)||(s.push({slug:o,label:r.get(o)??o}),n.add(o))}),e.forEach(i=>{n.has(i.slug)||(s.push(i),n.add(i.slug))}),s}async function fv(e){const t=At(e);if(!Kn.has(t)){const n=(async()=>{const s=await hd(t),i=await Ak(t,s);return i||dv(t,s)})();Kn.set(t,n),n.catch(()=>{Kn.delete(t)})}return await Kn.get(t)}function $k(e,t){const r=n=>{if(n.id===t)return n;for(const s of n.subtopics??[]){const i=r(s);if(i)return i}return null};for(const n of e.overall_learning_path??[])for(const s of n.topics??[]){const i=r(s);if(i)return i}return console.warn(`Topic with id "${t}" not found in curriculum ${e.language}`),null}async function Uk(e){const t=At(e),r=await hd(t),n=dv(t,r);return Kn.set(t,n),n.catch(()=>Kn.delete(t)),n}async function Dk(e){return e&&console.warn("Audio generation is not implemented; returning null audio_url placeholder."),null}async function Vf(e,t,r){var d;const n=At(e),s=await hd(n),i=await Nk(n,t,r,s);if(i)return{...i,audio_url:i.audio_url??void 0,created_at:i.created_at??new Date().toISOString(),updated_at:i.updated_at??new Date().toISOString()};const o=await fv(n),a=$k(o,t);if(!a)throw new Error(`Topic ${t} not found in curriculum for ${n}`);const l=await jk(a,r),u=r==="audio_lesson"&&typeof(l==null?void 0:l.script)=="string"?await Dk(l.script):null,c=new Date().toISOString();if(Ti&&bt){const h=await Lk(n,t,r,l,u,s);if(h)return{...h,audio_url:h.audio_url??void 0,created_at:h.created_at??c,updated_at:h.updated_at??c}}return{id:((d=crypto.randomUUID)==null?void 0:d.call(crypto))??`${Date.now()}`,language_slug:n,topic_id:t,asset_type:r,content:l,audio_url:u??void 0,created_at:c,updated_at:c}}async function pv(){if(!bt)return[];const{data:e,error:t}=await bt.from("curricula").select("language_slug, updated_at, config_hash").order("updated_at",{ascending:!1});return t?(console.warn("Failed to list cached curricula from Supabase",t),[]):(e??[]).map(r=>({language_slug:At(r.language_slug),updated_at:r.updated_at,config_hash:r.config_hash}))}function Mk(){const{data:e=[],isLoading:t,error:r}=ma({queryKey:["languages"],queryFn:hv,staleTime:1/0,refetchOnWindowFocus:!1}),n={java:"The leading language for enterprise software, Android development, and large-scale systems.",react:"A JavaScript library for building user interfaces, maintained by Meta and a community of individual developers and companies."};return S.jsxs("div",{className:"container mx-auto p-4 max-w-3xl",children:[S.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"Choose a Language to Learn"}),S.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-8",children:"Select a programming language or framework to explore its canonical learning path and curated curriculum."}),r&&S.jsx("div",{className:"text-red-500 text-center mb-4 text-sm",children:r.message??"Unable to load languages"}),t&&S.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:"Loading languages..."}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(s=>S.jsxs(hn,{children:[S.jsxs(fn,{children:[S.jsx(pn,{children:s.label||s.slug.charAt(0).toUpperCase()+s.slug.slice(1)}),S.jsx(es,{children:n[s.slug.toLowerCase()]||"A popular programming language."})]}),S.jsx(Wi,{children:S.jsx(fa,{to:`/language/${s.slug}`,children:S.jsx(jt,{className:"w-full",children:"View Curriculum"})})})]},s.slug))}),S.jsx(Va,{className:"my-8"}),S.jsx("div",{className:"text-center text-sm text-gray-500",children:"More languages coming soon!"})]})}/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>x.createElement("svg",{ref:c,...Fk,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${zk(e)}`,a].join(" "),...u},[...t.map(([d,h])=>x.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Ur("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Ur("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=Ur("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Ur("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Ur("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Ur("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Ur("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.359.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=Ur("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);function Ed(e,t=[]){let r=[];function n(i,o){const a=x.createContext(o),l=r.length;r=[...r,o];const u=d=>{var g;const{scope:h,children:p,...w}=d,y=((g=h==null?void 0:h[e])==null?void 0:g[l])||a,v=x.useMemo(()=>w,Object.values(w));return S.jsx(y.Provider,{value:v,children:p})};u.displayName=i+"Provider";function c(d,h){var y;const p=((y=h==null?void 0:h[e])==null?void 0:y[l])||a,w=x.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,c]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,Gk(s,...t)]}function Gk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Hf(e){const t=Qk(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,a=x.Children.toArray(i),l=a.find(Yk);if(l){const u=l.props.children,c=a.map(d=>d===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:d);return S.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,c):null})}return S.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Qk(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=Zk(s),a=Xk(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Vi(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jk=Symbol("radix.slottable");function Yk(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jk}function Xk(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Zk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function eC(e){const t=e+"CollectionProvider",[r,n]=Ed(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:v,children:g}=y,f=le.useRef(null),m=le.useRef(new Map).current;return S.jsx(s,{scope:v,itemMap:m,collectionRef:f,children:g})};o.displayName=t;const a=e+"CollectionSlot",l=Hf(a),u=le.forwardRef((y,v)=>{const{scope:g,children:f}=y,m=i(a,g),b=Ci(v,m.collectionRef);return S.jsx(l,{ref:b,children:f})});u.displayName=a;const c=e+"CollectionItemSlot",d="data-radix-collection-item",h=Hf(c),p=le.forwardRef((y,v)=>{const{scope:g,children:f,...m}=y,b=le.useRef(null),E=Ci(v,b),k=i(c,g);return le.useEffect(()=>(k.itemMap.set(b,{ref:b,...m}),()=>void k.itemMap.delete(b))),S.jsx(h,{[d]:"",ref:E,children:f})});p.displayName=c;function w(y){const v=i(e+"CollectionConsumer",y);return le.useCallback(()=>{const f=v.collectionRef.current;if(!f)return[];const m=Array.from(f.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((k,C)=>m.indexOf(k.ref.current)-m.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},w,n]}function mv(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var ji=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},tC=ka[" useInsertionEffect ".trim().toString()]||ji;function kd({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=rC({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const c=x.useRef(e!==void 0);x.useEffect(()=>{const d=c.current;d!==a&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,n])}const u=x.useCallback(c=>{var d;if(a){const h=nC(c)?c(e):c;h!==e&&((d=o.current)==null||d.call(o,h))}else i(c)},[a,e,i,o]);return[l,u]}function rC({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return tC(()=>{i.current=t},[t]),x.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function nC(e){return typeof e=="function"}function sC(e){const t=iC(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,a=x.Children.toArray(i),l=a.find(aC);if(l){const u=l.props.children,c=a.map(d=>d===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:d);return S.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,c):null})}return S.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function iC(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=uC(s),a=lC(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Vi(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oC=Symbol("radix.slottable");function aC(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oC}function lC(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function uC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yv=cC.reduce((e,t)=>{const r=sC(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function dC(e){const t=hC(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,a=x.Children.toArray(i),l=a.find(pC);if(l){const u=l.props.children,c=a.map(d=>d===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:d);return S.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,c):null})}return S.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function hC(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=mC(s),a=gC(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Vi(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fC=Symbol("radix.slottable");function pC(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fC}function gC(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function mC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var yC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cd=yC.reduce((e,t)=>{const r=dC(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function vC(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var vv=e=>{const{present:t,children:r}=e,n=wC(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=Ci(n.ref,_C(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};vv.displayName="Presence";function wC(e){const[t,r]=x.useState(),n=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[a,l]=vC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=ko(n.current);i.current=a==="mounted"?u:"none"},[a]),ji(()=>{const u=n.current,c=s.current;if(c!==e){const h=i.current,p=ko(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),ji(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,d=p=>{const y=ko(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(l("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=ko(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ko(e){return(e==null?void 0:e.animationName)||"none"}function _C(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bC=ka[" useId ".trim().toString()]||(()=>{}),SC=0;function wv(e){const[t,r]=x.useState(bC());return ji(()=>{r(n=>n??String(SC++))},[e]),t?`radix-${t}`:""}var qa="Collapsible",[xC,_v]=Ed(qa),[EC,Od]=xC(qa),bv=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[l,u]=kd({prop:n,defaultProp:s??!1,onChange:o,caller:qa});return S.jsx(EC,{scope:r,disabled:i,contentId:wv(),open:l,onOpenToggle:x.useCallback(()=>u(c=>!c),[u]),children:S.jsx(Cd.div,{"data-state":Pd(l),"data-disabled":i?"":void 0,...a,ref:t})})});bv.displayName=qa;var Sv="CollapsibleTrigger",xv=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Od(Sv,r);return S.jsx(Cd.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Pd(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:mv(e.onClick,s.onOpenToggle)})});xv.displayName=Sv;var Rd="CollapsibleContent",Ev=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Od(Rd,e.__scopeCollapsible);return S.jsx(vv,{present:r||s.open,children:({present:i})=>S.jsx(kC,{...n,ref:t,present:i})})});Ev.displayName=Rd;var kC=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=Od(Rd,r),[a,l]=x.useState(n),u=x.useRef(null),c=Ci(t,u),d=x.useRef(0),h=d.current,p=x.useRef(0),w=p.current,y=o.open||a,v=x.useRef(y),g=x.useRef(void 0);return x.useEffect(()=>{const f=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(f)},[]),ji(()=>{const f=u.current;if(f){g.current=g.current||{transitionDuration:f.style.transitionDuration,animationName:f.style.animationName},f.style.transitionDuration="0s",f.style.animationName="none";const m=f.getBoundingClientRect();d.current=m.height,p.current=m.width,v.current||(f.style.transitionDuration=g.current.transitionDuration,f.style.animationName=g.current.animationName),l(n)}},[o.open,n]),S.jsx(Cd.div,{"data-state":Pd(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:c,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&s})});function Pd(e){return e?"open":"closed"}var CC=bv,OC=xv,RC=Ev,PC=x.createContext(void 0);function TC(e){const t=x.useContext(PC);return e||t||"ltr"}var St="Accordion",jC=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Td,AC,NC]=eC(St),[Ga]=Ed(St,[NC,_v]),jd=_v(),kv=le.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return S.jsx(Td.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?S.jsx(UC,{...i,ref:t}):S.jsx($C,{...s,ref:t})})});kv.displayName=St;var[Cv,IC]=Ga(St),[Ov,LC]=Ga(St,{collapsible:!1}),$C=le.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,l]=kd({prop:r,defaultProp:n??"",onChange:s,caller:St});return S.jsx(Cv,{scope:e.__scopeAccordion,value:le.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:le.useCallback(()=>i&&l(""),[i,l]),children:S.jsx(Ov,{scope:e.__scopeAccordion,collapsible:i,children:S.jsx(Rv,{...o,ref:t})})})}),UC=le.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,a]=kd({prop:r,defaultProp:n??[],onChange:s,caller:St}),l=le.useCallback(c=>a((d=[])=>[...d,c]),[a]),u=le.useCallback(c=>a((d=[])=>d.filter(h=>h!==c)),[a]);return S.jsx(Cv,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:S.jsx(Ov,{scope:e.__scopeAccordion,collapsible:!0,children:S.jsx(Rv,{...i,ref:t})})})}),[DC,Qa]=Ga(St),Rv=le.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,a=le.useRef(null),l=Ci(a,t),u=AC(r),d=TC(s)==="ltr",h=mv(e.onKeyDown,p=>{var R;if(!jC.includes(p.key))return;const w=p.target,y=u().filter(U=>{var P;return!((P=U.ref.current)!=null&&P.disabled)}),v=y.findIndex(U=>U.ref.current===w),g=y.length;if(v===-1)return;p.preventDefault();let f=v;const m=0,b=g-1,E=()=>{f=v+1,f>b&&(f=m)},k=()=>{f=v-1,f<m&&(f=b)};switch(p.key){case"Home":f=m;break;case"End":f=b;break;case"ArrowRight":i==="horizontal"&&(d?E():k());break;case"ArrowDown":i==="vertical"&&E();break;case"ArrowLeft":i==="horizontal"&&(d?k():E());break;case"ArrowUp":i==="vertical"&&k();break}const C=f%g;(R=y[C].ref.current)==null||R.focus()});return S.jsx(DC,{scope:r,disabled:n,direction:s,orientation:i,children:S.jsx(Td.Slot,{scope:r,children:S.jsx(yv.div,{...o,"data-orientation":i,ref:l,onKeyDown:n?void 0:h})})})}),xa="AccordionItem",[MC,Ad]=Ga(xa),Pv=le.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=Qa(xa,r),o=IC(xa,r),a=jd(r),l=wv(),u=n&&o.value.includes(n)||!1,c=i.disabled||e.disabled;return S.jsx(MC,{scope:r,open:u,disabled:c,triggerId:l,children:S.jsx(CC,{"data-orientation":i.orientation,"data-state":Lv(u),...a,...s,ref:t,disabled:c,open:u,onOpenChange:d=>{d?o.onItemOpen(n):o.onItemClose(n)}})})});Pv.displayName=xa;var Tv="AccordionHeader",jv=le.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Qa(St,r),i=Ad(Tv,r);return S.jsx(yv.h3,{"data-orientation":s.orientation,"data-state":Lv(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});jv.displayName=Tv;var ac="AccordionTrigger",Av=le.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Qa(St,r),i=Ad(ac,r),o=LC(ac,r),a=jd(r);return S.jsx(Td.ItemSlot,{scope:r,children:S.jsx(OC,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...n,ref:t})})});Av.displayName=ac;var Nv="AccordionContent",Iv=le.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Qa(St,r),i=Ad(Nv,r),o=jd(r);return S.jsx(RC,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Iv.displayName=Nv;function Lv(e){return e?"open":"closed"}var FC=kv,zC=Pv,BC=jv,$v=Av,VC=Iv;const Uv=FC,Dv=x.forwardRef(({className:e,...t},r)=>S.jsx(zC,{ref:r,className:et("border-b",e),...t}));Dv.displayName="AccordionItem";const Mv=x.forwardRef(({className:e,children:t,...r},n)=>S.jsx(BC,{className:"flex",children:S.jsxs($v,{ref:n,className:et("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,S.jsx(Vk,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Mv.displayName=$v.displayName;const Fv=x.forwardRef(({className:e,children:t,...r},n)=>S.jsx(VC,{ref:n,className:et("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:S.jsx("div",{className:"pb-4 pt-0",children:t})}));Fv.displayName="AccordionContent";const WC=Vm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ii({className:e,variant:t,...r}){return S.jsx("div",{className:et(WC({variant:t}),e),...r})}const HC=e=>{switch(e.toLowerCase()){case"documentation":case"article":case"tutorial":return S.jsx(Wk,{className:"h-4 w-4 mr-2"});case"video":return S.jsx(qk,{className:"h-4 w-4 mr-2"});case"github":return S.jsx(Hk,{className:"h-4 w-4 mr-2"});case"book":return S.jsx(Bk,{className:"h-4 w-4 mr-2"});default:return S.jsx(Kk,{className:"h-4 w-4 mr-2"})}},KC=e=>{switch(e.toLowerCase()){case"video":return"bg-green-500 text-white";case"article":case"documentation":case"tutorial":return"bg-blue-500 text-white";case"github":return"bg-purple-500 text-white";case"book":return"bg-yellow-500 text-black";default:return"bg-gray-500 text-white"}},qC=e=>S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:e.map((t,r)=>S.jsxs(hn,{children:[S.jsxs(fn,{children:[S.jsx(pn,{className:"text-md",children:t.title}),S.jsxs(es,{className:"flex items-center text-sm",children:[S.jsx("span",{className:`px-2 py-0.5 rounded-full ${KC(t.type)} mr-2`,children:t.type}),"| Authority: ",(t.authority_score*100).toFixed(0),"%"]})]}),S.jsxs(Wi,{children:[S.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:t.short_summary}),S.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:S.jsxs(jt,{variant:"outline",className:"w-full",children:[HC(t.type)," View Resource ",S.jsx(gv,{className:"ml-2 h-3 w-3"})]})})]})]},r))});function zv({topic:e,curriculum:t,level:r=0,languageSlug:n}){var o,a,l,u,c,d,h;const s=Ku({mutationFn:()=>Vf(n,e.id,"summary_article")}),i=Ku({mutationFn:()=>Vf(n,e.id,"audio_lesson")});return S.jsxs(Dv,{value:e.id,children:[S.jsx(Mv,{className:`text-left ${r===0?"font-semibold text-base":"text-sm"}`,children:S.jsxs("div",{className:"flex justify-between items-center w-full pr-4",children:[S.jsxs("span",{children:[e.order,". ",e.title]}),e.estimated_hours>0&&S.jsxs(ii,{variant:"outline",className:"ml-2 whitespace-nowrap",children:[e.estimated_hours," hrs"]})]})}),S.jsxs(Fv,{className:"pl-4",children:[S.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),e.outcomes&&e.outcomes.length>0&&S.jsxs("div",{className:"mb-2",children:[S.jsx("span",{className:"font-medium text-xs text-muted-foreground",children:"Outcomes: "}),S.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.outcomes.map((p,w)=>S.jsx(ii,{variant:"secondary",className:"px-2 py-0.5 text-xs",children:p},w))})]}),e.example_exercises&&e.example_exercises.length>0&&S.jsxs("div",{className:"mb-2",children:[S.jsx("span",{className:"font-medium text-xs text-muted-foreground",children:"Exercises: "}),S.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.example_exercises.map((p,w)=>S.jsx(ii,{variant:"outline",className:"px-2 py-0.5 text-xs",children:p},w))})]}),e.helpful_references&&e.helpful_references.length>0&&S.jsxs("div",{className:"mb-2",children:[S.jsx("span",{className:"font-medium text-xs text-muted-foreground",children:"References: "}),S.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.helpful_references.map((p,w)=>{var v;const y=(v=t.canonical_sources)==null?void 0:v.find(g=>g.id===p.sourceId);return y?S.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-500 hover:underline text-xs",title:`${y.title} (${y.steward}): ${y.short_summary}`,children:[y.title," ",S.jsx(gv,{className:"ml-1 h-3 w-3"})]},w):null})})]}),e.learning_resources&&e.learning_resources.length>0&&S.jsxs("div",{className:"mt-4",children:[S.jsx("span",{className:"font-medium text-sm",children:"Curated Learning Materials:"}),qC(e.learning_resources)]}),S.jsxs("div",{className:"mt-3 space-y-2",children:[S.jsx("span",{className:"font-medium text-sm",children:"Generate Learning Material:"}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.jsx(jt,{size:"sm",variant:"outline",onClick:()=>s.mutate(),disabled:s.isPending,children:s.isPending?"Generating summary":"Generate Summary"}),S.jsx(jt,{size:"sm",variant:"outline",onClick:()=>i.mutate(),disabled:i.isPending,children:i.isPending?"Generating audio":"Generate Audio Lesson"})]}),s.isError&&S.jsx("p",{className:"text-xs text-red-500",children:"Unable to generate summary right now."}),s.data&&S.jsxs("div",{className:"mt-2 text-sm border p-2 rounded bg-muted",children:[S.jsx("h4",{className:"font-semibold mb-1",children:(o=s.data.content)==null?void 0:o.title}),(l=(a=s.data.content)==null?void 0:a.sections)==null?void 0:l.map((p,w)=>{var y;return S.jsxs("div",{className:"mb-2",children:[S.jsx("p",{className:"font-medium",children:p.heading}),(y=p.paragraphs)==null?void 0:y.map((v,g)=>S.jsx("p",{className:"text-xs text-muted-foreground",children:v},g))]},w)})]}),i.isError&&S.jsx("p",{className:"text-xs text-red-500",children:"Unable to generate audio lesson right now."}),((u=i.data)==null?void 0:u.audio_url)&&S.jsx("audio",{controls:!0,src:i.data.audio_url,className:"mt-2 w-full"}),!((c=i.data)!=null&&c.audio_url)&&((h=(d=i.data)==null?void 0:d.content)==null?void 0:h.script)&&S.jsx("p",{className:"text-xs text-muted-foreground whitespace-pre-wrap",children:i.data.content.script})]}),e.subtopics&&e.subtopics.length>0&&S.jsx("div",{className:"pl-4 border-l ml-2 mt-2",children:S.jsx(Uv,{type:"multiple",className:"w-full",children:e.subtopics.map(p=>S.jsx(zv,{topic:p,curriculum:t,level:r+1,languageSlug:n},p.id))})})]})]},e.id)}function GC({curriculum:e}){const t=e.language;return S.jsxs("div",{className:"mb-8",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Curriculum Breakdown"}),S.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Structured path from Beginner to Expert, with estimated hours per level and key topics."}),S.jsx("div",{className:"space-y-6",children:e.overall_learning_path.map(r=>S.jsxs(hn,{children:[S.jsx(fn,{children:S.jsxs(pn,{className:"flex justify-between items-center",children:[S.jsx("span",{children:r.level}),S.jsxs(ii,{className:"bg-blue-500 text-white",children:[r.estimated_hours," hrs est."]})]})}),S.jsx(Wi,{children:S.jsx(Uv,{type:"multiple",className:"w-full",children:r.topics.map(n=>S.jsx(zv,{topic:n,curriculum:e,level:0,languageSlug:t},n.id))})})]},r.level))})]})}function Co({className:e,...t}){return S.jsx("div",{className:et("animate-pulse rounded-md bg-muted",e),...t})}function QC(){const{slug:e}=q_(),{data:t,isLoading:r,isError:n,error:s}=ma({queryKey:["curriculum",e],queryFn:()=>fv(e),enabled:!!e});if(n)return S.jsxs("div",{className:"container mx-auto p-8 text-center",children:[S.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error"}),S.jsxs("p",{className:"text-red-500",children:["Failed to load curriculum: ",s==null?void 0:s.message]}),S.jsx(fa,{to:"/",children:S.jsxs(jt,{variant:"link",className:"mt-4",children:[S.jsx(Wf,{className:"mr-2 h-4 w-4"}),"Back to Languages"]})})]});const i=r;return S.jsxs("div",{className:"container mx-auto p-4 max-w-5xl",children:[S.jsx(fa,{to:"/",children:S.jsxs(jt,{variant:"link",className:"mb-4",children:[S.jsx(Wf,{className:"mr-2 h-4 w-4"}),"Back to Languages"]})}),i?S.jsxs("div",{className:"space-y-4",children:[S.jsx(Co,{className:"h-10 w-3/4"}),S.jsx(Co,{className:"h-6 w-1/2"}),S.jsx(Co,{className:"h-[200px] w-full"}),S.jsx(Co,{className:"h-[300px] w-full"})]}):S.jsxs(S.Fragment,{children:[S.jsxs("h1",{className:"text-4xl font-extrabold mb-2",children:[e==null?void 0:e.toUpperCase()," - Canonical Learning Hub"]}),S.jsx("p",{className:"text-md text-muted-foreground mb-6",children:(t==null?void 0:t.explanation)||"AI-generated curriculum for "+e}),S.jsx(Va,{className:"my-6"}),t&&S.jsx(GC,{curriculum:t})]})]})}function JC(){const e=cd(),{data:t=[],isLoading:r,error:n}=ma({queryKey:["languages"],queryFn:hv}),{data:s=[],isLoading:i,error:o,refetch:a}=ma({queryKey:["cachedCurricula"],queryFn:pv}),l=Ku({mutationFn:d=>Uk(d),onSuccess:(d,h)=>{e.invalidateQueries({queryKey:["curriculum",h]}),a()}}),u=x.useMemo(()=>{const d=new Map;return s.forEach(h=>{d.set(h.language_slug,{updated_at:h.updated_at,config_hash:h.config_hash})}),d},[s]),c=d=>l.isPending&&l.variables===d;return S.jsxs("div",{className:"container mx-auto p-4 max-w-5xl space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold",children:"Curriculum Cache"}),S.jsx("p",{className:"text-sm text-muted-foreground",children:"Supabase holds the latest generated curricula. Use this page to re-run the LLM and refresh cached rows."})]}),S.jsx(jt,{variant:"outline",onClick:()=>a(),disabled:i,children:"Reload cache"})]}),!Ti&&S.jsx(hn,{children:S.jsxs(fn,{children:[S.jsx(pn,{children:"Supabase is not configured"}),S.jsx(es,{children:"Add VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to your environment to enable caching."})]})}),(n||o)&&S.jsx(hn,{children:S.jsxs(fn,{children:[S.jsx(pn,{children:"Unable to load data"}),S.jsx(es,{children:(n==null?void 0:n.message)||(o==null?void 0:o.message)||"Unknown error loading cache state."})]})}),S.jsx(Va,{}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(r||i)&&S.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading cache data..."}),!r&&t.length===0&&S.jsx("div",{className:"text-sm text-muted-foreground",children:"No languages available to refresh yet."}),t.map(d=>{const h=u.get(d.slug),p=h!=null&&h.updated_at?new Date(h.updated_at).toLocaleString():"Never";return S.jsxs(hn,{className:"flex flex-col",children:[S.jsxs(fn,{children:[S.jsxs(pn,{className:"flex items-center justify-between",children:[S.jsx("span",{children:d.label||d.slug}),S.jsx(ii,{variant:h?"default":"secondary",children:h?"Cached":"Missing"})]}),S.jsx(es,{children:d.slug})]}),S.jsxs(Wi,{className:"flex-1",children:[S.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",p]}),(h==null?void 0:h.config_hash)&&S.jsxs("p",{className:"text-xs text-muted-foreground break-all mt-2",children:["Config hash: ",h.config_hash.slice(0,10),""]})]}),S.jsxs(Qm,{className:"flex justify-end gap-2",children:[S.jsx(jt,{variant:"outline",size:"sm",onClick:()=>a(),disabled:i,children:"Refresh status"}),S.jsx(jt,{size:"sm",onClick:()=>l.mutate(d.slug),disabled:!Ti||c(d.slug),children:c(d.slug)?"Refreshing":"Refresh cache via LLM"})]})]},d.slug)})]})]})}function YC(){return S.jsx(mb,{children:S.jsxs("div",{className:"container mx-auto p-4",children:[S.jsx("header",{className:"flex justify-between items-center mb-6",children:S.jsx(fa,{to:"/",children:S.jsx("h1",{className:"text-3xl font-bold",children:"Intellibus Curriculum"})})}),S.jsx("main",{children:S.jsxs(ub,{children:[S.jsx(Mo,{path:"/",element:S.jsx(Mk,{})}),S.jsx(Mo,{path:"/language/:slug",element:S.jsx(QC,{})})," ",S.jsx(Mo,{path:"/cache",element:S.jsx(JC,{})})]})})]})})}const XC=new Bb;$l.createRoot(document.getElementById("root")).render(S.jsx(le.StrictMode,{children:S.jsx(Vb,{client:XC,children:S.jsx(YC,{})})}));
